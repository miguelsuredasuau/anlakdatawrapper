!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/account/myteams",e):(t="undefined"!=typeof globalThis?globalThis:t||self)["account/myteams"]=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(){}function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){for(var n in e)t[n]=1;return t}function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function u(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function s(){return document.createDocumentFragment()}function l(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return document.createComment("")}function d(t,e,n,r){t.addEventListener(e,n,r)}function p(t,e,n,r){t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function v(t,e){t.data=""+e}function g(t,e,n){t.style.setProperty(e,n)}function _(t,e){for(var n=0;n<t.options.length;n+=1){var r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function b(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function y(t,e,n){t.classList[n?"add":"remove"](e)}function w(t,n){var o,a=n.token={};function c(t,o,c,i){if(n.token===a){n.resolved=c&&e({},c,i);var u=r(r({},n.ctx),n.resolved),s=t&&(n.current=t)(n.component,u);n.block&&(n.blocks?n.blocks.forEach((function(t,e){e!==o&&t&&t.o((function(){t.d(1),n.blocks[e]=null}))})):n.block.d(1),s.c(),s[s.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=s,n.blocks&&(n.blocks[o]=s)}}if((o=t)&&"function"==typeof o.then){if(t.then((function(t){c(n.then,1,n.value,t)}),(function(t){c(n.catch,2,n.error,t)})),n.current!==n.pending)return c(n.pending,0),!0}else{if(n.current!==n.then)return c(n.then,1,n.value,t),!0;n.resolved=e({},n.value,t)}}function T(){return Object.create(null)}function N(e,n){return e!=e?n==n:e!==n||e&&"object"===t(e)||"function"==typeof e}function O(t,e){return t!=t?e==e:t!==e}function x(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var o=n[r];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function k(t){t._lock=!0,E(t._beforecreate),E(t._oncreate),E(t._aftercreate),t._lock=!1}function C(){return this._state}function j(t,e){t._handlers=T(),t._slots=T(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function S(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function E(t){for(;t&&t.length;)t.shift()()}var L={destroy:function(t){this.destroy=n,this.fire("destroy"),this.set=n,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:C,fire:x,on:S,set:function(t){this._set(r({},t)),this.root._lock||k(this.root)},_recompute:n,_set:function(t){var e=this._state,n={},o=!1;for(var a in t=r(this._staged,t),this._staged={},t)this._differs(t[a],e[a])&&(n[a]=o=!0);o&&(this._state=r(r({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){r(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:N},P={};function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(P[t]=window.__dw.vis.meta.locale||{}):P[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function H(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),P[n]||A(n),!P[n][t])return"MISSING:"+t;var r=P[n][t];return"string"==typeof r&&arguments.length>2&&(r=r.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),r}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t||t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function R(t,e){var n;return{c:function(){(n=l("label")).className="control-label svelte-1nkiaxn"},m:function(t,r){c(t,n,r),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&i(n)}}}function D(t,e){var n;return{c:function(){(n=l("div")).className="help success svelte-1nkiaxn"},m:function(t,r){c(t,n,r),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&i(n)}}}function U(t,e){var n;return{c:function(){(n=l("div")).className="help error svelte-1nkiaxn"},m:function(t,r){c(t,n,r),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&i(n)}}}function I(t,e){var n;return{c:function(){(n=l("div")).className="help svelte-1nkiaxn"},m:function(t,r){c(t,n,r),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&i(n)}}}function B(t){var e,n,o,u,s,m,d,p,h,v,_,b,w;j(this,t),this._state=r({label:"",help:"",error:!1,success:!1,width:"auto",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,h=e._slotted.default,v=n.label&&R(0,n),_=n.success&&D(0,n),b=n.error&&U(0,n),w=!n.success&&!n.error&&n.help&&I(0,n),{c:function(){o=l("div"),v&&v.c(),u=f("\n    "),s=l("div"),m=f("\n    "),_&&_.c(),d=f(" "),b&&b.c(),p=f(" "),w&&w.c(),s.className="form-controls svelte-1nkiaxn",o.className="form-block svelte-1nkiaxn",g(o,"width",n.width),o.dataset.uid=n.uid,y(o,"success",n.success),y(o,"error",n.error)},m:function(t,e){c(t,o,e),v&&v.m(o,null),a(o,u),a(o,s),h&&a(s,h),a(o,m),_&&_.m(o,null),a(o,d),b&&b.m(o,null),a(o,p),w&&w.m(o,null)},p:function(t,e){e.label?v?v.p(t,e):((v=R(0,e)).c(),v.m(o,u)):v&&(v.d(1),v=null),e.success?_?_.p(t,e):((_=D(0,e)).c(),_.m(o,d)):_&&(_.d(1),_=null),e.error?b?b.p(t,e):((b=U(0,e)).c(),b.m(o,p)):b&&(b.d(1),b=null),e.success||e.error||!e.help?w&&(w.d(1),w=null):w?w.p(t,e):((w=I(0,e)).c(),w.m(o,null)),t.width&&g(o,"width",e.width),t.uid&&(o.dataset.uid=e.uid),t.success&&y(o,"success",e.success),t.error&&y(o,"error",e.error)},d:function(t){t&&i(o),v&&v.d(),h&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(s,h),_&&_.d(),b&&b.d(),w&&w.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function F(t,e,n){var r=Object.create(t);return r.opt=e[n],r}function q(t,e,n){var r=Object.create(t);return r.optgroup=e[n],r}function J(t,e,n){var r=Object.create(t);return r.opt=e[n],r}function $(t,e){for(var n,r=e.options,o=[],a=0;a<r.length;a+=1)o[a]=G(t,J(e,r,a));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=m()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);c(t,n,e)},p:function(e,a){if(e.options||e.value){r=a.options;for(var c=0;c<r.length;c+=1){var i=J(a,r,c);o[c]?o[c].p(e,i):(o[c]=G(t,i),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d:function(t){u(o,t),t&&i(n)}}}function G(t,e){var n,r,o,u,s=e.opt.label;return{c:function(){n=l("option"),r=f(s),n.__value=o=e.opt.value,n.value=n.__value,n.selected=u=e.opt.value===e.value},m:function(t,e){c(t,n,e),a(n,r)},p:function(t,e){t.options&&s!==(s=e.opt.label)&&v(r,s),t.options&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.options||t.value)&&u!==(u=e.opt.value===e.value)&&(n.selected=u)},d:function(t){t&&i(n)}}}function W(t,e){for(var n,r=e.optgroups,o=[],a=0;a<r.length;a+=1)o[a]=Z(t,q(e,r,a));return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=m()},m:function(t,e){for(var r=0;r<o.length;r+=1)o[r].m(t,e);c(t,n,e)},p:function(e,a){if(e.optgroups||e.value){r=a.optgroups;for(var c=0;c<r.length;c+=1){var i=q(a,r,c);o[c]?o[c].p(e,i):(o[c]=Z(t,i),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},d:function(t){u(o,t),t&&i(n)}}}function X(t,e){var n,r,o,u,s=e.opt.label;return{c:function(){n=l("option"),r=f(s),n.__value=o=e.opt.value,n.value=n.__value,n.selected=u=e.opt.value===e.value},m:function(t,e){c(t,n,e),a(n,r)},p:function(t,e){t.optgroups&&s!==(s=e.opt.label)&&v(r,s),t.optgroups&&o!==(o=e.opt.value)&&(n.__value=o),n.value=n.__value,(t.optgroups||t.value)&&u!==(u=e.opt.value===e.value)&&(n.selected=u)},d:function(t){t&&i(n)}}}function Z(t,e){for(var n,r,o=e.optgroup.options,a=[],s=0;s<o.length;s+=1)a[s]=X(0,F(e,o,s));return{c:function(){n=l("optgroup");for(var t=0;t<a.length;t+=1)a[t].c();h(n,"label",r=e.optgroup.label)},m:function(t,e){c(t,n,e);for(var r=0;r<a.length;r+=1)a[r].m(n,null)},p:function(t,e){if(t.optgroups||t.value){o=e.optgroup.options;for(var c=0;c<o.length;c+=1){var i=F(e,o,c);a[c]?a[c].p(t,i):(a[c]=X(0,i),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}t.optgroups&&r!==(r=e.optgroup.label)&&h(n,"label",r)},d:function(t){t&&i(n),u(a,t)}}}function z(t){j(this,t),this._state=r({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:"",uid:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,r,o,u=!1,s=e.options.length&&$(t,e),f=e.optgroups.length&&W(t,e);function h(){u=!0,t.set({value:b(n)}),u=!1}function v(e){t.fire("change",e)}return{c:function(){n=l("select"),s&&s.c(),r=m(),f&&f.c(),d(n,"change",h),"value"in e||t.root._beforecreate.push(h),d(n,"change",v),n.className=o="select-css "+e.class+" svelte-v0oq4b",n.disabled=e.disabled,g(n,"width",e.width),n.dataset.uid=e.uid},m:function(t,o){c(t,n,o),s&&s.m(n,null),a(n,r),f&&f.m(n,null),_(n,e.value)},p:function(e,a){a.options.length?s?s.p(e,a):((s=$(t,a)).c(),s.m(n,r)):s&&(s.d(1),s=null),a.optgroups.length?f?f.p(e,a):((f=W(t,a)).c(),f.m(n,null)):f&&(f.d(1),f=null),!u&&e.value&&_(n,a.value),e.class&&o!==(o="select-css "+a.class+" svelte-v0oq4b")&&(n.className=o),e.disabled&&(n.disabled=a.disabled),e.width&&g(n,"width",a.width),e.uid&&(n.dataset.uid=a.uid)},d:function(t){t&&i(n),s&&s.d(),f&&f.d(),p(n,"change",h),p(n,"change",v)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),k(this))}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function tt(t,e,n){return(tt=Y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&K(o,n.prototype),o}).apply(null,arguments)}function et(t){var e="function"==typeof Map?new Map:void 0;return(et=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return tt(t,arguments,V(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),K(r,t)})(t)}function nt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}r(B.prototype,L),r(z.prototype,L);var rt={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(e,n,a){if("undefined"!=typeof document){"number"==typeof(a=t({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=e+"="+n+i}}function c(t,n){if("undefined"!=typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],c=0;c<a.length;c++){var i=a[c].split("="),u=i.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=e(i[0]);if(u=(r.read||r)(u,s)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(o[s]=u,t===s)break}catch(t){}}return t?o[t]:o}}return o.set=a,o.get=function(t){return c(t,!1)},o.getJSON=function(t){return c(t,!0)},o.remove=function(e,n){a(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},t.exports=n()}(rt);var ot=rt.exports;function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ct(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ut=new Set(["get","head","options","trace"]);function st(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,r=it(it({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:it({"Content-Type":"application/json"},e.headers)}),o=r.payload,a=r.baseUrl,c=r.fetch,i=r.raw,u=nt(r,["payload","baseUrl","fetch","raw"]),s="".concat(a.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(o&&(u.body=JSON.stringify(o)),ut.has(u.method.toLowerCase()))n=c(s,u);else{var l=ot.get("crumb");l?(u.headers["X-CSRF-Token"]=l,n=c(s,u)):n=st("/v3/me",{fetch:c,baseUrl:a}).then((function(){var t=ot.get("crumb");t&&(u.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return c(s,u)}))}return n.then((function(t){if(i)return t;if(!t.ok)throw new ft(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}function lt(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return st(e,it(it({},n),{},{method:t}))}}st.get=lt("GET"),st.patch=lt("PATCH"),st.put=lt("PUT"),st.post=lt("POST"),st.head=lt("HEAD"),st.delete=lt("DELETE");var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(n,t);var e=at(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this)).name="HttpReqError",r.status=t.status,r.statusText=t.statusText,r.message="[".concat(t.status,"] ").concat(t.statusText),r.response=t,r}return n}(et(Error)),mt=null;var dt={createTeam:function(t,e){var n={name:t};this.get().user.isAdmin&&e&&(n.id=String(e).trim().toLowerCase()),this.set({awaitCreateTeam:st("/v3/teams",{method:"post",payload:n}).then((function(t){window.location.href="/team/".concat(t.id,"/settings")}))})},leaveTeam:function(t){var e=this,n=this.get(),r=n.user,o=n.teams;window.confirm(H("account / my-teams / leave-team / confirm").replace("%team%",t.name))&&st("/v3/teams/".concat(t.id,"/members/").concat(r.id),{method:"delete"}).then((function(){window.alert(H("account / my-teams / leave-team / done")),o.splice(o.findIndex((function(e){return e.id===t.id})),1),e.set({teams:o})})).catch((function(t){window.alert("There was a problem with your request. Please contact support@datawrapper.de"),console.error(t)}))}};function pt(t){var e=t.changed,n=t.current;e.currentTeam&&void 0!==n.currentTeam&&(mt?n.currentTeam!==mt&&(mt=n.currentTeam,this.set({awaitActiveTeam:st.patch("/v3/me/settings",{payload:{activeTeam:n.currentTeam||null}})})):mt=n.currentTeam)}function ht(t){var e=this._svelte,n=e.component,r=e.ctx;n.leaveTeam(r.team)}function vt(t,e,n){var r=Object.create(t);return r.team=e[n],r}function gt(t,e){var r,o=H("account / my-teams / no-teams-yet");return{c:function(){r=l("p")},m:function(t,e){c(t,r,e),r.innerHTML=o},p:n,d:function(t){t&&i(r)}}}function _t(t,e){for(var n,r,o,s,m,d,p,h,v,g,_,b,y,w,T,N,O,x,k,C,j,S,E=H("account / my-teams / your-teams"),L=H("account / my-teams / name"),P=H("account / my-teams / your-role"),A=H("account / my-teams / num-charts"),M=H("account / my-teams / num-members"),R=H("account / my-teams / leave-team"),D=e.user.isAdmin&&bt(),U=e.teams,I=[],B=0;B<U.length;B+=1)I[B]=St(t,vt(e,U,B));return{c:function(){n=l("p"),r=f("\n\n"),o=l("table"),s=l("thead"),m=l("tr"),d=l("th"),p=f(L),h=f("\n            "),D&&D.c(),v=f("\n            "),g=l("th"),_=f(P),b=f("\n            "),y=l("th"),w=f(A),T=f("\n            "),N=l("th"),O=f(M),x=f("\n            "),k=l("th"),C=f(R),j=f("\n    "),S=l("tbody");for(var t=0;t<I.length;t+=1)I[t].c();o.className="table"},m:function(t,e){c(t,n,e),n.innerHTML=E,c(t,r,e),c(t,o,e),a(o,s),a(s,m),a(m,d),a(d,p),a(m,h),D&&D.m(m,null),a(m,v),a(m,g),a(g,_),a(m,b),a(m,y),a(y,w),a(m,T),a(m,N),a(N,O),a(m,x),a(m,k),a(k,C),a(o,j),a(o,S);for(var i=0;i<I.length;i+=1)I[i].m(S,null)},p:function(e,n){if(n.user.isAdmin?D||((D=bt()).c(),D.m(m,v)):D&&(D.d(1),D=null),e.teams||e.currentTeam||e.user){U=n.teams;for(var r=0;r<U.length;r+=1){var o=vt(n,U,r);I[r]?I[r].p(e,o):(I[r]=St(t,o),I[r].c(),I[r].m(S,null))}for(;r<I.length;r+=1)I[r].d(1);I.length=U.length}},d:function(t){t&&(i(n),i(r),i(o)),D&&D.d(),u(I,t)}}}function bt(t,e){var n,r,o=H("account / my-teams / id");return{c:function(){n=l("th"),r=f(o)},m:function(t,e){c(t,n,e),a(n,r)},d:function(t){t&&i(n)}}}function yt(t,e){var n,r,o,u=M(e.team.name,20,10);return{c:function(){n=l("a"),r=f(u),n.href=o="/team/"+e.team.id+"/settings"},m:function(t,e){c(t,n,e),a(n,r)},p:function(t,e){t.teams&&u!==(u=M(e.team.name,20,10))&&v(r,u),t.teams&&o!==(o="/team/"+e.team.id+"/settings")&&(n.href=o)},d:function(t){t&&i(n)}}}function wt(t,e){var n,r=M(e.team.name,20,10);return{c:function(){n=f(r)},m:function(t,e){c(t,n,e)},p:function(t,e){t.teams&&r!==(r=M(e.team.name,20,10))&&v(n,r)},d:function(t){t&&i(n)}}}function Tt(t,e){var n;return{c:function(){(n=l("i")).className="fa fa-check-circle"},m:function(t,e){c(t,n,e)},d:function(t){t&&i(n)}}}function Nt(t,e){var n,r,o=e.team.id;return{c:function(){n=l("td"),r=f(o),n.className="slug svelte-t3x94h"},m:function(t,e){c(t,n,e),a(n,r)},p:function(t,e){t.teams&&o!==(o=e.team.id)&&v(r,o)},d:function(t){t&&i(n)}}}function Ot(t,e){var n,r,o,u,s,d=e.team.members,p=e.team.invites&&kt(t,e);return{c:function(){n=l("a"),r=f(d),u=f(" "),p&&p.c(),s=m(),n.href=o="/team/"+e.team.id+"/members"},m:function(t,e){c(t,n,e),a(n,r),c(t,u,e),p&&p.m(t,e),c(t,s,e)},p:function(e,a){e.teams&&d!==(d=a.team.members)&&v(r,d),e.teams&&o!==(o="/team/"+a.team.id+"/members")&&(n.href=o),a.team.invites?p?p.p(e,a):((p=kt(t,a)).c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null)},d:function(t){t&&(i(n),i(u)),p&&p.d(t),t&&i(s)}}}function xt(t,e){var n,r=e.team.members;return{c:function(){n=f(r)},m:function(t,e){c(t,n,e)},p:function(t,e){t.teams&&r!==(r=e.team.members)&&v(n,r)},d:function(t){t&&i(n)}}}function kt(t,e){var n,r,o,u,s=e.team.invites;return{c:function(){n=l("span"),r=f("(+"),o=f(s),u=f(")"),n.className="invites svelte-t3x94h"},m:function(t,e){c(t,n,e),a(n,r),a(n,o),a(n,u)},p:function(t,e){t.teams&&s!==(s=e.team.invites)&&v(o,s)},d:function(t){t&&i(n)}}}function Ct(t,e){var n,r,o,u,s,m=H("account / my-teams / delete-team");return{c:function(){n=l("a"),r=l("i"),o=f(" "),u=f(m),r.className="fa fa-trash",n.href=s="/team/"+e.team.id+"/delete",n.className="btn btn-small btn-danger"},m:function(t,e){c(t,n,e),a(n,r),a(n,o),a(n,u)},p:function(t,e){t.teams&&s!==(s="/team/"+e.team.id+"/delete")&&(n.href=s)},d:function(t){t&&i(n)}}}function jt(t,e){var n,r,o,u,s=H("account / my-teams / leave-team");return{c:function(){n=l("button"),r=l("i"),o=f(" "),u=f(s),r.className="fa fa-sign-out",n._svelte={component:t,ctx:e},d(n,"click",ht),n.className="btn btn-small"},m:function(t,e){c(t,n,e),a(n,r),a(n,o),a(n,u)},p:function(t,r){e=r,n._svelte.ctx=e},d:function(t){t&&i(n),p(n,"click",ht)}}}function St(t,e){var n,r,o,u,s,m,d,p,h,g,_,b,w,T,N,O=H("teams / role / "+e.team.role),x=e.team.charts;function k(t){return"member"!==t.team.role||t.user.isAdmin?yt:wt}var C=k(e),j=C(t,e),S=e.team.id===e.currentTeam&&Tt(),E=e.user.isAdmin&&Nt(0,e);function L(t){return"member"===t.team.role?xt:Ot}var P=L(e),A=P(t,e);function M(t){return"owner"!==t.team.role?jt:Ct}var R=M(e),D=R(t,e);return{c:function(){n=l("tr"),r=l("td"),j.c(),o=f(" "),S&&S.c(),u=f("\n            "),E&&E.c(),s=f("\n            "),m=l("td"),d=f("\n            "),p=l("td"),h=l("a"),g=f(x),b=f("\n            "),w=l("td"),A.c(),T=f("\n\n            "),N=l("td"),D.c(),h.href=_="/team/"+e.team.id,y(n,"current",e.team.id===e.currentTeam)},m:function(t,e){c(t,n,e),a(n,r),j.m(r,null),a(r,o),S&&S.m(r,null),a(n,u),E&&E.m(n,null),a(n,s),a(n,m),m.innerHTML=O,a(n,d),a(n,p),a(p,h),a(h,g),a(n,b),a(n,w),A.m(w,null),a(n,T),a(n,N),D.m(N,null)},p:function(e,a){C===(C=k(a))&&j?j.p(e,a):(j.d(1),(j=C(t,a)).c(),j.m(r,o)),a.team.id===a.currentTeam?S||((S=Tt()).c(),S.m(r,null)):S&&(S.d(1),S=null),a.user.isAdmin?E?E.p(e,a):((E=Nt(0,a)).c(),E.m(n,s)):E&&(E.d(1),E=null),e.teams&&O!==(O=H("teams / role / "+a.team.role))&&(m.innerHTML=O),e.teams&&x!==(x=a.team.charts)&&v(g,x),e.teams&&_!==(_="/team/"+a.team.id)&&(h.href=_),P===(P=L(a))&&A?A.p(e,a):(A.d(1),(A=P(t,a)).c(),A.m(w,null)),R===(R=M(a))&&D?D.p(e,a):(D.d(1),(D=R(t,a)).c(),D.m(N,null)),(e.teams||e.currentTeam)&&y(n,"current",a.team.id===a.currentTeam)},d:function(t){t&&i(n),j.d(),S&&S.d(),E&&E.d(),A.d(),D.d()}}}function Et(t,e){var n,r,o,u,m,v,g,_,b,y,w,T,N,O=H("team-create / p"),x=!1,k=H("team-create / button"),C=H("team-create / return");function j(){x=!0,t.set({newTeamName:o.value}),x=!1}var S={label:H("team-create / name"),help:H("team-create / help")},E=new B({root:t.root,store:t.store,slots:{default:s()},data:S}),L=e.user.isAdmin&&Pt(t,e);function P(t){return t.awaitCreateTeam?Ht:At}var A=P(e),M=A(t,e);function R(n){t.createTeam(e.newTeamName,e.newTeamSlug)}function D(e){t.set({createTeam:!1})}return{c:function(){n=l("p"),r=f("\n\n        "),o=l("input"),E._fragment.c(),m=f("\n        "),L&&L.c(),v=f("\n\n        "),g=l("button"),M.c(),_=f("   "),b=f(k),w=f("\n        "),T=l("button"),N=f(C),d(o,"input",j),h(o,"type","text"),o.placeholder=H("team-create / untitled"),o.maxLength=u=e.user.isAdmin?80:50,d(g,"click",R),g.className="btn btn-primary",g.disabled=y=!e.newTeamName.length,d(T,"click",D),T.className="btn"},m:function(t,i){c(t,n,i),n.innerHTML=O,c(t,r,i),a(E._slotted.default,o),o.value=e.newTeamName,E._mount(t,i),c(t,m,i),L&&L.m(t,i),c(t,v,i),c(t,g,i),M.m(g,null),a(g,_),a(g,b),c(t,w,i),c(t,T,i),a(T,N)},p:function(n,r){e=r,!x&&n.newTeamName&&(o.value=e.newTeamName),n.user&&u!==(u=e.user.isAdmin?80:50)&&(o.maxLength=u),e.user.isAdmin?L?L.p(n,e):((L=Pt(t,e)).c(),L.m(v.parentNode,v)):L&&(L.d(1),L=null),A===(A=P(e))&&M?M.p(n,e):(M.d(1),(M=A(t,e)).c(),M.m(g,_)),n.newTeamName&&y!==(y=!e.newTeamName.length)&&(g.disabled=y)},d:function(t){t&&(i(n),i(r)),p(o,"input",j),E.destroy(t),t&&i(m),L&&L.d(t),t&&(i(v),i(g)),M.d(),p(g,"click",R),t&&(i(w),i(T)),p(T,"click",D)}}}function Lt(t,e){var n,r,o,u,s,m,h,v=H("account / my-teams / why-teams"),g=H("account / my-teams / create-btn");function _(e){t.set({createTeam:!0})}return{c:function(){n=l("div"),r=l("p"),o=f("\n            "),u=l("button"),s=l("i"),m=f(" "),h=l("noscript"),s.className="fa fa-plus fa-fw",d(u,"click",_),u.className="btn btn-large",y(u,"btn-primary",!e.teams.length),n.className="hed svelte-t3x94h"},m:function(t,e){c(t,n,e),a(n,r),r.innerHTML=v,a(n,o),a(n,u),a(u,s),a(u,m),a(u,h),h.insertAdjacentHTML("afterend",g)},p:function(t,e){t.teams&&y(u,"btn-primary",!e.teams.length)},d:function(t){t&&i(n),p(u,"click",_)}}}function Pt(t,e){var n,r=!1;function o(){r=!0,t.set({newTeamSlug:n.value}),r=!1}var c={label:H("team-create / slug"),help:H("team-create / slug-help")},i=new B({root:t.root,store:t.store,slots:{default:s()},data:c});return{c:function(){n=l("input"),i._fragment.c(),d(n,"input",o),h(n,"type","text"),n.placeholder=e.autoslug},m:function(t,r){a(i._slotted.default,n),n.value=e.newTeamSlug,i._mount(t,r)},p:function(t,e){!r&&t.newTeamSlug&&(n.value=e.newTeamSlug),t.autoslug&&(n.placeholder=e.autoslug)},d:function(t){p(n,"input",o),i.destroy(t)}}}function At(t,e){var r;return{c:function(){(r=l("i")).className="fa fa-plus fa-fw"},m:function(t,e){c(t,r,e)},p:n,d:function(t){t&&i(r)}}}function Ht(t,e){var n,r,o={component:t,ctx:e,current:null,pending:Dt,then:Rt,catch:Mt,value:"null",error:"null"};return w(r=e.awaitCreateTeam,o),{c:function(){n=m(),o.block.c()},m:function(t,e){c(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n},p:function(t,n){e=n,o.ctx=e,"awaitCreateTeam"in t&&r!==(r=e.awaitCreateTeam)&&w(r,o)},d:function(t){t&&i(n),o.block.d(t),o=null}}}function Mt(t,e){var n;return{c:function(){(n=l("i")).className="fa fa-exclamation-triangle"},m:function(t,e){c(t,n,e)},d:function(t){t&&i(n)}}}function Rt(t,e){var n;return{c:function(){(n=l("i")).className="fa fa-check fa-fw"},m:function(t,e){c(t,n,e)},d:function(t){t&&i(n)}}}function Dt(t,e){var n,r;return{c:function(){n=f(" "),(r=l("i")).className="fa fa-spinner fa-spin"},m:function(t,e){c(t,n,e),c(t,r,e)},d:function(t){t&&(i(n),i(r))}}}function Ut(t,e){var n,r,o,u,m,d,p,h=H("account / my-teams / select-active"),v=H("account / my-teams / what-is-active"),g={},_={width:"250px",options:e.teamOptions};void 0!==e.currentTeam&&(_.value=e.currentTeam,g.value=!0);var b=new z({root:t.root,store:t.store,data:_,_bind:function(e,n){var r={};!g.value&&e.value&&(r.currentTeam=n.value),t._set(r),g={}}});t.root._beforecreate.push((function(){b._bind({value:1},b.get())}));var y=e.awaitActiveTeam&&It(t,e),w={width:"350px",help:H("account / my-teams / active-hint")},T=new B({root:t.root,store:t.store,slots:{default:s()},data:w});return{c:function(){n=l("div"),r=l("h3"),o=f("\n        "),u=l("p"),m=f("\n        "),d=l("div"),b._fragment.c(),p=f("\n                "),y&&y.c(),T._fragment.c(),r.className="svelte-t3x94h",d.className="flex",n.className="span5"},m:function(t,e){c(t,n,e),a(n,r),r.innerHTML=h,a(n,o),a(n,u),u.innerHTML=v,a(n,m),a(T._slotted.default,d),b._mount(d,null),a(d,p),y&&y.m(d,null),T._mount(n,null)},p:function(n,r){e=r;var o={};n.teamOptions&&(o.options=e.teamOptions),!g.value&&n.currentTeam&&(o.value=e.currentTeam,g.value=void 0!==e.currentTeam),b._set(o),g={},e.awaitActiveTeam?y?y.p(n,e):((y=It(t,e)).c(),y.m(d,null)):y&&(y.d(1),y=null)},d:function(t){t&&i(n),b.destroy(),y&&y.d(),T.destroy()}}}function It(t,e){var n,r,o={component:t,ctx:e,current:null,pending:qt,then:Ft,catch:Bt,value:"null",error:"null"};return w(r=e.awaitActiveTeam,o),{c:function(){n=m(),o.block.c()},m:function(t,e){c(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n},p:function(t,n){e=n,o.ctx=e,"awaitActiveTeam"in t&&r!==(r=e.awaitActiveTeam)&&w(r,o)},d:function(t){t&&i(n),o.block.d(t),o=null}}}function Bt(t,e){var n;return{c:function(){(n=l("i")).className="fa fa-exclamation-triangle"},m:function(t,e){c(t,n,e)},d:function(t){t&&i(n)}}}function Ft(t,e){var n;return{c:function(){(n=l("i")).className="fa fa-check fa-fw"},m:function(t,e){c(t,n,e)},d:function(t){t&&i(n)}}}function qt(t,e){var n,r;return{c:function(){n=f(" "),(r=l("i")).className="fa fa-spinner fa-spin"},m:function(t,e){c(t,n,e),c(t,r,e)},d:function(t){t&&(i(n),i(r))}}}function Jt(t){var e=this;j(this,t),this._state=r({teams:[],awaitActiveTeam:null,awaitCreateTeam:null,currentTeam:"",createTeam:!1,newTeamName:"",newTeamSlug:""},t.data),this._recompute({teams:1,newTeamName:1},this._state),this._intro=!0,this._handlers.state=[pt],pt.call(this,{changed:o({},this._state),current:this._state}),this._fragment=function(t,e){var n,r,o,u,s,m,d,p,h=H("account / my-teams"),v=H("account / my-teams / create");function g(t){return t.teams.length?_t:gt}var _=g(e),b=_(t,e);function y(t){return t.createTeam?Et:Lt}var w=y(e),T=w(t,e),N=e.teams.length>0&&Ut(t,e);return{c:function(){n=l("h2"),r=f("\n\n"),b.c(),o=f("\n\n"),u=l("div"),s=l("div"),m=l("h3"),d=f("\n        "),T.c(),p=f("\n    "),N&&N.c(),m.className="svelte-t3x94h",s.className="span5",u.className="row"},m:function(t,e){c(t,n,e),n.innerHTML=h,c(t,r,e),b.m(t,e),c(t,o,e),c(t,u,e),a(u,s),a(s,m),m.innerHTML=v,a(s,d),T.m(s,null),a(u,p),N&&N.m(u,null)},p:function(e,n){_===(_=g(n))&&b?b.p(e,n):(b.d(1),(b=_(t,n)).c(),b.m(o.parentNode,o)),w===(w=y(n))&&T?T.p(e,n):(T.d(1),(T=w(t,n)).c(),T.m(s,null)),n.teams.length>0?N?N.p(e,n):((N=Ut(t,n)).c(),N.m(u,null)):N&&(N.d(1),N=null)},d:function(t){t&&(i(n),i(r)),b.d(t),t&&(i(o),i(u)),T.d(),N&&N.d()}}}(this,this._state),this.root._oncreate.push((function(){e.fire("update",{changed:o({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),k(this))}function $t(t,e){this._handlers={},this._dependents=[],this._computed=T(),this._sortedComputedProperties=[],this._state=r({},t),this._differs=e&&e.immutable?O:N}r(Jt.prototype,L),r(Jt.prototype,dt),Jt.prototype._recompute=function(t,e){t.teams&&this._differs(e.teamOptions,e.teamOptions=e.teams.map((function(t){return{value:t.id,label:t.name}})).concat({value:null,label:H("nav / no-team")}))&&(t.teamOptions=!0),t.newTeamName&&this._differs(e.autoslug,e.autoslug=e.newTeamName.toLowerCase().replace(/\W/g,""))&&(t.autoslug=!0)},r($t.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n];e["$"+r]=this._state[r]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,o=this._state;this._state=r(r({},o),t);for(var a=0;a<this._sortedComputedProperties.length;a+=1)this._sortedComputedProperties[a].update(this._state,e);this.fire("state",{changed:e,previous:o,current:this._state}),this._dependents.filter((function(t){for(var r={},o=!1,a=0;a<t.props.length;a+=1){var c=t.props[a];c in e&&(r["$"+c]=n._state[c],o=!0)}if(o)return t.component._stage(r),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:o,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],r=T();function o(a){var c=e[a];c&&(c.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(a));o(e)})),r[a]||(r[a]=!0,n.push(c)))}for(var a in this._computed)o(t=a)},compute:function(t,e,n){var o,a=this,c={deps:e,update:function(r,c,i){var u=e.map((function(t){return t in c&&(i=!0),r[t]}));if(i){var s=n.apply(null,u);a._differs(s,o)&&(o=s,c[t]=!0,r[t]=o)}}};this._computed[t]=c,this._sortComputedProperties();var i=r({},this._state),u={};c.update(i,u,!0),this._set(i,u)},fire:x,get:C,on:S,set:function(t){var e=this._state,n=this._changed={},r=!1;for(var o in t){if(this._computed[o])throw new Error("'".concat(o,"' is a read-only computed property"));this._differs(t[o],e[o])&&(n[o]=r=!0)}r&&this._set(t,n)}});return{App:Jt,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new $t({})}}));
