!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings/members",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["team-settings/members"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n in t)e[n]=1;return e}function r(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n)}function s(e){e.parentNode.removeChild(e)}function a(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function o(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}function l(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function c(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function d(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function u(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(){return document.createDocumentFragment()}function p(e){return document.createElement(e)}function f(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function g(){return document.createComment("")}function v(e,t,n,r){e.addEventListener(t,n,r)}function b(e,t,n,r){e.removeEventListener(t,n,r)}function _(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function w(e,t){e.data=""+t}function T(e,t,n){e.style.setProperty(t,n)}function N(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function k(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function x(e,t,n){e.classList[n?"add":"remove"](t)}function E(e,n){var r,i=n.token={};function s(e,r,s,a){if(n.token!==i)return;n.resolved=s&&{[s]:a};const o=t(t({},n.ctx),n.resolved),l=e&&(n.current=e)(n.component,o);n.block&&(n.blocks?n.blocks.forEach((e,t)=>{t!==r&&e&&e.o(()=>{e.d(1),n.blocks[t]=null})}):n.block.d(1),l.c(),l[l.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=l,n.blocks&&(n.blocks[r]=l)}if((r=e)&&"function"==typeof r.then){if(e.then(e=>{s(n.then,1,n.value,e)},e=>{s(n.catch,2,n.error,e)}),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,e),!0;n.resolved={[n.value]:e}}}function A(){return Object.create(null)}function C(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function L(e,t){return e!=e?t==t:e!==t}function M(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];if(!i.__calling)try{i.__calling=!0,i.call(this,t)}finally{i.__calling=!1}}}function U(e){e._lock=!0,H(e._beforecreate),H(e._oncreate),H(e._aftercreate),e._lock=!1}function O(){return this._state}function S(e,t){e._handlers=A(),e._slots=A(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function I(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function H(e){for(;e&&e.length;)e.shift()()}function R(){this.store._remove(this)}var D={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:O,fire:M,on:I,set:function(e){this._set(t({},e)),this.root._lock||U(this.root)},_recompute:e,_set:function(e){var n=this._state,r={},i=!1;for(var s in e=t(this._staged,e),this._staged={},e)this._differs(e[s],n[s])&&(r[s]=i=!0);i&&(this._state=t(t({},n),e),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:C},j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function P(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var z={};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function q(e,t,n){return(q=$()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&F(i,n.prototype),i}).apply(null,arguments)}function G(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=Object.hasOwnProperty,K=Object.setPrototypeOf,Y=Object.isFrozen,Z=Object.getPrototypeOf,J=Object.getOwnPropertyDescriptor,X=Object.freeze,Q=Object.seal,ee=Object.create,te="undefined"!=typeof Reflect&&Reflect,ne=te.apply,re=te.construct;ne||(ne=function(e,t,n){return e.apply(t,n)}),X||(X=function(e){return e}),Q||(Q=function(e){return e}),re||(re=function(e,t){return q(e,G(t))});var ie,se=he(Array.prototype.forEach),ae=he(Array.prototype.pop),oe=he(Array.prototype.push),le=he(String.prototype.toLowerCase),ce=he(String.prototype.match),de=he(String.prototype.replace),ue=he(String.prototype.indexOf),me=he(String.prototype.trim),pe=he(RegExp.prototype.test),fe=(ie=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return re(ie,t)});function he(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ne(e,t,r)}}function ge(e,t,n){n=n||le,K&&K(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var s=n(i);s!==i&&(Y(t)||(t[r]=s),i=s)}e[i]=!0}return e}function ve(e){var t,n=ee(null);for(t in e)ne(V,e,[t])&&(n[t]=e[t]);return n}function be(e,t){for(;null!==e;){var n=J(e,t);if(n){if(n.get)return he(n.get);if("function"==typeof n.value)return he(n.value)}e=Z(e)}return function(e){return console.warn("fallback value for",e),null}}var _e=X(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ye=X(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),we=X(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Te=X(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ne=X(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ke=X(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xe=X(["#text"]),Ee=X(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ae=X(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ce=X(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Le=X(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Me=Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ue=Q(/<%[\w\W]*|[\w\W]*%>/gm),Oe=Q(/^data-[\-\w.\u00B7-\uFFFF]/),Se=Q(/^aria-[\-\w]+$/),Ie=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),He=Q(/^(?:\w+script|data):/i),Re=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),De=Q(/^html$/i),je=function(){return"undefined"==typeof window?null:window},Pe=function(e,t){if("object"!==B(e)||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var ze=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je(),n=function(t){return e(t)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,o=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,m=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,h=l.prototype,g=be(h,"cloneNode"),v=be(h,"nextSibling"),b=be(h,"childNodes"),_=be(h,"parentNode");if("function"==typeof a){var y=i.createElement("template");y.content&&y.content.ownerDocument&&(i=y.content.ownerDocument)}var w=Pe(f,r),T=w?w.createHTML(""):"",N=i,k=N.implementation,x=N.createNodeIterator,E=N.createDocumentFragment,A=N.getElementsByTagName,C=r.importNode,L={};try{L=ve(i).documentMode?i.documentMode:{}}catch(e){}var M={};n.isSupported="function"==typeof _&&k&&void 0!==k.createHTMLDocument&&9!==L;var U,O,S=Me,I=Ue,H=Oe,R=Se,D=He,j=Re,P=Ie,z=null,F=ge({},[].concat(G(_e),G(ye),G(we),G(Ne),G(xe))),$=null,q=ge({},[].concat(G(Ee),G(Ae),G(Ce),G(Le))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,K=null,Y=!0,Z=!0,J=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!1,he=!1,ze=!0,Be=!1,Fe="user-content-",$e=!0,qe=!1,Ge={},We=null,Ve=ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ke=null,Ye=ge({},["audio","video","img","source","image","track"]),Ze=null,Je=ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,rt=["application/xhtml+xml","text/html"],it="text/html",st=null,at=i.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},lt=function(e){st&&st===e||(e&&"object"===B(e)||(e={}),e=ve(e),U=U=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,O="application/xhtml+xml"===U?function(e){return e}:le,z="ALLOWED_TAGS"in e?ge({},e.ALLOWED_TAGS,O):F,$="ALLOWED_ATTR"in e?ge({},e.ALLOWED_ATTR,O):q,Ze="ADD_URI_SAFE_ATTR"in e?ge(ve(Je),e.ADD_URI_SAFE_ATTR,O):Je,Ke="ADD_DATA_URI_TAGS"in e?ge(ve(Ye),e.ADD_DATA_URI_TAGS,O):Ye,We="FORBID_CONTENTS"in e?ge({},e.FORBID_CONTENTS,O):Ve,V="FORBID_TAGS"in e?ge({},e.FORBID_TAGS,O):{},K="FORBID_ATTR"in e?ge({},e.FORBID_ATTR,O):{},Ge="USE_PROFILES"in e&&e.USE_PROFILES,Y=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,ee=e.WHOLE_DOCUMENT||!1,re=e.RETURN_DOM||!1,ie=e.RETURN_DOM_FRAGMENT||!1,he=e.RETURN_TRUSTED_TYPE||!1,ne=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Be=e.SANITIZE_NAMED_PROPS||!1,$e=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||P,tt=e.NAMESPACE||et,e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(Z=!1),ie&&(re=!0),Ge&&(z=ge({},G(xe)),$=[],!0===Ge.html&&(ge(z,_e),ge($,Ee)),!0===Ge.svg&&(ge(z,ye),ge($,Ae),ge($,Le)),!0===Ge.svgFilters&&(ge(z,we),ge($,Ae),ge($,Le)),!0===Ge.mathMl&&(ge(z,Ne),ge($,Ce),ge($,Le))),e.ADD_TAGS&&(z===F&&(z=ve(z)),ge(z,e.ADD_TAGS,O)),e.ADD_ATTR&&($===q&&($=ve($)),ge($,e.ADD_ATTR,O)),e.ADD_URI_SAFE_ATTR&&ge(Ze,e.ADD_URI_SAFE_ATTR,O),e.FORBID_CONTENTS&&(We===Ve&&(We=ve(We)),ge(We,e.FORBID_CONTENTS,O)),$e&&(z["#text"]=!0),ee&&ge(z,["html","head","body"]),z.table&&(ge(z,["tbody"]),delete V.tbody),X&&X(e),st=e)},ct=ge({},["mi","mo","mn","ms","mtext"]),dt=ge({},["foreignobject","desc","title","annotation-xml"]),ut=ge({},["title","style","font","a","script"]),mt=ge({},ye);ge(mt,we),ge(mt,Te);var pt=ge({},Ne);ge(pt,ke);var ft=function(e){var t=_(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=le(e.tagName),r=le(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(mt[n]):e.namespaceURI===Xe?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&dt[r]:Boolean(pt[n]):e.namespaceURI===et&&(!(t.namespaceURI===Qe&&!dt[r])&&(!(t.namespaceURI===Xe&&!ct[r])&&(!pt[n]&&(ut[n]||!mt[n]))))},ht=function(e){oe(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=T}catch(t){e.remove()}}},gt=function(e,t){try{oe(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){oe(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!$[e])if(re||ie)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,n;if(ne)e="<remove></remove>"+e;else{var r=ce(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===U&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=w?w.createHTML(e):e;if(tt===et)try{t=(new p).parseFromString(s,U)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":s}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),tt===et?A.call(t,ee?"html":"body")[0]:ee?t.documentElement:a},bt=function(e){return x.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},_t=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(e){return"object"===B(o)?e instanceof o:e&&"object"===B(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},wt=function(e,t,r){M[e]&&se(M[e],(function(e){e.call(n,t,r,st)}))},Tt=function(e){var t;if(wt("beforeSanitizeElements",e,null),_t(e))return ht(e),!0;if(pe(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var r=O(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:r,allowedTags:z}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&pe(/<[/\w]/g,e.innerHTML)&&pe(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&pe(/<template/i,e.innerHTML))return ht(e),!0;if(!z[r]||V[r]){if(!V[r]&&kt(r)){if(W.tagNameCheck instanceof RegExp&&pe(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if($e&&!We[r]){var i=_(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return ht(e),!0}return e instanceof l&&!ft(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r||!pe(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=de(t,S," "),t=de(t,I," "),e.textContent!==t&&(oe(n.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(ht(e),!0)},Nt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in at))return!1;if(Z&&!K[t]&&pe(H,t));else if(Y&&pe(R,t));else if(!$[t]||K[t]){if(!(kt(e)&&(W.tagNameCheck instanceof RegExp&&pe(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&pe(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&pe(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(Ze[t]);else if(pe(P,de(n,j,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==ue(n,"data:")||!Ke[e]){if(J&&!pe(D,de(n,j,"")));else if(n)return!1}else;return!0},kt=function(e){return e.indexOf("-")>0},xt=function(e){var t,r,i,s;wt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$};for(s=a.length;s--;){var l=t=a[s],c=l.name,d=l.namespaceURI;if(r="value"===c?t.value:me(t.value),i=O(c),o.attrName=i,o.attrValue=r,o.keepAttr=!0,o.forceKeepAttr=void 0,wt("uponSanitizeAttribute",e,o),r=o.attrValue,!o.forceKeepAttr&&(gt(c,e),o.keepAttr))if(pe(/\/>/i,r))gt(c,e);else{Q&&(r=de(r,S," "),r=de(r,I," "));var u=O(e.nodeName);if(Nt(u,i,r)){if(!Be||"id"!==i&&"name"!==i||(gt(c,e),r=Fe+r),w&&"object"===B(f)&&"function"==typeof f.getAttributeType)if(d);else switch(f.getAttributeType(u,i)){case"TrustedHTML":r=w.createHTML(r);break;case"TrustedScriptURL":r=w.createScriptURL(r)}try{d?e.setAttributeNS(d,c,r):e.setAttribute(c,r),ae(n.removed)}catch(e){}}}}wt("afterSanitizeAttributes",e,null)}},Et=function e(t){var n,r=bt(t);for(wt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)wt("uponSanitizeShadowNode",n,null),Tt(n)||(n.content instanceof s&&e(n.content),xt(n));wt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){var i,a,l,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw fe("toString is not a function");if("string"!=typeof(e=e.toString()))throw fe("dirty is not a string, aborting")}if(!n.isSupported){if("object"===B(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(yt(e))return t.toStaticHTML(e.outerHTML)}return e}if(te||lt(u),n.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){var m=O(e.nodeName);if(!z[m]||V[m])throw fe("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof o)1===(a=(i=vt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!re&&!Q&&!ee&&-1===e.indexOf("<"))return w&&he?w.createHTML(e):e;if(!(i=vt(e)))return re?null:he?T:""}i&&ne&&ht(i.firstChild);for(var p=bt(qe?e:i);l=p.nextNode();)3===l.nodeType&&l===c||Tt(l)||(l.content instanceof s&&Et(l.content),xt(l),c=l);if(c=null,qe)return e;if(re){if(ie)for(d=E.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return $.shadowroot&&(d=C.call(r,d,!0)),d}var f=ee?i.outerHTML:i.innerHTML;return ee&&z["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&pe(De,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),Q&&(f=de(f,S," "),f=de(f,I," ")),w&&he?w.createHTML(f):f},n.setConfig=function(e){lt(e),te=!0},n.clearConfig=function(){st=null,te=!1},n.isValidAttribute=function(e,t,n){st||lt({});var r=O(e),i=O(t);return Nt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],oe(M[e],t))},n.removeHook=function(e){if(M[e])return ae(M[e])},n.removeHooks=function(e){M[e]&&(M[e]=[])},n.removeAllHooks=function(){M={}},n}(),Be=P(Object.freeze({__proto__:null,default:ze})),Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.createPermanentMemoizer=void 0;Fe.createPermanentMemoizer=(e,t,{maxsize:n}={})=>{let r=new Map;return{get:i=>{const s=e(i);if(r.has(s))return r.get(s);const a=t(i);return n&&r.size>=n&&(r=new Map),r.set(s,a),a}}};const $e=(j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(Be),qe=Fe,Ge=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort();$e.default.addHook("afterSanitizeElements",(function(e){"a"===e.nodeName.toLowerCase()&&("_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank"),e.setAttribute("rel","nofollow noopener noreferrer"))}));const We=(0,qe.createPermanentMemoizer)(e=>String(e),e=>{const t={ALLOWED_TAGS:void 0===e?Ge:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return(0,qe.createPermanentMemoizer)(e=>e,e=>$e.default.sanitize(e,t),{maxsize:1e5})},{maxsize:1e5});var Ve=function(e,t){return e?We.get(t).get(e):e},Ke=j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0}),z.keyExists=Qe=z.__=z.translate=void 0;const Ye=Ke(Ve),Ze={};function Je(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(Ze[e]=window.__dw.vis.meta.locale||{}):dw.backend.__messages&&(Ze[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e]))}function Xe(e,t="core",n,...r){let i=function(e,t,n){try{return n[t][e]||e}catch(t){return e}}(e,t,n);if((e=>"string"==typeof e[0])(r)){i=function(e,t=[]){return e.replace(/\$(\d)/g,(e,n)=>void 0===t[+n]?e:(0,Ye.default)(t[+n],""))}(i,r)}else i=function(e,t={}){return Object.entries(t).forEach(([t,n])=>{e=e.replace(new RegExp(`%${t}%|%${t}(?!\\w)`,"g"),""+n)}),e}(i,r[0]);return(0,Ye.default)(i,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}z.translate=Xe;var Qe=z.__=function(e,t="core",...n){return e=e.trim(),Ze[t]||Je(t),Ze[t][e]?Xe(e,t,Ze,...n):"MISSING:"+e};z.keyExists=function(e,t="core"){return Ze[t]||Je(t),!!Ze[t][e]};const et={true:"ASC",false:"DESC"},tt=et.true;var nt={sort(e,t){e.preventDefault();const n=(r=this.get(),t===r.orderBy?et[r.order!==tt]:tt);var r;this.set({orderBy:t,order:n}),this.fire("sort",{orderBy:t,order:n})}};function rt(e){const{component:t,ctx:n}=this._svelte;t.sort(e,n.item.orderBy)}function it(e,t,n){const r=Object.create(e);return r.item=t[n],r}function st(e,t,n){const r=Object.create(e);return r.item=t[n],r}function at(e,t){var n;return{c(){T(n=p("col"),"width",t.item.width)},m(e,t){i(e,n,t)},p(e,t){e.columnHeaders&&T(n,"width",t.item.width)},d(e){e&&s(n)}}}function ot(e,t){var n,a,o=t.item.title;return{c(){n=p("span"),a=h(o),n.className="col"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.columnHeaders&&o!==(o=t.item.title)&&w(a,o)},d(e){e&&s(n)}}}function lt(e,t){var n,a,o,l,c=t.item.title;return{c(){n=p("a"),a=h(c),n._svelte={component:e,ctx:t},v(n,"click",rt),n.className=o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms",n.href=l="?orderBy="+t.item.orderBy},m(e,t){i(e,n,t),r(n,a)},p(e,r){t=r,e.columnHeaders&&c!==(c=t.item.title)&&w(a,c),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&o!==(o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms")&&(n.className=o),e.columnHeaders&&l!==(l="?orderBy="+t.item.orderBy)&&(n.href=l)},d(e){e&&s(n),b(n,"click",rt)}}}function ct(e,t){var n,r;function a(e){return e.item.orderBy?lt:ot}var o=a(t),l=o(e,t);return{c(){n=p("th"),l.c(),n.className=r=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.columnHeaders&&r!==(r=(i.item.className?i.item.className:"")+" svelte-l1s1ms")&&(n.className=r)},d(e){e&&s(n),l.d()}}}function dt(e){S(this,e),this._state=t({order:tt,orderBy:"",uid:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,a,o,l,c,m,f,g,v=e._slotted.default,b=t.columnHeaders,_=[],y=0;y<b.length;y+=1)_[y]=at(e,st(t,b,y));var w=t.columnHeaders,T=[];for(y=0;y<w.length;y+=1)T[y]=ct(e,it(t,w,y));return{c(){n=p("div"),a=p("table"),o=p("colgroup");for(var e=0;e<_.length;e+=1)_[e].c();l=h("\n\n        "),c=p("thead"),m=p("tr");for(e=0;e<T.length;e+=1)T[e].c();f=h("\n\n        "),g=p("tbody"),a.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms",n.dataset.uid=t.uid},m(e,t){i(e,n,t),r(n,a),r(a,o);for(var s=0;s<_.length;s+=1)_[s].m(o,null);r(a,l),r(a,c),r(c,m);for(s=0;s<T.length;s+=1)T[s].m(m,null);r(a,f),r(a,g),v&&r(g,v)},p(t,r){if(t.columnHeaders){b=r.columnHeaders;for(var i=0;i<b.length;i+=1){const n=st(r,b,i);_[i]?_[i].p(t,n):(_[i]=at(e,n),_[i].c(),_[i].m(o,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=b.length}if(t.columnHeaders||t.isActive||t.isAscending){w=r.columnHeaders;for(i=0;i<w.length;i+=1){const n=it(r,w,i);T[i]?T[i].p(t,n):(T[i]=ct(e,n),T[i].c(),T[i].m(m,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=w.length}t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),u(_,e),u(T,e),v&&d(g,v)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function ut(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function mt(e,t,n){const r=Object.create(e);return r.optgroup=t[n],r}function pt(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function ft(e,t){for(var n,r=t.options,a=[],o=0;o<r.length;o+=1)a[o]=ht(e,pt(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=g()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.options||t.value){r=i.options;for(var s=0;s<r.length;s+=1){const o=pt(i,r,s);a[s]?a[s].p(t,o):(a[s]=ht(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){u(a,e),e&&s(n)}}}function ht(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=p("option"),a=h(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.options&&c!==(c=t.opt.label)&&w(a,c),e.options&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.options||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function gt(e,t){for(var n,r=t.optgroups,a=[],o=0;o<r.length;o+=1)a[o]=bt(e,mt(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=g()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.optgroups||t.value){r=i.optgroups;for(var s=0;s<r.length;s+=1){const o=mt(i,r,s);a[s]?a[s].p(t,o):(a[s]=bt(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){u(a,e),e&&s(n)}}}function vt(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=p("option"),a=h(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.optgroups&&c!==(c=t.opt.label)&&w(a,c),e.optgroups&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.optgroups||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function bt(e,t){for(var n,r,a=t.optgroup.options,o=[],l=0;l<a.length;l+=1)o[l]=vt(0,ut(t,a,l));return{c(){n=p("optgroup");for(var e=0;e<o.length;e+=1)o[e].c();_(n,"label",r=t.optgroup.label)},m(e,t){i(e,n,t);for(var r=0;r<o.length;r+=1)o[r].m(n,null)},p(e,t){if(e.optgroups||e.value){a=t.optgroup.options;for(var i=0;i<a.length;i+=1){const r=ut(t,a,i);o[i]?o[i].p(e,r):(o[i]=vt(0,r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=a.length}e.optgroups&&r!==(r=t.optgroup.label)&&_(n,"label",r)},d(e){e&&s(n),u(o,e)}}}function _t(e){S(this,e),this._state=t({disabled:!1,width:"auto",options:[],optgroups:[],value:null,class:"",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,a,o,l=!1,c=t.options.length&&ft(e,t),d=t.optgroups.length&&gt(e,t);function u(){l=!0,e.set({value:k(n)}),l=!1}function m(t){e.fire("change",t)}return{c(){n=p("select"),c&&c.c(),a=g(),d&&d.c(),v(n,"change",u),"value"in t||e.root._beforecreate.push(u),v(n,"change",m),n.className=o="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,T(n,"width",t.width),n.dataset.uid=t.uid},m(e,s){i(e,n,s),c&&c.m(n,null),r(n,a),d&&d.m(n,null),N(n,t.value)},p(t,r){r.options.length?c?c.p(t,r):((c=ft(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.optgroups.length?d?d.p(t,r):((d=gt(e,r)).c(),d.m(n,null)):d&&(d.d(1),d=null),!l&&t.value&&N(n,r.value),t.class&&o!==(o="select-css "+r.class+" svelte-v0oq4b")&&(n.className=o),t.disabled&&(n.disabled=r.disabled),t.width&&T(n,"width",r.width),t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),c&&c.d(),d&&d.d(),b(n,"change",u),b(n,"change",m)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}t(dt.prototype,D),t(dt.prototype,nt),dt.prototype._recompute=function(e,t){e.orderBy&&this._differs(t.isActive,t.isActive=function({orderBy:e}){return t=>e===t.orderBy}(t))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=function({order:e}){return e===tt}(t))&&(e.isAscending=!0)},t(_t.prototype,D);function yt(e){S(this,e),this._state=t({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,a,o,l;return{c(){n=p("span"),a=f("svg"),T(o=f("use"),"fill",t.color),y(o,"xlink:href",t.iconURL),T(a,"height",t.size),T(a,"width",t.size),_(a,"class","svelte-1th5ah8"),n.className=l="svg-icon "+t.class+" svelte-1th5ah8",n.dataset.uid=t.uid,T(n,"animation-timing-function",t.timing),T(n,"animation-duration",t.duration),T(n,"height",t.size),T(n,"width",t.size),T(n,"vertical-align",t.valign),x(n,"spin",t.spin)},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.color&&T(o,"fill",t.color),e.iconURL&&y(o,"xlink:href",t.iconURL),e.size&&(T(a,"height",t.size),T(a,"width",t.size)),e.class&&l!==(l="svg-icon "+t.class+" svelte-1th5ah8")&&(n.className=l),e.uid&&(n.dataset.uid=t.uid),e.timing&&T(n,"animation-timing-function",t.timing),e.duration&&T(n,"animation-duration",t.duration),e.size&&(T(n,"height",t.size),T(n,"width",t.size)),e.valign&&T(n,"vertical-align",t.valign),(e.class||e.spin)&&x(n,"spin",t.spin)},d(e){e&&s(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(yt.prototype,D),yt.prototype._recompute=function(e,t){(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=function({icon:e,assetURL:t}){return`${t||"/lib/icons/symbol/svg/sprite.symbol.svg"}#${e}`}(t))&&(e.iconURL=!0)};var wt={open(){this.set({open:!0})},dismiss(){this.set({open:!1}),this.fire("dismiss")},confirm(){this.set({open:!1}),this.fire("confirm")},handleKeystroke(e){const{open:t}=this.get();t&&"Escape"===e&&this.dismiss()}};function Tt(e,t){var n,a,o,d,u,m,f,y,w,T,N,k,x,E,A,C,L,M,U=e._slotted.default,O=new yt({root:e.root,store:e.store,data:{icon:"close",size:"20px"}});function S(t){e.dismiss()}function I(t){e.dismiss()}var H=t.confirmButtonIcon&&Nt(e,t);function R(t){e.confirm()}function D(t){t.stopPropagation(),e.fire("keyup",t)}function j(t){e.dismiss()}return{c(){n=p("div"),a=p("div"),o=p("button"),O._fragment.c(),d=h("\n        "),u=p("div"),m=p("h1"),f=h("\n            "),T=h("\n            "),N=p("div"),k=p("button"),x=h("\n                "),E=p("button"),H&&H.c(),A=h(" "),C=p("noscript"),L=h("\n"),M=p("div"),v(o,"click",S),o.type="button",o.className="close svelte-1f9lfqa",_(o,"aria-label",t.backButtonText),m.className="modal-title mb-4 svelte-1f9lfqa",v(k,"click",I),k.className="btn back svelte-1f9lfqa",v(E,"click",R),E.className="btn btn-danger svelte-1f9lfqa",N.className="actions pt-4 mt-4 svelte-1f9lfqa",u.className="modal-content svelte-1f9lfqa",v(a,"keyup",D),a.className="modal-body",n.className="modal",v(M,"click",j),M.className="modal-backdrop"},m(e,s){i(e,n,s),r(n,a),r(a,o),O._mount(o,null),r(a,d),r(a,u),r(u,m),m.innerHTML=t.title,r(u,f),U&&(r(u,y||(y=g())),r(u,U),r(u,w||(w=g()))),r(u,T),r(u,N),r(N,k),k.innerHTML=t.backButtonText,r(N,x),r(N,E),H&&H.m(E,null),r(E,A),r(E,C),C.insertAdjacentHTML("afterend",t.confirmButtonText),i(e,L,s),i(e,M,s)},p(t,n){t.backButtonText&&_(o,"aria-label",n.backButtonText),t.title&&(m.innerHTML=n.title),t.backButtonText&&(k.innerHTML=n.backButtonText),n.confirmButtonIcon?H?H.p(t,n):((H=Nt(e,n)).c(),H.m(E,A)):H&&(H.d(1),H=null),t.confirmButtonText&&(l(C),C.insertAdjacentHTML("afterend",n.confirmButtonText))},d(e){e&&s(n),O.destroy(),b(o,"click",S),U&&(c(y,w,U),s(y),s(w)),b(k,"click",I),H&&H.d(),b(E,"click",R),b(a,"keyup",D),e&&(s(L),s(M)),b(M,"click",j)}}}function Nt(e,t){var n={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},r=new yt({root:e.root,store:e.store,data:n});return{c(){r._fragment.c()},m(e,t){r._mount(e,t)},p(e,t){var n={};e.confirmButtonIcon&&(n.icon=t.confirmButtonIcon),r._set(n)},d(e){r.destroy(e)}}}function kt(e){S(this,e),this._state=t({title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",open:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n;function r(t){e.handleKeystroke(t.key)}window.addEventListener("keydown",r);var a=t.open&&Tt(e,t);return{c(){a&&a.c(),n=g()},m(e,t){a&&a.m(e,t),i(e,n,t)},p(t,r){r.open?a?a.p(t,r):((a=Tt(e,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){window.removeEventListener("keydown",r),a&&a.d(e),e&&s(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}t(kt.prototype,D),t(kt.prototype,wt);const xt={};function Et(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(xt[e]=window.__dw.vis.meta.locale||{}):xt[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function At(e,t="core"){if(e=e.trim(),xt[t]||Et(t),!xt[t][e])return"MISSING:"+e;var n=xt[t][e];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),n}var Ct={close(){const{closeFunc:e}=this.get();e?e():(this.set({visible:!1}),this.fire("close"))}};function Lt(e,t){var n,r;function a(e){return"upgrade-info"===e.type?Ut:Mt}var o=a(t),l=o(e,t);return{c(){n=p("div"),l.c(),n.className=r="alert "+t.class+" svelte-1h26igv",n.dataset.uid=t.uid,x(n,"alert-intro","intro"===t.type),x(n,"alert-success","success"===t.type),x(n,"alert-warning","warning"===t.type),x(n,"alert-error","error"===t.type),x(n,"alert-info","info"===t.type),x(n,"alert-upgrade-info","upgrade-info"===t.type),x(n,"has-header",!!t.title)},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.class&&r!==(r="alert "+i.class+" svelte-1h26igv")&&(n.className=r),t.uid&&(n.dataset.uid=i.uid),(t.class||t.type)&&(x(n,"alert-intro","intro"===i.type),x(n,"alert-success","success"===i.type),x(n,"alert-warning","warning"===i.type),x(n,"alert-error","error"===i.type),x(n,"alert-info","info"===i.type),x(n,"alert-upgrade-info","upgrade-info"===i.type)),(t.class||t.title)&&x(n,"has-header",!!i.title)},d(e){e&&s(n),l.d()}}}function Mt(e,t){var n,r,a,o,l=e._slotted.default,d=(t.closeable||t.title)&&Ot(e,t);return{c(){d&&d.c(),n=h("\n    "),l||(o=h("content"))},m(e,t){d&&d.m(e,t),i(e,n,t),l?(i(e,r||(r=g()),t),i(e,l,t),i(e,a||(a=g()),t)):i(e,o,t)},p(t,r){r.closeable||r.title?d?d.p(t,r):((d=Ot(e,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null)},d(e){d&&d.d(e),e?(s(n),l||s(o)):(c(r,a,l),s(r),s(a))}}}function Ut(t,n){var a,o,l,c,d,u,m,f,g=At("upgrade-available"),v=At("upgrade-info");return{c(){a=p("div"),o=p("span"),l=h("\n    "),c=p("div"),d=p("span"),u=h(g),m=h(" "),f=p("noscript"),o.className="upgrade-icon svelte-1h26igv",a.className="icon",d.className="title svelte-1h26igv"},m(e,t){i(e,a,t),r(a,o),o.innerHTML='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>',i(e,l,t),i(e,c,t),r(c,d),r(d,u),r(c,m),r(c,f),f.insertAdjacentHTML("afterend",v)},p:e,d(e){e&&(s(a),s(l),s(c))}}}function Ot(e,t){var n,a,o,l,c=t.title&&St(e,t),d=t.closeable&&It(e),u=t.title&&Ht();return{c(){n=p("div"),c&&c.c(),a=h(" "),d&&d.c(),o=h("\n    "),u&&u.c(),l=g(),n.className="svelte-1h26igv",x(n,"header",!!t.title)},m(e,t){i(e,n,t),c&&c.m(n,null),r(n,a),d&&d.m(n,null),i(e,o,t),u&&u.m(e,t),i(e,l,t)},p(t,r){r.title?c?c.p(t,r):((c=St(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.closeable?d||((d=It(e)).c(),d.m(n,null)):d&&(d.d(1),d=null),t.title&&x(n,"header",!!r.title),r.title?u||((u=Ht()).c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(e){e&&s(n),c&&c.d(),d&&d.d(),e&&s(o),u&&u.d(e),e&&s(l)}}}function St(e,t){var n,a;return{c(){n=p("div"),a=h(t.title),n.className="title svelte-1h26igv"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.title&&w(a,t.title)},d(e){e&&s(n)}}}function It(e,t){var n;function r(t){e.close()}return{c(){(n=p("button")).textContent="Ã—",v(n,"click",r),n.type="button",_(n,"aria-label","close"),n.className="close svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n),b(n,"click",r)}}}function Ht(e,t){var n;return{c(){(n=p("hr")).className="svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n)}}}function Rt(e){var n,r,a,o;S(this,e),this._state=t({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:"",title:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,r=this._state,o=r.visible&&Lt(n,r),{c(){o&&o.c(),a=g()},m(e,t){o&&o.m(e,t),i(e,a,t)},p(e,t){t.visible?o?o.p(e,t):((o=Lt(n,t)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(e){o&&o.d(e),e&&s(a)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(Rt.prototype,D),t(Rt.prototype,Ct);var Dt={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function a(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e.exports=n()}(Dt);var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.getValueOrDefault=void 0;jt.getValueOrDefault=(e,t,n)=>e&&t(e)?e:n();var Pt=j&&j.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},zt=j&&j.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Bt=(j&&j.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(Dt.exports),Ft=jt,$t=z,qt=new Set(["get","head","options","trace"]);function Gt(e,t={}){var{fetch:n,baseUrl:r}=t,i=zt(t,["fetch","baseUrl"]);const s=(0,Ft.getValueOrDefault)(n,()=>!0,()=>{try{const e=window.fetch;if(!e)throw new Error;return e}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}}),a=(0,Ft.getValueOrDefault)(r,()=>!0,()=>{const e=window.dw.backend.__api_domain;if(!e)throw new Error("Neither options.baseUrl nor window.dw is defined.");return e.startsWith("http")?e:"//"+e}),o=Object.assign(Object.assign({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},i),{headers:Object.assign({"Content-Type":"application/json"},i.headers)}),{payload:l,raw:c}=o,d=zt(o,["payload","raw"]),u=`${a.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let m;if(l&&(d.body=JSON.stringify(l)),d.headers["Content-Type"].startsWith("multipart/")&&delete d.headers["Content-Type"],d.disableCSRF||qt.has(d.method.toLowerCase()))m=s(u,d);else{const e=Bt.default.get("crumb");e?(d.headers["X-CSRF-Token"]=e,m=s(u,d)):m=Gt("/v3/me",{fetch:s,baseUrl:a}).then(()=>{const e=Bt.default.get("crumb");e&&(d.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>Pt(this,void 0,void 0,(function*(){return yield s(u,d)})))}return m.then(e=>{if(c)return e;if(!e.ok)return e.json().then(t=>{throw new Vt(e,t)});if(204===e.status||!e.headers.get("content-type"))return e;const t=(e.headers.get("content-type")||"").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function Wt(e){return(t,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return Gt(t,Object.assign(Object.assign({},n),{method:e}))}}Gt.get=Wt("GET"),Gt.patch=Wt("PATCH"),Gt.put=Wt("PUT"),Gt.post=Wt("POST"),Gt.head=Wt("HEAD"),Gt.delete=Wt("DELETE");class Vt extends Error{constructor(e,t){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e,this.response.json=()=>Promise.resolve(t),t&&(this.type=t.type,this.type&&(0,$t.keyExists)(this.type)&&(this.translationKey=this.type),this.details=t.details,Array.isArray(this.details)&&this.details.forEach(e=>{if(e&&e.type){const t=[this.type,e.type].join(" / ");(0,$t.keyExists)(t)&&(e.translationKey=t)}}))}}Gt.HttpReqError=Vt;var Kt=Gt;const Yt=[{value:"owner",label:Qe("teams / role / owner").replace("&shy;","")},{value:"admin",label:Qe("teams / role / admin").replace("&shy;","")},{value:"member",label:Qe("teams / role / member").replace("&shy;","")}];async function Zt(e){if("HttpReqError"===e.name)try{return(await e.response.json()).message}catch(e){}return e.message}function Jt(e){return{member:Qe("teams / role / member"),admin:Qe("teams / role / admin"),owner:Qe("teams / role / owner")}[e]}var Xt={toggleEdit(e){this.get().editId===e?this.requestUpdateRole(e):this.set({editId:e})},async removeUser(e){if(window.confirm(Qe("teams / remove / alert"))){try{this.set({error:null}),await Kt.delete(`/v3/teams/${this.get().team.id}/members/${e.id}`)}catch(e){return void this.set({error:await Zt(e)})}var{users:t}=this.get();t=t.filter(t=>t.id!==e.id),this.set({users:t})}},async requestUpdateRole(e){var{users:t}=this.get();"owner"!==t.filter(t=>t.id===e)[0].role?await this.updateRole(e):this.refs.confirmationModal.open()},async updateRole(e){var{updating:t,users:n}=this.get();const r=n.filter(t=>t.id===e)[0];t[r.id]=!0,this.set({updating:t});try{this.set({error:null}),await Kt.put(`/v3/teams/${this.get().team.id}/members/${r.id}/status`,{payload:{status:r.role}})}catch(e){this.set({error:await Zt(e),updating:!1})}(t=this.get().updating)[r.id]=!1,this.set({updating:t,editId:!1}),this.fire("updateUsers")}};function Qt(e){const{component:t,ctx:n}=this._svelte;t.removeUser(n.user)}function en(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function tn(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function nn(e,t,n){const r=Object.create(e);return r.user=t[n],r.each_value=t,r.i=n,r}function rn(e,t){var n,r=Qe("teams / total-pending","core",{i:t.numUsersPending});return{c(){n=h(r)},m(e,t){i(e,n,t)},p(e,t){e.numUsersPending&&r!==(r=Qe("teams / total-pending","core",{i:t.numUsersPending}))&&w(n,r)},d(e){e&&s(n)}}}function sn(t,n){var r,a=Qe("teams / total-pending / 1");return{c(){r=h(a)},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function an(e,t){for(var n,i=t.sortedUsers,s=[],a=0;a<i.length;a+=1)s[a]=_n(e,nn(t,i,a));var o={columnHeaders:t.userHeaders},l=new dt({root:e.root,store:e.store,slots:{default:m()},data:o});return{c(){for(var e=0;e<s.length;e+=1)s[e].c();n=g(),l._fragment.c()},m(e,t){for(var i=0;i<s.length;i+=1)s[i].m(l._slotted.default,null);r(l._slotted.default,n),l._mount(e,t)},p(t,r){if(t.sortedUsers||t.error||t.isAdmin||t.isTeamOwner||t.userId||t.editId||t.updating||t.roles){i=r.sortedUsers;for(var a=0;a<i.length;a+=1){const o=nn(r,i,a);s[a]?s[a].p(t,o):(s[a]=_n(e,o),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}var o={};t.userHeaders&&(o.columnHeaders=r.userHeaders),l._set(o)},d(e){u(s,e),l.destroy(e)}}}function on(e,t){var n,a,o=Qe("teams / invite-pending");return{c(){n=p("div"),a=h(o),n.className="invite-pending-note svelte-cbldz"},m(e,t){i(e,n,t),r(n,a)},d(e){e&&s(n)}}}function ln(e,t){var n,a,o,l,c=t.user.id;return{c(){n=p("td"),a=p("a"),o=h(c),a.href=l="/admin/chart/by/user/"+t.user.id},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.sortedUsers&&c!==(c=t.user.id)&&w(o,c),e.sortedUsers&&l!==(l="/admin/chart/by/user/"+t.user.id)&&(a.href=l)},d(e){e&&s(n)}}}function cn(e,t){var n,r=t.user.charts;return{c(){n=h(r)},m(e,t){i(e,n,t)},p(e,t){e.sortedUsers&&r!==(r=t.user.charts)&&w(n,r)},d(e){e&&s(n)}}}function dn(t,n){var r;return{c(){r=h("-")},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function un(e,t){var n,r,o=Jt(t.user.role);return{c(){n=p("noscript"),r=p("noscript")},m(e,t){i(e,n,t),n.insertAdjacentHTML("afterend",o),i(e,r,t)},p(e,t){e.sortedUsers&&o!==(o=Jt(t.user.role))&&(a(n,r),n.insertAdjacentHTML("afterend",o))},d(e){e&&(a(n,r),s(n),s(r))}}}function mn(e,t){var n,a,o,l={},c=Qe("teams / role / p"),d={width:"200px",options:t.roles};void 0!==t.user.role&&(d.value=t.user.role,l.value=!0);var u=new _t({root:e.root,store:e.store,data:d,_bind(n,r){var i={};!l.value&&n.value&&(t.user.role=r.value,i.sortedUsers=t.sortedUsers),e._set(i),l={}}});return e.root._beforecreate.push(()=>{u._bind({value:1},u.get())}),{c(){u._fragment.c(),n=h("\n            "),a=p("p"),o=h(c),a.className="mini-help"},m(e,t){u._mount(e,t),i(e,n,t),i(e,a,t),r(a,o)},p(e,n){t=n;var r={};e.roles&&(r.options=t.roles),!l.value&&e.sortedUsers&&(r.value=t.user.role,l.value=void 0!==t.user.role),u._set(r),l={}},d(e){u.destroy(e),e&&(s(n),s(a))}}}function pn(t,n){var a,o,l=Qe("teams / edit-role / owner / info");return{c(){a=p("p"),o=h(l),a.className="mini-help"},m(e,t){i(e,a,t),r(a,o)},p:e,d(e){e&&s(a)}}}function fn(e,t){var n;function r(e){return e.editId===e.user.id?vn:e.updating[e.user.id]?gn:hn}var a=r(t),o=a(e,t);return{c(){o.c(),n=g()},m(e,t){o.m(e,t),i(e,n,t)},p(t,i){a===(a=r(i))&&o?o.p(t,i):(o.d(1),(o=a(e,i)).c(),o.m(n.parentNode,n))},d(e){o.d(e),e&&s(n)}}}function hn(e,t){var n,a,o,l,c,d,u,m,f,g=Qe("teams / edit"),_=Qe("teams / remove");return{c(){n=p("button"),a=p("i"),o=h("Â  "),l=h(g),c=h("\n\n            "),d=p("button"),u=p("i"),m=h("Â  "),f=h(_),a.className="fa fa-edit",n._svelte={component:e,ctx:t},v(n,"click",en),n.className="btn",u.className="fa fa-times",d._svelte={component:e,ctx:t},v(d,"click",Qt),d.className="btn"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l),i(e,c,t),i(e,d,t),r(d,u),r(d,m),r(d,f)},p(e,r){t=r,n._svelte.ctx=t,d._svelte.ctx=t},d(e){e&&s(n),b(n,"click",en),e&&(s(c),s(d)),b(d,"click",Qt)}}}function gn(t,n){var a,o,l,c,d=Qe("teams / save");return{c(){a=p("button"),o=p("i"),l=h("Â  "),c=h(d),o.className="fa fa-spin fa-circle-o-notch",a.disabled=!0,a.className="btn btn-primary"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c)},p:e,d(e){e&&s(a)}}}function vn(e,t){var n,a,o,l,c=Qe("teams / save");return{c(){n=p("button"),a=p("i"),o=h("Â  "),l=h(c),a.className="fa fa-check",n._svelte={component:e,ctx:t},v(n,"click",tn),n.className="btn btn-primary"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l)},p(e,r){t=r,n._svelte.ctx=t},d(e){e&&s(n),b(n,"click",tn)}}}function bn(e,t){var n,i=new Rt({root:e.root,store:e.store,slots:{default:m()},data:{type:"error",visible:!0}});return{c(){n=h(t.error),i._fragment.c()},m(e,t){r(i._slotted.default,n),i._mount(e,t)},p(e,t){e.error&&w(n,t.error)},d(e){i.destroy(e)}}}function _n(e,t){var n,a,o,l,c,d,u,m,f,g,v,b,_=t.user.email,y=t.user.invitePending&&on(),T=t.isAdmin&&ln(0,t);function N(e){return e.user.invitePending?dn:cn}var k=N(t),E=k(e,t);function A(e){return e.editId===e.user.id?mn:un}var C=A(t),L=C(e,t);function M(e){return e.isAdmin&&!e.isTeamOwner||e.isTeamOwner&&e.user.id!==e.userId||"owner"!==e.user.role?fn:e.isTeamOwner&&"owner"===e.user.role?pn:void 0}var U=M(t),O=U&&U(e,t),S=t.error&&bn(e,t);return{c(){n=p("tr"),a=p("td"),o=h(_),l=h(" "),y&&y.c(),c=h("\n        "),T&&T.c(),d=h("\n        "),u=p("td"),E.c(),m=h("\n        "),f=p("td"),L.c(),g=h("\n        "),v=p("td"),O&&O.c(),b=h(" "),S&&S.c(),n.className="svelte-cbldz",x(n,"invite-pending",t.user.invitePending)},m(e,t){i(e,n,t),r(n,a),r(a,o),r(a,l),y&&y.m(a,null),r(n,c),T&&T.m(n,null),r(n,d),r(n,u),E.m(u,null),r(n,m),r(n,f),L.m(f,null),r(n,g),r(n,v),O&&O.m(v,null),r(v,b),S&&S.m(v,null)},p(t,r){t.sortedUsers&&_!==(_=r.user.email)&&w(o,_),r.user.invitePending?y||((y=on()).c(),y.m(a,null)):y&&(y.d(1),y=null),r.isAdmin?T?T.p(t,r):((T=ln(0,r)).c(),T.m(n,d)):T&&(T.d(1),T=null),k===(k=N(r))&&E?E.p(t,r):(E.d(1),(E=k(e,r)).c(),E.m(u,null)),C===(C=A(r))&&L?L.p(t,r):(L.d(1),(L=C(e,r)).c(),L.m(f,null)),U===(U=M(r))&&O?O.p(t,r):(O&&O.d(1),(O=U&&U(e,r))&&O.c(),O&&O.m(v,b)),r.error?S?S.p(t,r):((S=bn(e,r)).c(),S.m(v,null)):S&&(S.d(1),S=null),t.sortedUsers&&x(n,"invite-pending",r.user.invitePending)},d(e){e&&s(n),y&&y.d(),T&&T.d(),E.d(),L.d(),O&&O.d(),S&&S.d()}}}function yn(e,t){var n,i=Qe("teams / change-owner-confirmation / warning"),s=new Rt({root:e.root,store:e.store,slots:{default:m()},data:{type:"'warning'",closeable:!1,visible:!0,class:"spacing-helper"}});return{c(){n=p("div"),s._fragment.c(),n.className="confirmation-warning svelte-cbldz"},m(e,t){r(s._slotted.default,n),n.innerHTML=i,s._mount(e,t)},d(e){s.destroy(e)}}}function wn(e){S(this,e),this.refs={},this._state=t({editId:!1,error:null,updating:{},users:[],products:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numUsers:1,numCharts:1,team:1,editId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,l,c,d,u,f,v,b,_,y,w;function T(e){return 1===e.numUsersPending?sn:e.numUsersPending>1?rn:void 0}var N=T(t),k=N&&N(e,t),x=t.sortedUsers.length&&an(e,t),E=t.products.length&&yn(e),A={confirmButtonText:Qe("teams / change-owner-confirmation / confirm"),backButtonText:Qe("teams / change-owner-confirmation / back"),title:t.ownerChangeTitle},C=new kt({root:e.root,store:e.store,slots:{default:m()},data:A});return C.on("confirm",(function(n){e.updateRole(t.editId)})),e.refs.confirmationModal=C,{c(){n=p("p"),l=p("noscript"),c=h("\n    "),d=p("noscript"),u=p("noscript"),f=h("\n    "),k&&k.c(),v=h("\n\n"),x&&x.c(),b=h("\n\n"),_=p("p"),y=h("\n    "),E&&E.c(),w=g(),C._fragment.c()},m(e,s){i(e,n,s),r(n,l),l.insertAdjacentHTML("beforebegin",t.numUsersCaption),r(n,c),r(n,d),d.insertAdjacentHTML("afterend",t.numChartsCaption),r(n,u),r(n,f),k&&k.m(n,null),i(e,v,s),x&&x.m(e,s),i(e,b,s),r(C._slotted.default,_),_.innerHTML=t.ownerChangeMessage,r(C._slotted.default,y),E&&E.m(C._slotted.default,null),r(C._slotted.default,w),C._mount(e,s)},p(r,i){t=i,r.numUsersCaption&&(o(l),l.insertAdjacentHTML("beforebegin",t.numUsersCaption)),r.numChartsCaption&&(a(d,u),d.insertAdjacentHTML("afterend",t.numChartsCaption)),N===(N=T(t))&&k?k.p(r,t):(k&&k.d(1),(k=N&&N(e,t))&&k.c(),k&&k.m(n,null)),t.sortedUsers.length?x?x.p(r,t):((x=an(e,t)).c(),x.m(b.parentNode,b)):x&&(x.d(1),x=null),r.ownerChangeMessage&&(_.innerHTML=t.ownerChangeMessage),t.products.length?E||((E=yn(e)).c(),E.m(w.parentNode,w)):E&&(E.d(1),E=null);var s={};r.ownerChangeTitle&&(s.title=t.ownerChangeTitle),C._set(s)},d(t){t&&s(n),k&&k.d(),t&&s(v),x&&x.d(t),t&&s(b),E&&E.d(),C.destroy(t),e.refs.confirmationModal===C&&(e.refs.confirmationModal=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}t(wn.prototype,D),t(wn.prototype,Xt),wn.prototype._recompute=function(e,t){(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=function({isAdmin:e,isTeamOwner:t}){return e||t?Yt:Yt.slice(1)}(t))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=function({users:e,isAdmin:t}){return e.sort((e,t)=>{const n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0}).filter(e=>t||!e.isAdmin)}(t))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function({isAdmin:e}){const t=[{title:Qe("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:Qe("teams / status"),width:"15%"},{title:Qe("teams / actions"),width:"30%"}];return e||t.splice(1,1),t}(t))&&(e.userHeaders=!0),e.sortedUsers&&(this._differs(t.numUsers,t.numUsers=function({sortedUsers:e}){return e.filter(e=>!e.invitePending).length}(t))&&(e.numUsers=!0),this._differs(t.numUsersPending,t.numUsersPending=function({sortedUsers:e}){return e.filter(e=>e.invitePending).length}(t))&&(e.numUsersPending=!0)),e.users&&this._differs(t.numCharts,t.numCharts=function({users:e}){let t=0;return e.forEach(e=>{t+=e.charts}),t}(t))&&(e.numCharts=!0),(e.numUsers||e.numCharts)&&this._differs(t.numUsersCaption,t.numUsersCaption=function({numUsers:e,numCharts:t}){const n=0===t;return 1===e?Qe("teams / total / 1"+(n?" / with-period":"")):e>1?Qe("teams / total"+(n?" / with-period":""),"core",{i:e}):""}(t))&&(e.numUsersCaption=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function({numCharts:e,isAdmin:t,team:n}){return 1===e?Qe("teams / charts-total / 1"):e>1?t?Qe("teams / charts-total-admin","core",{i:e,link:"/admin/chart/by/team/"+n.id}):Qe("teams / charts-total","core",{i:e}):""}(t))&&(e.numChartsCaption=!0),(e.users||e.editId||e.team||e.isTeamOwner)&&this._differs(t.ownerChangeMessage,t.ownerChangeMessage=function({users:e,editId:t,team:n,isTeamOwner:r}){const i=e.find(e=>e.id===t),s=e.find(e=>e.id!==t&&"owner"===e.role),a=i?i.name||i.email||i.id:"non-existent",o=s?s.name||s.email||s.id:"non-existent";return Qe("teams / change-owner-confirmation / message","core",{member:`<b>${Ve(a,[])}</b>`,team:`<b>${n.name}</b>`,message:r?Qe("teams / change-owner-confirmation / owner-message"):Qe("teams / change-owner-confirmation / non-owner-message","core",{member:`<b>${o}</b>`})})}(t))&&(e.ownerChangeMessage=!0),(e.users||e.editId)&&this._differs(t.ownerChangeTitle,t.ownerChangeTitle=function({users:e,editId:t}){const n=e.find(e=>e.id===t),r=n?n.name||n.email||n.id:"non-existent";return Qe("teams / change-owner-confirmation / title","core",{member:r})}(t))&&(e.ownerChangeTitle=!0)};var Tn={toggle(e){e.preventDefault();const{visible:t,disabled:n}=this.get();n||this.set({visible:!t})},windowClick(e){if(!e.target)return;const t="SVELTE2-WRAPPER"===e.target.tagName;if(t&&!e.composedPath().length)return;const n=t?e.composedPath()[0]:e.target,r=this.refs&&this.refs.button;r&&r===n||e.target.classList.contains("hex")||this.set({visible:!1})}};function Nn(e,t){var n,a,o=e._slotted.content;return{c(){n=p("div"),o||((a=p("div")).textContent="DropdownControl content"),o||(a.className="base-dropdown-inner svelte-1jdtmzv"),T(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m(e,t){i(e,n,t),r(n,o||a)},p(e,t){e.width&&T(n,"width",t.width)},d(e){e&&s(n),o&&d(n,o)}}}function kn(e){S(this,e),this.refs={},this._state=t({visible:!1,disabled:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,a,o,l,c,u,m=e._slotted.button;function f(t){e.windowClick(t)}function g(t){e.toggle(t)}window.addEventListener("click",f);var _=t.visible&&Nn(e,t);return{c(){n=p("div"),a=p("a"),m||(o=p("button"),l=p("i")),u=h("\n    "),_&&_.c(),m||(l.className=c="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",o.className="btn btn-small"),v(a,"click",g),a.href="#dropdown-btn",a.className="base-drop-btn svelte-1jdtmzv",T(n,"position","relative"),T(n,"display","inline-block"),n.dataset.uid=t.uid},m(t,s){i(t,n,s),r(n,a),m?r(a,m):(r(a,o),r(o,l)),e.refs.button=a,r(n,u),_&&_.m(n,null)},p(t,r){m||t.visible&&c!==(c="fa fa-chevron-"+(r.visible?"up":"down")+" svelte-1jdtmzv")&&(l.className=c),r.visible?_?_.p(t,r):((_=Nn(e,r)).c(),_.m(n,null)):_&&(_.d(1),_=null),t.uid&&(n.dataset.uid=r.uid)},d(t){window.removeEventListener("click",f),t&&s(n),m&&d(a,m),b(a,"click",g),e.refs.button===a&&(e.refs.button=null),_&&_.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(kn.prototype,D),t(kn.prototype,Tn);var xn={fireClick(){this.fire("click")},action(e){e.disabled||e.action(this)}};function En(e){e.preventDefault();const{component:t,ctx:n}=this._svelte;t.action(n.item)}function An(e,t,n){const r=Object.create(e);return r.item=t[n],r}function Cn(e,t){var n,a,o,c,d=t.icon&&Ln(e,t);function u(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c(){n=p("button"),d&&d.c(),a=h(" "),o=p("noscript"),v(n,"click",u),n.disabled=t.disabled,n.className=c="split-button-label "+t.btnClass+" svelte-1qu0vk"},m(e,s){i(e,n,s),d&&d.m(n,null),r(n,a),r(n,o),o.insertAdjacentHTML("afterend",t.label)},p(t,r){r.icon?d?d.p(t,r):((d=Ln(e,r)).c(),d.m(n,a)):d&&(d.d(1),d=null),t.label&&(l(o),o.insertAdjacentHTML("afterend",r.label)),t.disabled&&(n.disabled=r.disabled),t.btnClass&&c!==(c="split-button-label "+r.btnClass+" svelte-1qu0vk")&&(n.className=c)},d(e){e&&s(n),d&&d.d(),b(n,"click",u)}}}function Ln(e,t){var n;return{c(){(n=p("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function Mn(e,t){var n,r,a=t.icon&&On(e,t);function o(e){return e.label?In:Sn}var l=o(t),c=l(e,t);return{c(){a&&a.c(),n=h(" "),c.c(),r=g()},m(e,t){a&&a.m(e,t),i(e,n,t),c.m(e,t),i(e,r,t)},p(t,i){i.icon?a?a.p(t,i):((a=On(e,i)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),l===(l=o(i))&&c?c.p(t,i):(c.d(1),(c=l(e,i)).c(),c.m(r.parentNode,r))},d(e){a&&a.d(e),e&&s(n),c.d(e),e&&s(r)}}}function Un(t,n){var r;return{c(){(r=p("span")).className="caret"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function On(e,t){var n;return{c(){(n=p("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function Sn(t,n){var r;return{c(){(r=p("i")).className="im im-menu-dot-h svelte-1qu0vk"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function In(e,t){var n,r,o,l;return{c(){n=p("noscript"),r=p("noscript"),o=h("\n            "),(l=p("span")).className="caret"},m(e,s){i(e,n,s),n.insertAdjacentHTML("afterend",t.label),i(e,r,s),i(e,o,s),i(e,l,s)},p(e,t){e.label&&(a(n,r),n.insertAdjacentHTML("afterend",t.label))},d(e){e&&(a(n,r),s(n),s(r),s(o),s(l))}}}function Hn(e,t){var n,a,o,l=t.item.label;return{c(){n=p("li"),a=p("a"),o=h("\n        "),a._svelte={component:e,ctx:t},v(a,"click",En),a.href="#/action",a.className="svelte-1qu0vk",x(a,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m(e,t){i(e,n,t),r(n,a),a.innerHTML=l,r(n,o)},p(e,n){t=n,e.items&&l!==(l=t.item.label)&&(a.innerHTML=l),a._svelte.ctx=t,e.items&&x(a,"disabled",t.item.disabled)},d(e){e&&s(n),b(a,"click",En)}}}function Rn(e){S(this,e),this._state=t({label:"",icon:!1,split:!1,items:[],btnClass:"btn",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,o,l=t.split&&Cn(e,t);function c(e){return e.split?Un:Mn}for(var d=c(t),f=d(e,t),g=t.items,v=[],b=0;b<g.length;b+=1)v[b]=Hn(e,An(t,g,b));var y={disabled:t.disabled,uid:t.uid},w=new kn({root:e.root,store:e.store,slots:{default:m(),content:m(),button:m()},data:y});return{c(){n=p("div"),l&&l.c(),i=h("\n        "),s=p("button"),f.c(),a=h("\n\n    "),o=p("ul");for(var e=0;e<v.length;e+=1)v[e].c();w._fragment.c(),s.disabled=t.disabled,s.className=t.btnClass+" svelte-1qu0vk",_(n,"slot","button"),n.className="btn-group",_(o,"slot","content"),o.className="svelte-1qu0vk"},m(e,t){r(w._slotted.button,n),l&&l.m(n,null),r(n,i),r(n,s),f.m(s,null),r(w._slotted.default,a),r(w._slotted.content,o);for(var c=0;c<v.length;c+=1)v[c].m(o,null);w._mount(e,t)},p(t,r){if(r.split?l?l.p(t,r):((l=Cn(e,r)).c(),l.m(n,i)):l&&(l.d(1),l=null),d===(d=c(r))&&f?f.p(t,r):(f.d(1),(f=d(e,r)).c(),f.m(s,null)),t.disabled&&(s.disabled=r.disabled),t.btnClass&&(s.className=r.btnClass+" svelte-1qu0vk"),t.items){g=r.items;for(var a=0;a<g.length;a+=1){const n=An(r,g,a);v[a]?v[a].p(t,n):(v[a]=Hn(e,n),v[a].c(),v[a].m(o,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=g.length}var u={};t.disabled&&(u.disabled=r.disabled),t.uid&&(u.uid=r.uid),w._set(u)},d(e){l&&l.d(),f.d(),u(v,e),w.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}function Dn(e,t){var n,a,l,c=e._slotted.labelExtra;return{c(){n=p("label"),a=p("noscript"),n.className="control-label svelte-150khnx"},m(e,s){i(e,n,s),r(n,a),a.insertAdjacentHTML("beforebegin",t.label),c&&(r(n,l||(l=g())),r(n,c))},p(e,t){e.label&&(o(a),a.insertAdjacentHTML("beforebegin",t.label))},d(e){e&&s(n),c&&function(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}(l,c)}}}function jn(e,t){var n;return{c(){(n=p("div")).className="help success svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.success},p(e,t){e.success&&(n.innerHTML=t.success)},d(e){e&&s(n)}}}function Pn(e,t){var n;return{c(){(n=p("div")).className="help error svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.error},p(e,t){e.error&&(n.innerHTML=t.error)},d(e){e&&s(n)}}}function zn(e,t){var n;return{c(){(n=p("div")).className="help svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.help},p(e,t){e.help&&(n.innerHTML=t.help)},d(e){e&&s(n)}}}function Bn(e){var n,a,o,l,c,u,m,f,g,v,b,_,y,w;S(this,e),this._state=t({label:"",help:"",compact:!1,class:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,a=this._state,v=n._slotted.default,b=a.label&&Dn(n,a),_=a.success&&jn(0,a),y=a.error&&Pn(0,a),w=!a.success&&!a.error&&a.help&&zn(0,a),{c(){o=p("div"),b&&b.c(),l=h("\n    "),c=p("div"),u=h("\n    "),_&&_.c(),m=h(" "),y&&y.c(),f=h(" "),w&&w.c(),c.className="form-controls svelte-150khnx",o.className=g="form-block "+a.class+" svelte-150khnx",T(o,"width",a.width),o.dataset.uid=a.uid,x(o,"compact",a.compact),x(o,"success",a.success),x(o,"error",a.error)},m(e,t){i(e,o,t),b&&b.m(o,null),r(o,l),r(o,c),v&&r(c,v),r(o,u),_&&_.m(o,null),r(o,m),y&&y.m(o,null),r(o,f),w&&w.m(o,null)},p(e,t){t.label?b?b.p(e,t):((b=Dn(n,t)).c(),b.m(o,l)):b&&(b.d(1),b=null),t.success?_?_.p(e,t):((_=jn(0,t)).c(),_.m(o,m)):_&&(_.d(1),_=null),t.error?y?y.p(e,t):((y=Pn(0,t)).c(),y.m(o,f)):y&&(y.d(1),y=null),t.success||t.error||!t.help?w&&(w.d(1),w=null):w?w.p(e,t):((w=zn(0,t)).c(),w.m(o,null)),e.class&&g!==(g="form-block "+t.class+" svelte-150khnx")&&(o.className=g),e.width&&T(o,"width",t.width),e.uid&&(o.dataset.uid=t.uid),(e.class||e.compact)&&x(o,"compact",t.compact),(e.class||e.success)&&x(o,"success",t.success),(e.class||e.error)&&x(o,"error",t.error)},d(e){e&&s(o),b&&b.d(),v&&d(c,v),_&&_.d(),y&&y.d(),w&&w.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(Rn.prototype,D),t(Rn.prototype,xn),t(Bn.prototype,D);var Fn={async addUser(e){const{inviteeExists:t,inviteeUserId:n}=this.get();if(!t)return;this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const r=await Kt.post(`/v3/teams/${this.get().team.id}/members`,{raw:!0,payload:{userId:n,role:e}}),i=r.ok?null:await r.json(),s={updatingUsers:!1,isComplete:!0,isError:!r.ok,errorCode:r.ok?null:r.status,responseData:i&&i.data?i.data:null,type:"add",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:s}),this.fire("updateUsers")},async inviteUser(e){const{inviteeEmail:t}=this.get();this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const n=await Kt.post(`/v3/teams/${this.get().team.id}/invites`,{raw:!0,payload:{email:t,role:e}}),r=n.ok?null:await n.json(),i={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:r&&r.data?r.data:null,type:"invite",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:i}),this.fire("updateUsers")},async debounceCheckUser(){this.get().isAdmin&&(window.clearTimeout(window.checkUser),this.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout(()=>{this.checkUser()},200))},async checkUser(){let{inviteeEmail:e}=this.get();const{isValidEmail:t}=this.get();if(!t)return void this.set({inviteeExistsLoading:!1});const n=await Kt.get("/v3/users?search="+encodeURIComponent(e));this.set({inviteeExistsLoading:!1,inviteeExists:!1}),n.list.length>0&&(e=this.get().inviteeEmail,n.list.forEach(t=>{t.email.toLowerCase()===e.toLowerCase()&&this.set({inviteeExists:!0,inviteeUserId:t.id})}))}};function $n(){window.teamSettingsInvite=this}function qn({changed:e}){e.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function Gn(e){S(this,e),this._state=t({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[qn],qn.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a=!1;function o(){a=!0,e.set({inviteeEmail:i.value}),a=!1}var l={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+Qe("teams / invite"),items:t.inviteOptions},c=new Rn({root:e.root,store:e.store,data:l}),d={label:Qe("teams / invite-user"),help:Qe("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},u=new Bn({root:e.root,store:e.store,slots:{default:m()},data:d});return{c(){n=p("div"),i=p("input"),s=h("Â \n        "),c._fragment.c(),u._fragment.c(),v(i,"input",o),_(i,"type","text"),i.width="1px",i.placeholder=Qe("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m(e,a){r(u._slotted.default,n),r(n,i),i.value=t.inviteeEmail,r(n,s),c._mount(n,null),u._mount(e,a)},p(e,t){!a&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+Qe("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),c._set(n);var r={};e.successMessage&&(r.success=t.successMessage),e.errorMessage&&(r.error=t.errorMessage),u._set(r)},d(e){b(i,"input",o),c.destroy(),u.destroy(e)}}}(this,this._state),this.root._oncreate.push(()=>{$n.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}t(Gn.prototype,D),t(Gn.prototype,Fn),Gn.prototype._recompute=function(e,t){(e.invitedEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,type:i,role:s}=t;if(!n||r)return;return Qe(`teams / invite-user / ${i} / success`).replace("$1",(a=e,a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",Qe("teams / role / "+s));var a}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,errorCode:i,responseData:s,type:a}=t;if(!n||!r)return;const o=[400,401,406].includes(i)?i:"other",l=406===i&&s&&s.maxTeamInvites?s.maxTeamInvites:null;return Qe(`teams / invite-user / ${a} / error / ${o}`).replace("$1",e).replace("$2",l)}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=function({inviteeEmail:e}){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(t))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function({isAdmin:e,isTeamOwner:t,isValidEmail:n,inviteeExistsLoading:r,inviteeExists:i}){const s=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Qe("teams / role / member"),disabled:!n,action(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Qe("teams / role / admin"),disabled:!n,action(){teamSettingsInvite.inviteUser("admin")}}];return(e||t)&&s.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'+Qe("teams / role / owner"),disabled:!n,action(){teamSettingsInvite.inviteUser("owner")}}),e&&s.push({label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Qe("teams / add-as").replace("%s",Qe("teams / role / member"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("member")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Qe("teams / add-as").replace("%s",Qe("teams / role / admin"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("admin")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Qe("teams / add-as").replace("%s",Qe("teams / role / owner"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("owner")}}),s}(t))&&(e.inviteOptions=!0)};var Wn={updateUsers(){const{team:e}=this.get();this.set({awaitLoadingUsers:Kt.get(`/v3/teams/${e.id}/members?limit=1000`).then(e=>{this.set({users:e.list})}),awaitLoadingProducts:Kt.get(`/v3/teams/${e.id}/products`).then(e=>{this.set({products:e.list})})})}};function Vn(){this.updateUsers()}function Kn({changed:e,current:t}){e.newRole&&t.newRole&&this.store.set({role:t.newRole})}function Yn(e,n){var r,a;let o={component:e,ctx:n,current:null,pending:Xn,then:Jn,catch:Zn,value:"null",error:"null"};return E(a=n.awaitLoadingUsers,o),{c(){r=g(),o.block.c()},m(e,t){i(e,r,t),o.block.m(e,o.anchor=t),o.mount=()=>r.parentNode,o.anchor=r},p(e,r){n=r,o.ctx=n,"awaitLoadingUsers"in e&&a!==(a=n.awaitLoadingUsers)&&E(a,o)||o.block.p(e,t(t({},n),o.resolved))},d(e){e&&s(r),o.block.d(e),o=null}}}function Zn(t,n){var r;return{c(){r=h("error!")},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function Jn(e,t){var n={},r={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,isTeamAdmin:t.isTeamAdmin,team:t.team};void 0!==t.userId&&(r.userId=t.userId,n.userId=!0),void 0!==t.users&&(r.users=t.users,n.users=!0),void 0!==t.products&&(r.products=t.products,n.products=!0),void 0!==t.editIndex&&(r.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(r.updating=t.updating,n.updating=!0);var i=new wn({root:e.root,store:e.store,data:r,_bind(t,r){var i={};!n.userId&&t.userId&&(i.userId=r.userId),!n.users&&t.users&&(i.users=r.users),!n.products&&t.products&&(i.products=r.products),!n.editIndex&&t.editIndex&&(i.editIndex=r.editIndex),!n.updating&&t.updating&&(i.updating=r.updating),e._set(i),n={}}});return e.root._beforecreate.push(()=>{i._bind({userId:1,users:1,products:1,editIndex:1,updating:1},i.get())}),i.on("updateUsers",(function(t){e.updateUsers()})),{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,r){t=r;var s={};e.isAdmin&&(s.isAdmin=t.isAdmin),e.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),e.isTeamAdmin&&(s.isTeamAdmin=t.isTeamAdmin),e.team&&(s.team=t.team),!n.userId&&e.userId&&(s.userId=t.userId,n.userId=void 0!==t.userId),!n.users&&e.users&&(s.users=t.users,n.users=void 0!==t.users),!n.products&&e.products&&(s.products=t.products,n.products=void 0!==t.products),!n.editIndex&&e.editIndex&&(s.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(s.updating=t.updating,n.updating=void 0!==t.updating),i._set(s),n={}},d(e){i.destroy(e)}}}function Xn(t,n){var a,o,l,c,d=Qe("teams / loading");return{c(){a=p("p"),o=p("i"),l=h(" Â  "),c=p("noscript"),o.className="fa fa-circle-o-notch fa-spin"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c),c.insertAdjacentHTML("afterend",d)},p:e,d(e){e&&s(a)}}}function Qn(e){S(this,e),this._state=t(t(this.store._init(["role"]),{editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1,products:[]}),e.data),this.store._add(this,["role"]),this._recompute({users:1,userId:1,$role:1},this._state),this._intro=!0,this._handlers.state=[Kn],this._handlers.destroy=[R],Kn.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,a,o,l,c,d,u,m,f,v,b,_,y,w,N,k,x,E,A,C,L,M,U,O,S,I,H,R,D,j,P,z,B,F,$,q,G,W,V,K,Y,Z,J,X,Q,ee,te,ne,re,ie,se,ae,oe,le,ce,de,ue,me,pe,fe,he,ge,ve,be,_e,ye,we,Te,Ne,ke,xe,Ee,Ae,Ce=Qe("teams / p"),Le={},Me=Qe("teams / role / member"),Ue=Qe("teams / role / admin"),Oe=Qe("teams / role / owner"),Se=Qe("teams / roles / edit-charts"),Ie=Qe("teams / roles / edit-folders"),He=Qe("teams / roles / access-settings"),Re=Qe("teams / roles / invite-users"),De=Qe("teams / roles / subscription-options"),je=Qe("teams / roles / remove-team"),Pe={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(Pe.team=t.team,Le.team=!0),void 0!==t.updatingUsers&&(Pe.updatingUsers=t.updatingUsers,Le.updatingUsers=!0);var ze=new Gn({root:e.root,store:e.store,data:Pe,_bind(t,n){var r={};!Le.team&&t.team&&(r.team=n.team),!Le.updatingUsers&&t.updatingUsers&&(r.updatingUsers=n.updatingUsers),e._set(r),Le={}}});e.root._beforecreate.push(()=>{ze._bind({team:1,updatingUsers:1},ze.get())}),ze.on("updateUsers",(function(t){e.updateUsers()}));var Be=t.awaitLoadingUsers&&Yn(e,t);return{c(){n=p("p"),a=h("\n\n"),o=p("div"),l=p("div"),ze._fragment.c(),c=h("\n    "),d=p("div"),u=p("table"),m=p("thead"),f=p("tr"),v=p("td"),b=h("\n                    "),_=p("th"),y=h("\n                    "),w=p("th"),N=h("\n                    "),k=p("th"),x=h("\n            "),E=p("tbody"),A=p("tr"),C=p("td"),L=h("\n                    "),(M=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',U=h("\n                    "),(O=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',S=h("\n                    "),(I=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',H=h("\n\n                "),R=p("tr"),D=p("td"),j=h("\n                    "),(P=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',z=h("\n                    "),(B=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',F=h("\n                    "),($=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=h("\n\n                "),G=p("tr"),W=p("td"),V=h("\n                    "),(K=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Y=h("\n                    "),(Z=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',J=h("\n                    "),(X=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=h("\n\n                "),ee=p("tr"),te=p("td"),ne=h("\n                    "),(re=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ie=h("\n                    "),(se=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ae=h("\n                    "),(oe=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',le=h("\n\n                "),ce=p("tr"),de=p("td"),ue=h("\n                    "),(me=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=h("\n                    "),(fe=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',he=h("\n                    "),(ge=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ve=h("\n\n                "),be=p("tr"),_e=p("td"),ye=h("\n                    "),(we=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Te=h("\n                    "),(Ne=p("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ke=h("\n                    "),(xe=p("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ee=h("\n\n"),Be&&Be.c(),Ae=g(),T(n,"margin-bottom","10px"),l.className="span4",v.className="svelte-hgmegl",_.className="svelte-hgmegl",w.className="svelte-hgmegl",k.className="svelte-hgmegl",C.className="svelte-hgmegl",M.className="svelte-hgmegl",O.className="svelte-hgmegl",I.className="svelte-hgmegl",D.className="svelte-hgmegl",P.className="svelte-hgmegl",B.className="svelte-hgmegl",$.className="svelte-hgmegl",W.className="svelte-hgmegl",K.className="svelte-hgmegl",Z.className="svelte-hgmegl",X.className="svelte-hgmegl",te.className="svelte-hgmegl",re.className="svelte-hgmegl",se.className="svelte-hgmegl",oe.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",fe.className="svelte-hgmegl",ge.className="svelte-hgmegl",_e.className="svelte-hgmegl",we.className="svelte-hgmegl",Ne.className="svelte-hgmegl",xe.className="svelte-hgmegl",E.className="svelte-hgmegl",u.className="role-descriptions svelte-hgmegl",T(u,"margin-left","3em"),d.className="span6",o.className="row",T(o,"margin-bottom","2em")},m(e,t){i(e,n,t),n.innerHTML=Ce,i(e,a,t),i(e,o,t),r(o,l),ze._mount(l,null),r(o,c),r(o,d),r(d,u),r(u,m),r(m,f),r(f,v),r(f,b),r(f,_),_.innerHTML=Me,r(f,y),r(f,w),w.innerHTML=Ue,r(f,N),r(f,k),k.innerHTML=Oe,r(u,x),r(u,E),r(E,A),r(A,C),C.innerHTML=Se,r(A,L),r(A,M),r(A,U),r(A,O),r(A,S),r(A,I),r(E,H),r(E,R),r(R,D),D.innerHTML=Ie,r(R,j),r(R,P),r(R,z),r(R,B),r(R,F),r(R,$),r(E,q),r(E,G),r(G,W),W.innerHTML=He,r(G,V),r(G,K),r(G,Y),r(G,Z),r(G,J),r(G,X),r(E,Q),r(E,ee),r(ee,te),te.innerHTML=Re,r(ee,ne),r(ee,re),r(ee,ie),r(ee,se),r(ee,ae),r(ee,oe),r(E,le),r(E,ce),r(ce,de),de.innerHTML=De,r(ce,ue),r(ce,me),r(ce,pe),r(ce,fe),r(ce,he),r(ce,ge),r(E,ve),r(E,be),r(be,_e),_e.innerHTML=je,r(be,ye),r(be,we),r(be,Te),r(be,Ne),r(be,ke),r(be,xe),i(e,Ee,t),Be&&Be.m(e,t),i(e,Ae,t)},p(n,r){t=r;var i={};n.isTeamOwner&&(i.isTeamOwner=t.isTeamOwner),n.isAdmin&&(i.isAdmin=t.isAdmin),!Le.team&&n.team&&(i.team=t.team,Le.team=void 0!==t.team),!Le.updatingUsers&&n.updatingUsers&&(i.updatingUsers=t.updatingUsers,Le.updatingUsers=void 0!==t.updatingUsers),ze._set(i),Le={},t.awaitLoadingUsers?Be?Be.p(n,t):((Be=Yn(e,t)).c(),Be.m(Ae.parentNode,Ae)):Be&&(Be.d(1),Be=null)},d(e){e&&(s(n),s(a),s(o)),ze.destroy(),e&&s(Ee),Be&&Be.d(e),e&&s(Ae)}}}(this,this._state),this.root._oncreate.push(()=>{Vn.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),U(this))}function er(e,n){this._handlers={},this._dependents=[],this._computed=A(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=n&&n.immutable?L:C}t(Qn.prototype,D),t(Qn.prototype,Wn),Qn.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.newRole,t.newRole=function({users:e,userId:t}){if(!e||!e.length||!t)return!1;const n=e.find(e=>e.id===t);return n?n.role:"admin"}(t))&&(e.newRole=!0),e.$role&&(this._differs(t.isTeamOwner,t.isTeamOwner=function({$role:e}){return"owner"===e}(t))&&(e.isTeamOwner=!0),this._differs(t.isTeamAdmin,t.isTeamAdmin=function({$role:e}){return"admin"===e}(t))&&(e.isTeamAdmin=!0))},t(er.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];t["$"+r]=this._state[r]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,n){const r=this._state;this._state=t(t({},r),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,n);this.fire("state",{changed:n,previous:r,current:this._state}),this._dependents.filter(e=>{const t={};let r=!1;for(let i=0;i<e.props.length;i+=1){const s=e.props[i];s in n&&(t["$"+s]=this._state[s],r=!0)}if(r)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:n,previous:r,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],n=A();let r;function i(s){const a=e[s];a&&(a.deps.forEach(e=>{if(e===r)throw new Error(`Cyclical dependency detected between ${e} <-> ${s}`);i(e)}),n[s]||(n[s]=!0,t.push(a)))}for(const e in this._computed)i(r=e)},compute(e,n,r){let i;const s={deps:n,update:(t,s,a)=>{const o=n.map(e=>(e in s&&(a=!0),t[e]));if(a){const n=r.apply(null,o);this._differs(n,i)&&(i=n,s[e]=!0,t[e]=i)}}};this._computed[e]=s,this._sortComputedProperties();const a=t({},this._state),o={};s.update(a,o,!0),this._set(a,o)},fire:M,get:O,on:I,set(e){const t=this._state,n=this._changed={};let r=!1;for(const i in e){if(this._computed[i])throw new Error(`'${i}' is a read-only computed property`);this._differs(e[i],t[i])&&(n[i]=r=!0)}r&&this._set(e,n)}});return{App:Qn,store:new er({})}}));
//# sourceMappingURL=members.js.map
