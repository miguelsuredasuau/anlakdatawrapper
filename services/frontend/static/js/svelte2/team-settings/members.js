!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/team-settings/members",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["team-settings/members"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n in t)e[n]=1;return e}function r(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n)}function s(e){e.parentNode.removeChild(e)}function a(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function o(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function l(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function c(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function d(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(){return document.createDocumentFragment()}function m(e){return document.createElement(e)}function p(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function h(){return document.createComment("")}function g(e,t,n,r){e.addEventListener(t,n,r)}function v(e,t,n,r){e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function w(e,t){e.data=""+t}function y(e,t,n){e.style.setProperty(t,n)}function T(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function N(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function k(e,t,n){e.classList[n?"add":"remove"](t)}function x(e,n){var r,i=n.token={};function s(e,r,s,a){if(n.token!==i)return;n.resolved=s&&{[s]:a};const o=t(t({},n.ctx),n.resolved),l=e&&(n.current=e)(n.component,o);n.block&&(n.blocks?n.blocks.forEach((e,t)=>{t!==r&&e&&e.o(()=>{e.d(1),n.blocks[t]=null})}):n.block.d(1),l.c(),l[l.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=l,n.blocks&&(n.blocks[r]=l)}if((r=e)&&"function"==typeof r.then){if(e.then(e=>{s(n.then,1,n.value,e)},e=>{s(n.catch,2,n.error,e)}),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,e),!0;n.resolved={[n.value]:e}}}function A(){return Object.create(null)}function E(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function C(e,t){return e!=e?t==t:e!==t}function L(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1){var i=n[r];if(!i.__calling)try{i.__calling=!0,i.call(this,t)}finally{i.__calling=!1}}}function M(e){e._lock=!0,O(e._beforecreate),O(e._oncreate),O(e._aftercreate),e._lock=!1}function U(){return this._state}function I(e,t){e._handlers=A(),e._slots=A(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function S(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function O(e){for(;e&&e.length;)e.shift()()}function H(){this.store._remove(this)}var R={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:U,fire:L,on:S,set:function(e){this._set(t({},e)),this.root._lock||M(this.root)},_recompute:e,_set:function(e){var n=this._state,r={},i=!1;for(var s in e=t(this._staged,e),this._staged={},e)this._differs(e[s],n[s])&&(r[s]=i=!0);i&&(this._state=t(t({},n),e),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:E};
/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function z(e,t,n){return(z=j()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&B(i,n.prototype),i}).apply(null,arguments)}function F(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=Object.hasOwnProperty,q=Object.setPrototypeOf,G=Object.isFrozen,W=Object.getPrototypeOf,V=Object.getOwnPropertyDescriptor,Y=Object.freeze,K=Object.seal,Z=Object.create,J="undefined"!=typeof Reflect&&Reflect,X=J.apply,Q=J.construct;X||(X=function(e,t,n){return e.apply(t,n)}),Y||(Y=function(e){return e}),K||(K=function(e){return e}),Q||(Q=function(e,t){return z(e,F(t))});var ee,te=ue(Array.prototype.forEach),ne=ue(Array.prototype.pop),re=ue(Array.prototype.push),ie=ue(String.prototype.toLowerCase),se=ue(String.prototype.match),ae=ue(String.prototype.replace),oe=ue(String.prototype.indexOf),le=ue(String.prototype.trim),ce=ue(RegExp.prototype.test),de=(ee=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q(ee,t)});function ue(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return X(e,t,r)}}function me(e,t,n){n=n||ie,q&&q(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var s=n(i);s!==i&&(G(t)||(t[r]=s),i=s)}e[i]=!0}return e}function pe(e){var t,n=Z(null);for(t in e)X(P,e,[t])&&(n[t]=e[t]);return n}function fe(e,t){for(;null!==e;){var n=V(e,t);if(n){if(n.get)return ue(n.get);if("function"==typeof n.value)return ue(n.value)}e=W(e)}return function(e){return console.warn("fallback value for",e),null}}var he=Y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ge=Y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ve=Y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),be=Y(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_e=Y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),we=Y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ye=Y(["#text"]),Te=Y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ne=Y(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ke=Y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xe=Y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ae=K(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ee=K(/<%[\w\W]*|[\w\W]*%>/gm),Ce=K(/^data-[\-\w.\u00B7-\uFFFF]/),Le=K(/^aria-[\-\w]+$/),Me=K(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ue=K(/^(?:\w+script|data):/i),Ie=K(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Se=K(/^html$/i),Oe=function(){return"undefined"==typeof window?null:window},He=function(e,t){if("object"!==D(e)||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Re=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe(),n=function(t){return e(t)};if(n.version="2.4.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,o=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,m=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,h=l.prototype,g=fe(h,"cloneNode"),v=fe(h,"nextSibling"),b=fe(h,"childNodes"),_=fe(h,"parentNode");if("function"==typeof a){var w=i.createElement("template");w.content&&w.content.ownerDocument&&(i=w.content.ownerDocument)}var y=He(f,r),T=y?y.createHTML(""):"",N=i,k=N.implementation,x=N.createNodeIterator,A=N.createDocumentFragment,E=N.getElementsByTagName,C=r.importNode,L={};try{L=pe(i).documentMode?i.documentMode:{}}catch(e){}var M={};n.isSupported="function"==typeof _&&k&&void 0!==k.createHTMLDocument&&9!==L;var U,I,S=Ae,O=Ee,H=Ce,R=Le,B=Ue,j=Ie,z=Me,$=null,P=me({},[].concat(F(he),F(ge),F(ve),F(_e),F(ye))),q=null,G=me({},[].concat(F(Te),F(Ne),F(ke),F(xe))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,K=null,Z=!0,J=!0,X=!1,Q=!1,ee=!1,ue=!1,Re=!1,De=!1,Be=!1,je=!1,ze=!0,Fe=!1,$e="user-content-",Pe=!0,qe=!1,Ge={},We=null,Ve=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ye=null,Ke=me({},["audio","video","img","source","image","track"]),Ze=null,Je=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml",tt=et,nt=!1,rt=["application/xhtml+xml","text/html"],it="text/html",st=null,at=i.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},lt=function(e){st&&st===e||(e&&"object"===D(e)||(e={}),e=pe(e),U=U=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,I="application/xhtml+xml"===U?function(e){return e}:ie,$="ALLOWED_TAGS"in e?me({},e.ALLOWED_TAGS,I):P,q="ALLOWED_ATTR"in e?me({},e.ALLOWED_ATTR,I):G,Ze="ADD_URI_SAFE_ATTR"in e?me(pe(Je),e.ADD_URI_SAFE_ATTR,I):Je,Ye="ADD_DATA_URI_TAGS"in e?me(pe(Ke),e.ADD_DATA_URI_TAGS,I):Ke,We="FORBID_CONTENTS"in e?me({},e.FORBID_CONTENTS,I):Ve,V="FORBID_TAGS"in e?me({},e.FORBID_TAGS,I):{},K="FORBID_ATTR"in e?me({},e.FORBID_ATTR,I):{},Ge="USE_PROFILES"in e&&e.USE_PROFILES,Z=!1!==e.ALLOW_ARIA_ATTR,J=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=e.SAFE_FOR_TEMPLATES||!1,ee=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Be=e.RETURN_DOM_FRAGMENT||!1,je=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,ze=!1!==e.SANITIZE_DOM,Fe=e.SANITIZE_NAMED_PROPS||!1,Pe=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||z,tt=e.NAMESPACE||et,e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(J=!1),Be&&(De=!0),Ge&&($=me({},F(ye)),q=[],!0===Ge.html&&(me($,he),me(q,Te)),!0===Ge.svg&&(me($,ge),me(q,Ne),me(q,xe)),!0===Ge.svgFilters&&(me($,ve),me(q,Ne),me(q,xe)),!0===Ge.mathMl&&(me($,_e),me(q,ke),me(q,xe))),e.ADD_TAGS&&($===P&&($=pe($)),me($,e.ADD_TAGS,I)),e.ADD_ATTR&&(q===G&&(q=pe(q)),me(q,e.ADD_ATTR,I)),e.ADD_URI_SAFE_ATTR&&me(Ze,e.ADD_URI_SAFE_ATTR,I),e.FORBID_CONTENTS&&(We===Ve&&(We=pe(We)),me(We,e.FORBID_CONTENTS,I)),Pe&&($["#text"]=!0),ee&&me($,["html","head","body"]),$.table&&(me($,["tbody"]),delete V.tbody),Y&&Y(e),st=e)},ct=me({},["mi","mo","mn","ms","mtext"]),dt=me({},["foreignobject","desc","title","annotation-xml"]),ut=me({},["title","style","font","a","script"]),mt=me({},ge);me(mt,ve),me(mt,be);var pt=me({},_e);me(pt,we);var ft=function(e){var t=_(e);t&&t.tagName||(t={namespaceURI:et,tagName:"template"});var n=ie(e.tagName),r=ie(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Xe?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(mt[n]):e.namespaceURI===Xe?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&dt[r]:Boolean(pt[n]):e.namespaceURI===et&&(!(t.namespaceURI===Qe&&!dt[r])&&(!(t.namespaceURI===Xe&&!ct[r])&&(!pt[n]&&(ut[n]||!mt[n]))))},ht=function(e){re(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=T}catch(t){e.remove()}}},gt=function(e,t){try{re(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){re(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!q[e])if(De||Be)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},vt=function(e){var t,n;if(Re)e="<remove></remove>"+e;else{var r=se(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===U&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=y?y.createHTML(e):e;if(tt===et)try{t=(new p).parseFromString(s,U)}catch(e){}if(!t||!t.documentElement){t=k.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?"":s}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),tt===et?E.call(t,ee?"html":"body")[0]:ee?t.documentElement:a},bt=function(e){return x.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},_t=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},wt=function(e){return"object"===D(o)?e instanceof o:e&&"object"===D(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},yt=function(e,t,r){M[e]&&te(M[e],(function(e){e.call(n,t,r,st)}))},Tt=function(e){var t;if(yt("beforeSanitizeElements",e,null),_t(e))return ht(e),!0;if(ce(/[\u0080-\uFFFF]/,e.nodeName))return ht(e),!0;var r=I(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:r,allowedTags:$}),e.hasChildNodes()&&!wt(e.firstElementChild)&&(!wt(e.content)||!wt(e.content.firstElementChild))&&ce(/<[/\w]/g,e.innerHTML)&&ce(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===r&&ce(/<template/i,e.innerHTML))return ht(e),!0;if(!$[r]||V[r]){if(!V[r]&&kt(r)){if(W.tagNameCheck instanceof RegExp&&ce(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(Pe&&!We[r]){var i=_(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return ht(e),!0}return e instanceof l&&!ft(e)?(ht(e),!0):"noscript"!==r&&"noembed"!==r||!ce(/<\/no(script|embed)/i,e.innerHTML)?(Q&&3===e.nodeType&&(t=e.textContent,t=ae(t,S," "),t=ae(t,O," "),e.textContent!==t&&(re(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(ht(e),!0)},Nt=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in at))return!1;if(J&&!K[t]&&ce(H,t));else if(Z&&ce(R,t));else if(!q[t]||K[t]){if(!(kt(e)&&(W.tagNameCheck instanceof RegExp&&ce(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&ce(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ce(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(Ze[t]);else if(ce(z,ae(n,j,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==oe(n,"data:")||!Ye[e]){if(X&&!ce(B,ae(n,j,"")));else if(n)return!1}else;return!0},kt=function(e){return e.indexOf("-")>0},xt=function(e){var t,r,i,s;yt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(s=a.length;s--;){var l=t=a[s],c=l.name,d=l.namespaceURI;if(r="value"===c?t.value:le(t.value),i=I(c),o.attrName=i,o.attrValue=r,o.keepAttr=!0,o.forceKeepAttr=void 0,yt("uponSanitizeAttribute",e,o),r=o.attrValue,!o.forceKeepAttr&&(gt(c,e),o.keepAttr))if(ce(/\/>/i,r))gt(c,e);else{Q&&(r=ae(r,S," "),r=ae(r,O," "));var u=I(e.nodeName);if(Nt(u,i,r)){if(!Fe||"id"!==i&&"name"!==i||(gt(c,e),r=$e+r),y&&"object"===D(f)&&"function"==typeof f.getAttributeType)if(d);else switch(f.getAttributeType(u,i)){case"TrustedHTML":r=y.createHTML(r);break;case"TrustedScriptURL":r=y.createScriptURL(r)}try{d?e.setAttributeNS(d,c,r):e.setAttribute(c,r),ne(n.removed)}catch(e){}}}}yt("afterSanitizeAttributes",e,null)}},At=function e(t){var n,r=bt(t);for(yt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)yt("uponSanitizeShadowNode",n,null),Tt(n)||(n.content instanceof s&&e(n.content),xt(n));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){var i,a,l,c,d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((nt=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!wt(e)){if("function"!=typeof e.toString)throw de("toString is not a function");if("string"!=typeof(e=e.toString()))throw de("dirty is not a string, aborting")}if(!n.isSupported){if("object"===D(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(wt(e))return t.toStaticHTML(e.outerHTML)}return e}if(ue||lt(u),n.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){var m=I(e.nodeName);if(!$[m]||V[m])throw de("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof o)1===(a=(i=vt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!De&&!Q&&!ee&&-1===e.indexOf("<"))return y&&je?y.createHTML(e):e;if(!(i=vt(e)))return De?null:je?T:""}i&&Re&&ht(i.firstChild);for(var p=bt(qe?e:i);l=p.nextNode();)3===l.nodeType&&l===c||Tt(l)||(l.content instanceof s&&At(l.content),xt(l),c=l);if(c=null,qe)return e;if(De){if(Be)for(d=A.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return q.shadowroot&&(d=C.call(r,d,!0)),d}var f=ee?i.outerHTML:i.innerHTML;return ee&&$["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&ce(Se,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),Q&&(f=ae(f,S," "),f=ae(f,O," ")),y&&je?y.createHTML(f):f},n.setConfig=function(e){lt(e),ue=!0},n.clearConfig=function(){st=null,ue=!1},n.isValidAttribute=function(e,t,n){st||lt({});var r=I(e),i=I(t);return Nt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(M[e]=M[e]||[],re(M[e],t))},n.removeHook=function(e){if(M[e])return ne(M[e])},n.removeHooks=function(e){M[e]&&(M[e]=[])},n.removeAllHooks=function(){M={}},n}();const De=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function Be(e,t=De){return e?("string"==typeof t&&(t=Array.from(t.toLowerCase().matchAll(/<([a-z][a-z0-9]*)>/g)).map(e=>e[1])),Re.sanitize(e,{ALLOWED_TAGS:t,ADD_ATTR:["target"],FORCE_BODY:!0})):e}Re.addHook("afterSanitizeElements",(function(e){"a"===e.nodeName.toLowerCase()&&("_self"!==e.getAttribute("target")&&e.setAttribute("target","_blank"),e.setAttribute("rel","nofollow noopener noreferrer"))}));const je={};function ze(e,t="core",n,...r){let i=function(e,t,n){try{return n[t][e]||e}catch(t){return e}}(e,t,n);return i="string"==typeof r[0]?function(e,t=[]){return e.replace(/\$(\d)/g,(e,n)=>void 0===t[+n]?e:Be(t[+n],""))}(i,r):function(e,t={}){return Object.entries(t).forEach(([t,n])=>{e=e.replace(new RegExp(`%${t}%|%${t}(?!\\w)`,"g"),n)}),e}(i,r[0]),Be(i,"<p><h1><h2><h3><h4><h5><h6><blockquote><ol><ul><li><pre><hr><br><a><em><i><strong><b><code><img><table><tr><th><td><small><span><div><sup><sub><tt>")}function Fe(e,t="core",...n){return e=e.trim(),je[t]||function(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(je[e]=window.__dw.vis.meta.locale||{}):je[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}(t),je[t][e]?ze(e,t,je,...n):"MISSING:"+e}const $e={true:"ASC",false:"DESC"},Pe=$e.true;var qe={sort(e,t){e.preventDefault();const n=(r=this.get(),t===r.orderBy?$e[r.order!==Pe]:Pe);var r;this.set({orderBy:t,order:n}),this.fire("sort",{orderBy:t,order:n})}};function Ge(e){const{component:t,ctx:n}=this._svelte;t.sort(e,n.item.orderBy)}function We(e,t,n){const r=Object.create(e);return r.item=t[n],r}function Ve(e,t,n){const r=Object.create(e);return r.item=t[n],r}function Ye(e,t){var n;return{c(){y(n=m("col"),"width",t.item.width)},m(e,t){i(e,n,t)},p(e,t){e.columnHeaders&&y(n,"width",t.item.width)},d(e){e&&s(n)}}}function Ke(e,t){var n,a,o=t.item.title;return{c(){n=m("span"),a=f(o),n.className="col"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.columnHeaders&&o!==(o=t.item.title)&&w(a,o)},d(e){e&&s(n)}}}function Ze(e,t){var n,a,o,l,c=t.item.title;return{c(){n=m("a"),a=f(c),n._svelte={component:e,ctx:t},g(n,"click",Ge),n.className=o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms",n.href=l="?orderBy="+t.item.orderBy},m(e,t){i(e,n,t),r(n,a)},p(e,r){t=r,e.columnHeaders&&c!==(c=t.item.title)&&w(a,c),n._svelte.ctx=t,(e.isActive||e.columnHeaders||e.isAscending)&&o!==(o="\n                            sortable\n                            "+(t.isActive(t.item)?t.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms")&&(n.className=o),e.columnHeaders&&l!==(l="?orderBy="+t.item.orderBy)&&(n.href=l)},d(e){e&&s(n),v(n,"click",Ge)}}}function Je(e,t){var n,r;function a(e){return e.item.orderBy?Ze:Ke}var o=a(t),l=o(e,t);return{c(){n=m("th"),l.c(),n.className=r=(t.item.className?t.item.className:"")+" svelte-l1s1ms"},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.columnHeaders&&r!==(r=(i.item.className?i.item.className:"")+" svelte-l1s1ms")&&(n.className=r)},d(e){e&&s(n),l.d()}}}function Xe(e){I(this,e),this._state=t({order:Pe,orderBy:"",uid:""},e.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){for(var n,a,o,l,u,p,h,g,v=e._slotted.default,b=t.columnHeaders,_=[],w=0;w<b.length;w+=1)_[w]=Ye(e,Ve(t,b,w));var y=t.columnHeaders,T=[];for(w=0;w<y.length;w+=1)T[w]=Je(e,We(t,y,w));return{c(){n=m("div"),a=m("table"),o=m("colgroup");for(var e=0;e<_.length;e+=1)_[e].c();l=f("\n\n        "),u=m("thead"),p=m("tr");for(e=0;e<T.length;e+=1)T[e].c();h=f("\n\n        "),g=m("tbody"),a.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms",n.dataset.uid=t.uid},m(e,t){i(e,n,t),r(n,a),r(a,o);for(var s=0;s<_.length;s+=1)_[s].m(o,null);r(a,l),r(a,u),r(u,p);for(s=0;s<T.length;s+=1)T[s].m(p,null);r(a,h),r(a,g),v&&r(g,v)},p(t,r){if(t.columnHeaders){b=r.columnHeaders;for(var i=0;i<b.length;i+=1){const n=Ve(r,b,i);_[i]?_[i].p(t,n):(_[i]=Ye(e,n),_[i].c(),_[i].m(o,null))}for(;i<_.length;i+=1)_[i].d(1);_.length=b.length}if(t.columnHeaders||t.isActive||t.isAscending){y=r.columnHeaders;for(i=0;i<y.length;i+=1){const n=We(r,y,i);T[i]?T[i].p(t,n):(T[i]=Je(e,n),T[i].c(),T[i].m(p,null))}for(;i<T.length;i+=1)T[i].d(1);T.length=y.length}t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),d(_,e),d(T,e),v&&c(g,v)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function Qe(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function et(e,t,n){const r=Object.create(e);return r.optgroup=t[n],r}function tt(e,t,n){const r=Object.create(e);return r.opt=t[n],r}function nt(e,t){for(var n,r=t.options,a=[],o=0;o<r.length;o+=1)a[o]=rt(e,tt(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=h()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.options||t.value){r=i.options;for(var s=0;s<r.length;s+=1){const o=tt(i,r,s);a[s]?a[s].p(t,o):(a[s]=rt(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){d(a,e),e&&s(n)}}}function rt(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=m("option"),a=f(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.options&&c!==(c=t.opt.label)&&w(a,c),e.options&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.options||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function it(e,t){for(var n,r=t.optgroups,a=[],o=0;o<r.length;o+=1)a[o]=at(e,et(t,r,o));return{c(){for(var e=0;e<a.length;e+=1)a[e].c();n=h()},m(e,t){for(var r=0;r<a.length;r+=1)a[r].m(e,t);i(e,n,t)},p(t,i){if(t.optgroups||t.value){r=i.optgroups;for(var s=0;s<r.length;s+=1){const o=et(i,r,s);a[s]?a[s].p(t,o):(a[s]=at(e,o),a[s].c(),a[s].m(n.parentNode,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){d(a,e),e&&s(n)}}}function st(e,t){var n,a,o,l,c=t.opt.label;return{c(){n=m("option"),a=f(c),n.__value=o=t.opt.value,n.value=n.__value,n.selected=l=t.opt.value===t.value},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.optgroups&&c!==(c=t.opt.label)&&w(a,c),e.optgroups&&o!==(o=t.opt.value)&&(n.__value=o),n.value=n.__value,(e.optgroups||e.value)&&l!==(l=t.opt.value===t.value)&&(n.selected=l)},d(e){e&&s(n)}}}function at(e,t){for(var n,r,a=t.optgroup.options,o=[],l=0;l<a.length;l+=1)o[l]=st(0,Qe(t,a,l));return{c(){n=m("optgroup");for(var e=0;e<o.length;e+=1)o[e].c();b(n,"label",r=t.optgroup.label)},m(e,t){i(e,n,t);for(var r=0;r<o.length;r+=1)o[r].m(n,null)},p(e,t){if(e.optgroups||e.value){a=t.optgroup.options;for(var i=0;i<a.length;i+=1){const r=Qe(t,a,i);o[i]?o[i].p(e,r):(o[i]=st(0,r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=a.length}e.optgroups&&r!==(r=t.optgroup.label)&&b(n,"label",r)},d(e){e&&s(n),d(o,e)}}}function ot(e){I(this,e),this._state=t({disabled:!1,width:"auto",options:[],optgroups:[],value:null,class:"",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,a,o,l=!1,c=t.options.length&&nt(e,t),d=t.optgroups.length&&it(e,t);function u(){l=!0,e.set({value:N(n)}),l=!1}function p(t){e.fire("change",t)}return{c(){n=m("select"),c&&c.c(),a=h(),d&&d.c(),g(n,"change",u),"value"in t||e.root._beforecreate.push(u),g(n,"change",p),n.className=o="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,y(n,"width",t.width),n.dataset.uid=t.uid},m(e,s){i(e,n,s),c&&c.m(n,null),r(n,a),d&&d.m(n,null),T(n,t.value)},p(t,r){r.options.length?c?c.p(t,r):((c=nt(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.optgroups.length?d?d.p(t,r):((d=it(e,r)).c(),d.m(n,null)):d&&(d.d(1),d=null),!l&&t.value&&T(n,r.value),t.class&&o!==(o="select-css "+r.class+" svelte-v0oq4b")&&(n.className=o),t.disabled&&(n.disabled=r.disabled),t.width&&y(n,"width",r.width),t.uid&&(n.dataset.uid=r.uid)},d(e){e&&s(n),c&&c.d(),d&&d.d(),v(n,"change",u),v(n,"change",p)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(Xe.prototype,R),t(Xe.prototype,qe),Xe.prototype._recompute=function(e,t){e.orderBy&&this._differs(t.isActive,t.isActive=function({orderBy:e}){return t=>e===t.orderBy}(t))&&(e.isActive=!0),e.order&&this._differs(t.isAscending,t.isAscending=function({order:e}){return e===Pe}(t))&&(e.isAscending=!0)},t(ot.prototype,R);function lt(e){I(this,e),this._state=t({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},e.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,a,o,l;return{c(){n=m("span"),a=p("svg"),y(o=p("use"),"fill",t.color),_(o,"xlink:href",t.iconURL),y(a,"height",t.size),y(a,"width",t.size),b(a,"class","svelte-1th5ah8"),n.className=l="svg-icon "+t.class+" svelte-1th5ah8",n.dataset.uid=t.uid,y(n,"animation-timing-function",t.timing),y(n,"animation-duration",t.duration),y(n,"height",t.size),y(n,"width",t.size),y(n,"vertical-align",t.valign),k(n,"spin",t.spin)},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.color&&y(o,"fill",t.color),e.iconURL&&_(o,"xlink:href",t.iconURL),e.size&&(y(a,"height",t.size),y(a,"width",t.size)),e.class&&l!==(l="svg-icon "+t.class+" svelte-1th5ah8")&&(n.className=l),e.uid&&(n.dataset.uid=t.uid),e.timing&&y(n,"animation-timing-function",t.timing),e.duration&&y(n,"animation-duration",t.duration),e.size&&(y(n,"height",t.size),y(n,"width",t.size)),e.valign&&y(n,"vertical-align",t.valign),(e.class||e.spin)&&k(n,"spin",t.spin)},d(e){e&&s(n)}}}(0,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(lt.prototype,R),lt.prototype._recompute=function(e,t){(e.icon||e.assetURL)&&this._differs(t.iconURL,t.iconURL=function({icon:e,assetURL:t}){return`${t||"/lib/icons/symbol/svg/sprite.symbol.svg"}#${e}`}(t))&&(e.iconURL=!0)};var ct={open(){this.set({open:!0})},dismiss(){this.set({open:!1}),this.fire("dismiss")},confirm(){this.set({open:!1}),this.fire("confirm")},handleKeystroke(e){const{open:t}=this.get();t&&"Escape"===e&&this.dismiss()}};function dt(e,t){var n,a,c,d,u,p,_,w,y,T,N,k,x,A,E,C,L,M,U=e._slotted.default,I=new lt({root:e.root,store:e.store,data:{icon:"close",size:"20px"}});function S(t){e.dismiss()}function O(t){e.dismiss()}var H=t.confirmButtonIcon&&ut(e,t);function R(t){e.confirm()}function D(t){t.stopPropagation(),e.fire("keyup",t)}function B(t){e.dismiss()}return{c(){n=m("div"),a=m("div"),c=m("button"),I._fragment.c(),d=f("\n        "),u=m("div"),p=m("h1"),_=f("\n            "),T=f("\n            "),N=m("div"),k=m("button"),x=f("\n                "),A=m("button"),H&&H.c(),E=f(" "),C=m("noscript"),L=f("\n"),M=m("div"),g(c,"click",S),c.type="button",c.className="close svelte-1f9lfqa",b(c,"aria-label",t.backButtonText),p.className="modal-title mb-4 svelte-1f9lfqa",g(k,"click",O),k.className="btn back svelte-1f9lfqa",g(A,"click",R),A.className="btn btn-danger svelte-1f9lfqa",N.className="actions pt-4 mt-4 svelte-1f9lfqa",u.className="modal-content svelte-1f9lfqa",g(a,"keyup",D),a.className="modal-body",n.className="modal",g(M,"click",B),M.className="modal-backdrop"},m(e,s){i(e,n,s),r(n,a),r(a,c),I._mount(c,null),r(a,d),r(a,u),r(u,p),p.innerHTML=t.title,r(u,_),U&&(r(u,w||(w=h())),r(u,U),r(u,y||(y=h()))),r(u,T),r(u,N),r(N,k),k.innerHTML=t.backButtonText,r(N,x),r(N,A),H&&H.m(A,null),r(A,E),r(A,C),C.insertAdjacentHTML("afterend",t.confirmButtonText),i(e,L,s),i(e,M,s)},p(t,n){t.backButtonText&&b(c,"aria-label",n.backButtonText),t.title&&(p.innerHTML=n.title),t.backButtonText&&(k.innerHTML=n.backButtonText),n.confirmButtonIcon?H?H.p(t,n):((H=ut(e,n)).c(),H.m(A,E)):H&&(H.d(1),H=null),t.confirmButtonText&&(o(C),C.insertAdjacentHTML("afterend",n.confirmButtonText))},d(e){e&&s(n),I.destroy(),v(c,"click",S),U&&(l(w,y,U),s(w),s(y)),v(k,"click",O),H&&H.d(),v(A,"click",R),v(a,"keyup",D),e&&(s(L),s(M)),v(M,"click",B)}}}function ut(e,t){var n={icon:t.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},r=new lt({root:e.root,store:e.store,data:n});return{c(){r._fragment.c()},m(e,t){r._mount(e,t)},p(e,t){var n={};e.confirmButtonIcon&&(n.icon=t.confirmButtonIcon),r._set(n)},d(e){r.destroy(e)}}}function mt(e){I(this,e),this._state=t({title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",open:!1},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n;function r(t){e.handleKeystroke(t.key)}window.addEventListener("keydown",r);var a=t.open&&dt(e,t);return{c(){a&&a.c(),n=h()},m(e,t){a&&a.m(e,t),i(e,n,t)},p(t,r){r.open?a?a.p(t,r):((a=dt(e,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){window.removeEventListener("keydown",r),a&&a.d(e),e&&s(n)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(mt.prototype,R),t(mt.prototype,ct);const pt={};function ft(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(pt[e]=window.__dw.vis.meta.locale||{}):pt[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function ht(e,t="core"){if(e=e.trim(),pt[t]||ft(t),!pt[t][e])return"MISSING:"+e;var n=pt[t][e];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),n}var gt={close(){const{closeFunc:e}=this.get();e?e():(this.set({visible:!1}),this.fire("close"))}};function vt(e,t){var n,r;function a(e){return"upgrade-info"===e.type?_t:bt}var o=a(t),l=o(e,t);return{c(){n=m("div"),l.c(),n.className=r="alert "+t.class+" svelte-1h26igv",n.dataset.uid=t.uid,k(n,"alert-intro","intro"===t.type),k(n,"alert-success","success"===t.type),k(n,"alert-warning","warning"===t.type),k(n,"alert-error","error"===t.type),k(n,"alert-info","info"===t.type),k(n,"alert-upgrade-info","upgrade-info"===t.type),k(n,"has-header",!!t.title)},m(e,t){i(e,n,t),l.m(n,null)},p(t,i){o===(o=a(i))&&l?l.p(t,i):(l.d(1),(l=o(e,i)).c(),l.m(n,null)),t.class&&r!==(r="alert "+i.class+" svelte-1h26igv")&&(n.className=r),t.uid&&(n.dataset.uid=i.uid),(t.class||t.type)&&(k(n,"alert-intro","intro"===i.type),k(n,"alert-success","success"===i.type),k(n,"alert-warning","warning"===i.type),k(n,"alert-error","error"===i.type),k(n,"alert-info","info"===i.type),k(n,"alert-upgrade-info","upgrade-info"===i.type)),(t.class||t.title)&&k(n,"has-header",!!i.title)},d(e){e&&s(n),l.d()}}}function bt(e,t){var n,r,a,o,c=e._slotted.default,d=(t.closeable||t.title)&&wt(e,t);return{c(){d&&d.c(),n=f("\n    "),c||(o=f("content"))},m(e,t){d&&d.m(e,t),i(e,n,t),c?(i(e,r||(r=h()),t),i(e,c,t),i(e,a||(a=h()),t)):i(e,o,t)},p(t,r){r.closeable||r.title?d?d.p(t,r):((d=wt(e,r)).c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null)},d(e){d&&d.d(e),e?(s(n),c||s(o)):(l(r,a,c),s(r),s(a))}}}function _t(t,n){var a,o,l,c,d,u,p,h,g=ht("upgrade-available"),v=ht("upgrade-info");return{c(){a=m("div"),o=m("span"),l=f("\n    "),c=m("div"),d=m("span"),u=f(g),p=f(" "),h=m("noscript"),o.className="upgrade-icon svelte-1h26igv",a.className="icon",d.className="title svelte-1h26igv"},m(e,t){i(e,a,t),r(a,o),o.innerHTML='<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>',i(e,l,t),i(e,c,t),r(c,d),r(d,u),r(c,p),r(c,h),h.insertAdjacentHTML("afterend",v)},p:e,d(e){e&&(s(a),s(l),s(c))}}}function wt(e,t){var n,a,o,l,c=t.title&&yt(e,t),d=t.closeable&&Tt(e),u=t.title&&Nt();return{c(){n=m("div"),c&&c.c(),a=f(" "),d&&d.c(),o=f("\n    "),u&&u.c(),l=h(),n.className="svelte-1h26igv",k(n,"header",!!t.title)},m(e,t){i(e,n,t),c&&c.m(n,null),r(n,a),d&&d.m(n,null),i(e,o,t),u&&u.m(e,t),i(e,l,t)},p(t,r){r.title?c?c.p(t,r):((c=yt(e,r)).c(),c.m(n,a)):c&&(c.d(1),c=null),r.closeable?d||((d=Tt(e)).c(),d.m(n,null)):d&&(d.d(1),d=null),t.title&&k(n,"header",!!r.title),r.title?u||((u=Nt()).c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(e){e&&s(n),c&&c.d(),d&&d.d(),e&&s(o),u&&u.d(e),e&&s(l)}}}function yt(e,t){var n,a;return{c(){n=m("div"),a=f(t.title),n.className="title svelte-1h26igv"},m(e,t){i(e,n,t),r(n,a)},p(e,t){e.title&&w(a,t.title)},d(e){e&&s(n)}}}function Tt(e,t){var n;function r(t){e.close()}return{c(){(n=m("button")).textContent="Ã—",g(n,"click",r),n.type="button",b(n,"aria-label","close"),n.className="close svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n),v(n,"click",r)}}}function Nt(e,t){var n;return{c(){(n=m("hr")).className="svelte-1h26igv"},m(e,t){i(e,n,t)},d(e){e&&s(n)}}}function kt(e){var n,r,a,o;I(this,e),this._state=t({visible:!1,type:"",closeable:!0,class:"",closeFunc:!1,uid:"",title:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,r=this._state,o=r.visible&&vt(n,r),{c(){o&&o.c(),a=h()},m(e,t){o&&o.m(e,t),i(e,a,t)},p(e,t){t.visible?o?o.p(e,t):((o=vt(n,t)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d(e){o&&o.d(e),e&&s(a)}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(kt.prototype,R),t(kt.prototype,gt);var xt={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},i.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=t+"="+n+o}}function a(e,n){if("undefined"!=typeof document){for(var i={},s=document.cookie?document.cookie.split("; "):[],a=0;a<s.length;a++){var o=s[a].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(o[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=s,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){s(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))},e.exports=n()}(xt);var At=xt.exports;const Et=new Set(["get","head","options","trace"]);function Ct(e,t={}){if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl=window.dw.backend.__api_domain.startsWith("http")?window.dw.backend.__api_domain:"//"+window.dw.backend.__api_domain}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:n,baseUrl:r,fetch:i,raw:s,...a}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...t,headers:{"Content-Type":"application/json",...t.headers}},o=`${r.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let l;if(n&&(a.body=JSON.stringify(n)),a.headers["Content-Type"].startsWith("multipart/")&&delete a.headers["Content-Type"],a.disableCSFR||Et.has(a.method.toLowerCase()))l=i(o,a);else{const e=At.get("crumb");e?(a.headers["X-CSRF-Token"]=e,l=i(o,a)):l=Ct("/v3/me",{fetch:i,baseUrl:r}).then(()=>{const e=At.get("crumb");e&&(a.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>i(o,a))}return l.then(e=>{if(s)return e;if(!e.ok)throw new It(e);if(204===e.status||!e.headers.get("content-type"))return e;const t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}const Lt=Ct.get=Ut("GET");Ct.patch=Ut("PATCH"),Ct.put=Ut("PUT");const Mt=Ct.post=Ut("POST");function Ut(e){return(t,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return Ct(t,{...n,method:e})}}Ct.head=Ut("HEAD"),Ct.delete=Ut("DELETE");class It extends Error{constructor(e){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e}}const St=[{value:"owner",label:Fe("teams / role / owner").replace("&shy;","")},{value:"admin",label:Fe("teams / role / admin").replace("&shy;","")},{value:"member",label:Fe("teams / role / member").replace("&shy;","")}];async function Ot(e){if("HttpReqError"===e.name)try{return(await e.response.json()).message}catch(e){}return e.message}function Ht(e){return{member:Fe("teams / role / member"),admin:Fe("teams / role / admin"),owner:Fe("teams / role / owner")}[e]}var Rt={toggleEdit(e){this.get().editId===e?this.requestUpdateRole(e):this.set({editId:e})},async removeUser(e){if(window.confirm(Fe("teams / remove / alert"))){try{this.set({error:null}),await Ct.delete(`/v3/teams/${this.get().team.id}/members/${e.id}`)}catch(e){return void this.set({error:await Ot(e)})}var{users:t}=this.get();t=t.filter(t=>t.id!==e.id),this.set({users:t})}},async requestUpdateRole(e){var{users:t}=this.get();"owner"!==t.filter(t=>t.id===e)[0].role?await this.updateRole(e):this.refs.confirmationModal.open()},async updateRole(e){var{updating:t,users:n}=this.get();const r=n.filter(t=>t.id===e)[0];t[r.id]=!0,this.set({updating:t});try{this.set({error:null}),await Ct.put(`/v3/teams/${this.get().team.id}/members/${r.id}/status`,{payload:{status:r.role}})}catch(e){this.set({error:await Ot(e),updating:!1})}(t=this.get().updating)[r.id]=!1,this.set({updating:t,editId:!1}),this.fire("updateUsers")}};function Dt(e){const{component:t,ctx:n}=this._svelte;t.removeUser(n.user)}function Bt(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function jt(e){const{component:t,ctx:n}=this._svelte;t.toggleEdit(n.user.id)}function zt(e,t,n){const r=Object.create(e);return r.user=t[n],r.each_value=t,r.i=n,r}function Ft(e,t){var n,r=Fe("teams / total","core",{i:t.numUsers});return{c(){n=f(r)},m(e,t){i(e,n,t)},p(e,t){e.numUsers&&r!==(r=Fe("teams / total","core",{i:t.numUsers}))&&w(n,r)},d(e){e&&s(n)}}}function $t(t,n){var r,a=Fe("teams / total / 1");return{c(){r=f(a)},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function Pt(e,t){for(var n,i=t.sortedUsers,s=[],a=0;a<i.length;a+=1)s[a]=en(e,zt(t,i,a));var o={columnHeaders:t.userHeaders},l=new Xe({root:e.root,store:e.store,slots:{default:u()},data:o});return{c(){for(var e=0;e<s.length;e+=1)s[e].c();n=h(),l._fragment.c()},m(e,t){for(var i=0;i<s.length;i+=1)s[i].m(l._slotted.default,null);r(l._slotted.default,n),l._mount(e,t)},p(t,r){if(t.error||t.isAdmin||t.isTeamOwner||t.sortedUsers||t.userId||t.editId||t.updating||t.roles){i=r.sortedUsers;for(var a=0;a<i.length;a+=1){const o=zt(r,i,a);s[a]?s[a].p(t,o):(s[a]=en(e,o),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}var o={};t.userHeaders&&(o.columnHeaders=r.userHeaders),l._set(o)},d(e){d(s,e),l.destroy(e)}}}function qt(e,t){var n,a,o,l,c=t.user.id;return{c(){n=m("td"),a=m("a"),o=f(c),a.href=l="/admin/chart/by/user/"+t.user.id},m(e,t){i(e,n,t),r(n,a),r(a,o)},p(e,t){e.sortedUsers&&c!==(c=t.user.id)&&w(o,c),e.sortedUsers&&l!==(l="/admin/chart/by/user/"+t.user.id)&&(a.href=l)},d(e){e&&s(n)}}}function Gt(e,t){var n,r,o,l,c=Ht(t.user.role),d=t.user.token&&Vt();return{c(){n=m("noscript"),r=m("noscript"),o=f(" "),d&&d.c(),l=h()},m(e,t){i(e,n,t),n.insertAdjacentHTML("afterend",c),i(e,r,t),i(e,o,t),d&&d.m(e,t),i(e,l,t)},p(e,t){e.sortedUsers&&c!==(c=Ht(t.user.role))&&(a(n,r),n.insertAdjacentHTML("afterend",c)),t.user.token?d||((d=Vt()).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},d(e){e&&(a(n,r),s(n),s(r),s(o)),d&&d.d(e),e&&s(l)}}}function Wt(e,t){var n,a,o,l={},c=Fe("teams / role / p"),d={width:"200px",options:t.roles};void 0!==t.user.role&&(d.value=t.user.role,l.value=!0);var u=new ot({root:e.root,store:e.store,data:d,_bind(n,r){var i={};!l.value&&n.value&&(t.user.role=r.value,i.sortedUsers=t.sortedUsers),e._set(i),l={}}});return e.root._beforecreate.push(()=>{u._bind({value:1},u.get())}),{c(){u._fragment.c(),n=f("\n            "),a=m("p"),o=f(c),a.className="mini-help"},m(e,t){u._mount(e,t),i(e,n,t),i(e,a,t),r(a,o)},p(e,n){t=n;var r={};e.roles&&(r.options=t.roles),!l.value&&e.sortedUsers&&(r.value=t.user.role,l.value=void 0!==t.user.role),u._set(r),l={}},d(e){u.destroy(e),e&&(s(n),s(a))}}}function Vt(e,t){var n,a,o=Fe("teams / invite-pending");return{c(){n=m("i"),a=f(o)},m(e,t){i(e,n,t),r(n,a)},d(e){e&&s(n)}}}function Yt(t,n){var a,o,l=Fe("teams / edit-role / owner / info");return{c(){a=m("p"),o=f(l),a.className="mini-help"},m(e,t){i(e,a,t),r(a,o)},p:e,d(e){e&&s(a)}}}function Kt(e,t){var n;function r(e){return e.editId===e.user.id?Xt:e.updating[e.user.id]?Jt:Zt}var a=r(t),o=a(e,t);return{c(){o.c(),n=h()},m(e,t){o.m(e,t),i(e,n,t)},p(t,i){a===(a=r(i))&&o?o.p(t,i):(o.d(1),(o=a(e,i)).c(),o.m(n.parentNode,n))},d(e){o.d(e),e&&s(n)}}}function Zt(e,t){var n,a,o,l,c,d,u,p,h,b=Fe("teams / edit"),_=Fe("teams / remove");return{c(){n=m("button"),a=m("i"),o=f("Â  "),l=f(b),c=f("\n\n            "),d=m("button"),u=m("i"),p=f("Â  "),h=f(_),a.className="fa fa-edit",n._svelte={component:e,ctx:t},g(n,"click",Bt),n.className="btn",u.className="fa fa-times",d._svelte={component:e,ctx:t},g(d,"click",Dt),d.className="btn"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l),i(e,c,t),i(e,d,t),r(d,u),r(d,p),r(d,h)},p(e,r){t=r,n._svelte.ctx=t,d._svelte.ctx=t},d(e){e&&s(n),v(n,"click",Bt),e&&(s(c),s(d)),v(d,"click",Dt)}}}function Jt(t,n){var a,o,l,c,d=Fe("teams / save");return{c(){a=m("button"),o=m("i"),l=f("Â  "),c=f(d),o.className="fa fa-spin fa-circle-o-notch",a.disabled=!0,a.className="btn btn-primary"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c)},p:e,d(e){e&&s(a)}}}function Xt(e,t){var n,a,o,l,c=Fe("teams / save");return{c(){n=m("button"),a=m("i"),o=f("Â  "),l=f(c),a.className="fa fa-check",n._svelte={component:e,ctx:t},g(n,"click",jt),n.className="btn btn-primary"},m(e,t){i(e,n,t),r(n,a),r(n,o),r(n,l)},p(e,r){t=r,n._svelte.ctx=t},d(e){e&&s(n),v(n,"click",jt)}}}function Qt(e,t){var n,i=new kt({root:e.root,store:e.store,slots:{default:u()},data:{type:"error",visible:!0}});return{c(){n=f(t.error),i._fragment.c()},m(e,t){r(i._slotted.default,n),i._mount(e,t)},p(e,t){e.error&&w(n,t.error)},d(e){i.destroy(e)}}}function en(e,t){var n,a,o,l,c,d,u,p,h,g,v,b,_=t.user.email,y=t.user.charts,T=t.isAdmin&&qt(0,t);function N(e){return e.editId===e.user.id?Wt:Gt}var k=N(t),x=k(e,t);function A(e){return e.isAdmin&&!e.isTeamOwner||e.isTeamOwner&&e.user.id!==e.userId||"owner"!==e.user.role?Kt:e.isTeamOwner&&"owner"===e.user.role?Yt:void 0}var E=A(t),C=E&&E(e,t),L=t.error&&Qt(e,t);return{c(){n=m("tr"),a=m("td"),o=f(_),l=f("\n        "),T&&T.c(),c=f("\n        "),d=m("td"),u=f(y),p=f("\n        "),h=m("td"),x.c(),g=f("\n        "),v=m("td"),C&&C.c(),b=f(" "),L&&L.c()},m(e,t){i(e,n,t),r(n,a),r(a,o),r(n,l),T&&T.m(n,null),r(n,c),r(n,d),r(d,u),r(n,p),r(n,h),x.m(h,null),r(n,g),r(n,v),C&&C.m(v,null),r(v,b),L&&L.m(v,null)},p(t,r){t.sortedUsers&&_!==(_=r.user.email)&&w(o,_),r.isAdmin?T?T.p(t,r):((T=qt(0,r)).c(),T.m(n,c)):T&&(T.d(1),T=null),t.sortedUsers&&y!==(y=r.user.charts)&&w(u,y),k===(k=N(r))&&x?x.p(t,r):(x.d(1),(x=k(e,r)).c(),x.m(h,null)),E===(E=A(r))&&C?C.p(t,r):(C&&C.d(1),(C=E&&E(e,r))&&C.c(),C&&C.m(v,b)),r.error?L?L.p(t,r):((L=Qt(e,r)).c(),L.m(v,null)):L&&(L.d(1),L=null)},d(e){e&&s(n),T&&T.d(),x.d(),C&&C.d(),L&&L.d()}}}function tn(e,t){var n,i=Fe("teams / change-owner-confirmation / warning"),s=new kt({root:e.root,store:e.store,slots:{default:u()},data:{type:"'warning'",closeable:!1,visible:!0,class:"spacing-helper"}});return{c(){n=m("div"),s._fragment.c(),n.className="confirmation-warning svelte-1aw136m"},m(e,t){r(s._slotted.default,n),n.innerHTML=i,s._mount(e,t)},d(e){s.destroy(e)}}}function nn(e){I(this,e),this.refs={},this._state=t({editId:!1,error:null,updating:{},users:[],products:[]},e.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1,editId:1},this._state),this._intro=!0,this._fragment=function(e,t){var n,a,l,c,d,p,g,v;function b(e){return 1===e.numUsers?$t:e.numUsers>1?Ft:void 0}var _=b(t),w=_&&_(e,t),y=t.sortedUsers.length&&Pt(e,t),T=t.products.length&&tn(e),N={confirmButtonText:Fe("teams / change-owner-confirmation / confirm"),backButtonText:Fe("teams / change-owner-confirmation / back"),title:t.ownerChangeTitle},k=new mt({root:e.root,store:e.store,slots:{default:u()},data:N});return k.on("confirm",(function(n){e.updateRole(t.editId)})),e.refs.confirmationModal=k,{c(){n=m("p"),w&&w.c(),a=f(" "),l=m("noscript"),c=f("\n\n"),y&&y.c(),d=f("\n\n"),p=m("p"),g=f("\n    "),T&&T.c(),v=h(),k._fragment.c()},m(e,s){i(e,n,s),w&&w.m(n,null),r(n,a),r(n,l),l.insertAdjacentHTML("afterend",t.numChartsCaption),i(e,c,s),y&&y.m(e,s),i(e,d,s),r(k._slotted.default,p),p.innerHTML=t.ownerChangeMessage,r(k._slotted.default,g),T&&T.m(k._slotted.default,null),r(k._slotted.default,v),k._mount(e,s)},p(r,i){_===(_=b(t=i))&&w?w.p(r,t):(w&&w.d(1),(w=_&&_(e,t))&&w.c(),w&&w.m(n,a)),r.numChartsCaption&&(o(l),l.insertAdjacentHTML("afterend",t.numChartsCaption)),t.sortedUsers.length?y?y.p(r,t):((y=Pt(e,t)).c(),y.m(d.parentNode,d)):y&&(y.d(1),y=null),r.ownerChangeMessage&&(p.innerHTML=t.ownerChangeMessage),t.products.length?T||((T=tn(e)).c(),T.m(v.parentNode,v)):T&&(T.d(1),T=null);var s={};r.ownerChangeTitle&&(s.title=t.ownerChangeTitle),k._set(s)},d(t){t&&s(n),w&&w.d(),t&&s(c),y&&y.d(t),t&&s(d),T&&T.d(),k.destroy(t),e.refs.confirmationModal===k&&(e.refs.confirmationModal=null)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(nn.prototype,R),t(nn.prototype,Rt),nn.prototype._recompute=function(e,t){(e.isAdmin||e.isTeamOwner)&&this._differs(t.roles,t.roles=function({isAdmin:e,isTeamOwner:t}){return e||t?St:St.slice(1)}(t))&&(e.roles=!0),(e.users||e.isAdmin)&&this._differs(t.sortedUsers,t.sortedUsers=function({users:e,isAdmin:t}){return e.sort((e,t)=>{const n=["owner","admin","member"];return n.indexOf(e.role)>n.indexOf(t.role)?1:n.indexOf(e.role)<n.indexOf(t.role)?-1:e.email>t.email?1:e.email<t.email?-1:0}).filter(e=>t||!e.isAdmin)}(t))&&(e.sortedUsers=!0),e.isAdmin&&this._differs(t.userHeaders,t.userHeaders=function({isAdmin:e}){const t=[{title:Fe("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:Fe("teams / status"),width:"15%"},{title:Fe("teams / actions"),width:"30%"}];return e||t.splice(1,1),t}(t))&&(e.userHeaders=!0),e.sortedUsers&&this._differs(t.numUsers,t.numUsers=function({sortedUsers:e}){return e.length}(t))&&(e.numUsers=!0),e.users&&this._differs(t.numCharts,t.numCharts=function({users:e}){let t=0;return e.forEach(e=>{t+=e.charts}),t}(t))&&(e.numCharts=!0),(e.numCharts||e.isAdmin||e.team)&&this._differs(t.numChartsCaption,t.numChartsCaption=function({numCharts:e,isAdmin:t,team:n}){return 1===e?Fe("teams / charts-total / 1"):e>1?t?Fe("teams / charts-total-admin","core",{i:e,link:"/admin/chart/by/team/"+n.id}):Fe("teams / charts-total","core",{i:e}):""}(t))&&(e.numChartsCaption=!0),(e.users||e.editId||e.team||e.isTeamOwner)&&this._differs(t.ownerChangeMessage,t.ownerChangeMessage=function({users:e,editId:t,team:n,isTeamOwner:r}){const i=e.find(e=>e.id===t),s=e.find(e=>e.id!==t&&"owner"===e.role),a=i?i.name||i.email||i.id:"non-existent",o=s?s.name||s.email||s.id:"non-existent";return Fe("teams / change-owner-confirmation / message","core",{member:`<b>${Be(a,"")}</b>`,team:`<b>${n.name}</b>`,message:r?Fe("teams / change-owner-confirmation / owner-message"):Fe("teams / change-owner-confirmation / non-owner-message","core",{member:`<b>${o}</b>`})})}(t))&&(e.ownerChangeMessage=!0),(e.users||e.editId)&&this._differs(t.ownerChangeTitle,t.ownerChangeTitle=function({users:e,editId:t}){const n=e.find(e=>e.id===t);return Fe("teams / change-owner-confirmation / title","core",{member:n?n.name||n.email||n.id:"non-existent"})}(t))&&(e.ownerChangeTitle=!0)};var rn={toggle(e){e.preventDefault();const{visible:t,disabled:n}=this.get();n||this.set({visible:!t})},windowClick(e){if(!e.target)return;const t="SVELTE2-WRAPPER"===e.target.tagName;if(t&&!e.composedPath().length)return;const n=t?e.composedPath()[0]:e.target,r=this.refs&&this.refs.button;r&&r===n||e.target.classList.contains("hex")||this.set({visible:!1})}};function sn(e,t){var n,a,o=e._slotted.content;return{c(){n=m("div"),o||((a=m("div")).textContent="DropdownControl content"),o||(a.className="base-dropdown-inner svelte-1jdtmzv"),y(n,"width",t.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m(e,t){i(e,n,t),r(n,o||a)},p(e,t){e.width&&y(n,"width",t.width)},d(e){e&&s(n),o&&c(n,o)}}}function an(e){I(this,e),this.refs={},this._state=t({visible:!1,disabled:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=function(e,t){var n,a,o,l,d,u,p=e._slotted.button;function h(t){e.windowClick(t)}function b(t){e.toggle(t)}window.addEventListener("click",h);var _=t.visible&&sn(e,t);return{c(){n=m("div"),a=m("a"),p||(o=m("button"),l=m("i")),u=f("\n    "),_&&_.c(),p||(l.className=d="fa fa-chevron-"+(t.visible?"up":"down")+" svelte-1jdtmzv",o.className="btn btn-small"),g(a,"click",b),a.href="#dropdown-btn",a.className="base-drop-btn svelte-1jdtmzv",y(n,"position","relative"),y(n,"display","inline-block"),n.dataset.uid=t.uid},m(t,s){i(t,n,s),r(n,a),p?r(a,p):(r(a,o),r(o,l)),e.refs.button=a,r(n,u),_&&_.m(n,null)},p(t,r){p||t.visible&&d!==(d="fa fa-chevron-"+(r.visible?"up":"down")+" svelte-1jdtmzv")&&(l.className=d),r.visible?_?_.p(t,r):((_=sn(e,r)).c(),_.m(n,null)):_&&(_.d(1),_=null),t.uid&&(n.dataset.uid=r.uid)},d(t){window.removeEventListener("click",h),t&&s(n),p&&c(a,p),v(a,"click",b),e.refs.button===a&&(e.refs.button=null),_&&_.d()}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(an.prototype,R),t(an.prototype,rn);var on={fireClick(){this.fire("click")},action(e){e.disabled||e.action(this)}};function ln(e){e.preventDefault();const{component:t,ctx:n}=this._svelte;t.action(n.item)}function cn(e,t,n){const r=Object.create(e);return r.item=t[n],r}function dn(e,t){var n,a,l,c,d=t.icon&&un(e,t);function u(t){t.preventDefault(),t.stopPropagation(),e.fireClick()}return{c(){n=m("button"),d&&d.c(),a=f(" "),l=m("noscript"),g(n,"click",u),n.disabled=t.disabled,n.className=c="split-button-label "+t.btnClass+" svelte-1qu0vk"},m(e,s){i(e,n,s),d&&d.m(n,null),r(n,a),r(n,l),l.insertAdjacentHTML("afterend",t.label)},p(t,r){r.icon?d?d.p(t,r):((d=un(e,r)).c(),d.m(n,a)):d&&(d.d(1),d=null),t.label&&(o(l),l.insertAdjacentHTML("afterend",r.label)),t.disabled&&(n.disabled=r.disabled),t.btnClass&&c!==(c="split-button-label "+r.btnClass+" svelte-1qu0vk")&&(n.className=c)},d(e){e&&s(n),d&&d.d(),v(n,"click",u)}}}function un(e,t){var n;return{c(){(n=m("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function mn(e,t){var n,r,a=t.icon&&fn(e,t);function o(e){return e.label?gn:hn}var l=o(t),c=l(e,t);return{c(){a&&a.c(),n=f(" "),c.c(),r=h()},m(e,t){a&&a.m(e,t),i(e,n,t),c.m(e,t),i(e,r,t)},p(t,i){i.icon?a?a.p(t,i):((a=fn(e,i)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),l===(l=o(i))&&c?c.p(t,i):(c.d(1),(c=l(e,i)).c(),c.m(r.parentNode,r))},d(e){a&&a.d(e),e&&s(n),c.d(e),e&&s(r)}}}function pn(t,n){var r;return{c(){(r=m("span")).className="caret"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function fn(e,t){var n;return{c(){(n=m("i")).className=t.icon+" svelte-1qu0vk"},m(e,t){i(e,n,t)},p(e,t){e.icon&&(n.className=t.icon+" svelte-1qu0vk")},d(e){e&&s(n)}}}function hn(t,n){var r;return{c(){(r=m("i")).className="im im-menu-dot-h svelte-1qu0vk"},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function gn(e,t){var n,r,o,l;return{c(){n=m("noscript"),r=m("noscript"),o=f("\n            "),(l=m("span")).className="caret"},m(e,s){i(e,n,s),n.insertAdjacentHTML("afterend",t.label),i(e,r,s),i(e,o,s),i(e,l,s)},p(e,t){e.label&&(a(n,r),n.insertAdjacentHTML("afterend",t.label))},d(e){e&&(a(n,r),s(n),s(r),s(o),s(l))}}}function vn(e,t){var n,a,o,l=t.item.label;return{c(){n=m("li"),a=m("a"),o=f("\n        "),a._svelte={component:e,ctx:t},g(a,"click",ln),a.href="#/action",a.className="svelte-1qu0vk",k(a,"disabled",t.item.disabled),n.className="svelte-1qu0vk"},m(e,t){i(e,n,t),r(n,a),a.innerHTML=l,r(n,o)},p(e,n){t=n,e.items&&l!==(l=t.item.label)&&(a.innerHTML=l),a._svelte.ctx=t,e.items&&k(a,"disabled",t.item.disabled)},d(e){e&&s(n),v(a,"click",ln)}}}function bn(e){I(this,e),this._state=t({label:"",icon:!1,split:!1,items:[],btnClass:"btn",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,i,s,a,o,l=t.split&&dn(e,t);function c(e){return e.split?pn:mn}for(var p=c(t),h=p(e,t),g=t.items,v=[],_=0;_<g.length;_+=1)v[_]=vn(e,cn(t,g,_));var w={disabled:t.disabled,uid:t.uid},y=new an({root:e.root,store:e.store,slots:{default:u(),content:u(),button:u()},data:w});return{c(){n=m("div"),l&&l.c(),i=f("\n        "),s=m("button"),h.c(),a=f("\n\n    "),o=m("ul");for(var e=0;e<v.length;e+=1)v[e].c();y._fragment.c(),s.disabled=t.disabled,s.className=t.btnClass+" svelte-1qu0vk",b(n,"slot","button"),n.className="btn-group",b(o,"slot","content"),o.className="svelte-1qu0vk"},m(e,t){r(y._slotted.button,n),l&&l.m(n,null),r(n,i),r(n,s),h.m(s,null),r(y._slotted.default,a),r(y._slotted.content,o);for(var c=0;c<v.length;c+=1)v[c].m(o,null);y._mount(e,t)},p(t,r){if(r.split?l?l.p(t,r):((l=dn(e,r)).c(),l.m(n,i)):l&&(l.d(1),l=null),p===(p=c(r))&&h?h.p(t,r):(h.d(1),(h=p(e,r)).c(),h.m(s,null)),t.disabled&&(s.disabled=r.disabled),t.btnClass&&(s.className=r.btnClass+" svelte-1qu0vk"),t.items){g=r.items;for(var a=0;a<g.length;a+=1){const n=cn(r,g,a);v[a]?v[a].p(t,n):(v[a]=vn(e,n),v[a].c(),v[a].m(o,null))}for(;a<v.length;a+=1)v[a].d(1);v.length=g.length}var d={};t.disabled&&(d.disabled=r.disabled),t.uid&&(d.uid=r.uid),y._set(d)},d(e){l&&l.d(),h.d(),d(v,e),y.destroy(e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function _n(e,t){var n,a,o,l=e._slotted.labelExtra;return{c(){n=m("label"),a=m("noscript"),n.className="control-label svelte-150khnx"},m(e,s){i(e,n,s),r(n,a),a.insertAdjacentHTML("beforebegin",t.label),l&&(r(n,o||(o=h())),r(n,l))},p(e,t){e.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(a),a.insertAdjacentHTML("beforebegin",t.label))},d(e){e&&s(n),l&&function(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}(o,l)}}}function wn(e,t){var n;return{c(){(n=m("div")).className="help success svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.success},p(e,t){e.success&&(n.innerHTML=t.success)},d(e){e&&s(n)}}}function yn(e,t){var n;return{c(){(n=m("div")).className="help error svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.error},p(e,t){e.error&&(n.innerHTML=t.error)},d(e){e&&s(n)}}}function Tn(e,t){var n;return{c(){(n=m("div")).className="help svelte-150khnx"},m(e,r){i(e,n,r),n.innerHTML=t.help},p(e,t){e.help&&(n.innerHTML=t.help)},d(e){e&&s(n)}}}function Nn(e){var n,a,o,l,d,u,p,h,g,v,b,_,w,T;I(this,e),this._state=t({label:"",help:"",compact:!1,class:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,a=this._state,v=n._slotted.default,b=a.label&&_n(n,a),_=a.success&&wn(0,a),w=a.error&&yn(0,a),T=!a.success&&!a.error&&a.help&&Tn(0,a),{c(){o=m("div"),b&&b.c(),l=f("\n    "),d=m("div"),u=f("\n    "),_&&_.c(),p=f(" "),w&&w.c(),h=f(" "),T&&T.c(),d.className="form-controls svelte-150khnx",o.className=g="form-block "+a.class+" svelte-150khnx",y(o,"width",a.width),o.dataset.uid=a.uid,k(o,"compact",a.compact),k(o,"success",a.success),k(o,"error",a.error)},m(e,t){i(e,o,t),b&&b.m(o,null),r(o,l),r(o,d),v&&r(d,v),r(o,u),_&&_.m(o,null),r(o,p),w&&w.m(o,null),r(o,h),T&&T.m(o,null)},p(e,t){t.label?b?b.p(e,t):((b=_n(n,t)).c(),b.m(o,l)):b&&(b.d(1),b=null),t.success?_?_.p(e,t):((_=wn(0,t)).c(),_.m(o,p)):_&&(_.d(1),_=null),t.error?w?w.p(e,t):((w=yn(0,t)).c(),w.m(o,h)):w&&(w.d(1),w=null),t.success||t.error||!t.help?T&&(T.d(1),T=null):T?T.p(e,t):((T=Tn(0,t)).c(),T.m(o,null)),e.class&&g!==(g="form-block "+t.class+" svelte-150khnx")&&(o.className=g),e.width&&y(o,"width",t.width),e.uid&&(o.dataset.uid=t.uid),(e.class||e.compact)&&k(o,"compact",t.compact),(e.class||e.success)&&k(o,"success",t.success),(e.class||e.error)&&k(o,"error",t.error)},d(e){e&&s(o),b&&b.d(),v&&c(d,v),_&&_.d(),w&&w.d(),T&&T.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}t(bn.prototype,R),t(bn.prototype,on),t(Nn.prototype,R);var kn={async addUser(e){const{inviteeExists:t,inviteeUserId:n}=this.get();if(!t)return;this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const r=await Mt(`/v3/teams/${this.get().team.id}/members`,{raw:!0,payload:{userId:n,role:e}}),i=r.ok?null:await r.json(),s={updatingUsers:!1,isComplete:!0,isError:!r.ok,errorCode:r.ok?null:r.status,responseData:i&&i.data?i.data:null,type:"add",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:s}),this.fire("updateUsers")},async inviteUser(e){const{inviteeEmail:t}=this.get();this.set({currentAction:{updatingUsers:!0,isComplete:!1}});const n=await Mt(`/v3/teams/${this.get().team.id}/invites`,{raw:!0,payload:{email:t,role:e}}),r=n.ok?null:await n.json(),i={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:r&&r.data?r.data:null,type:"invite",role:e};this.set({invitedEmail:this.get().inviteeEmail,currentAction:i}),this.fire("updateUsers")},async debounceCheckUser(){this.get().isAdmin&&(window.clearTimeout(window.checkUser),this.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout(()=>{this.checkUser()},200))},async checkUser(){let{inviteeEmail:e}=this.get();const{isValidEmail:t}=this.get();if(!t)return void this.set({inviteeExistsLoading:!1});const n=await Lt("/v3/users?search="+encodeURIComponent(e));this.set({inviteeExistsLoading:!1,inviteeExists:!1}),n.list.length>0&&(e=this.get().inviteeEmail,n.list.forEach(t=>{t.email.toLowerCase()===e.toLowerCase()&&this.set({inviteeExists:!0,inviteeUserId:t.id})}))}};function xn(){window.teamSettingsInvite=this}function An({changed:e}){e.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function En(e){I(this,e),this._state=t({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},e.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[An],An.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,i,s,a=!1;function o(){a=!0,e.set({inviteeEmail:i.value}),a=!1}var l={disabled:!t.isValidEmail,label:"<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+Fe("teams / invite"),items:t.inviteOptions},c=new bn({root:e.root,store:e.store,data:l}),d={label:Fe("teams / invite-user"),help:Fe("teams / invite-user / help"),success:t.successMessage,error:t.errorMessage},p=new Nn({root:e.root,store:e.store,slots:{default:u()},data:d});return{c(){n=m("div"),i=m("input"),s=f("Â \n        "),c._fragment.c(),p._fragment.c(),g(i,"input",o),b(i,"type","text"),i.width="1px",i.placeholder=Fe("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m(e,a){r(p._slotted.default,n),r(n,i),i.value=t.inviteeEmail,r(n,s),c._mount(n,null),p._mount(e,a)},p(e,t){!a&&e.inviteeEmail&&(i.value=t.inviteeEmail);var n={};e.isValidEmail&&(n.disabled=!t.isValidEmail),e.currentAction&&(n.label="<i class='fa "+(t.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>Â  "+Fe("teams / invite")),e.inviteOptions&&(n.items=t.inviteOptions),c._set(n);var r={};e.successMessage&&(r.success=t.successMessage),e.errorMessage&&(r.error=t.errorMessage),p._set(r)},d(e){v(i,"input",o),c.destroy(),p.destroy(e)}}}(this,this._state),this.root._oncreate.push(()=>{xn.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}t(En.prototype,R),t(En.prototype,kn),En.prototype._recompute=function(e,t){(e.invitedEmail||e.currentAction)&&(this._differs(t.successMessage,t.successMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,type:i,role:s}=t;if(!n||r)return;return Fe(`teams / invite-user / ${i} / success`).replace("$1",(a=e,a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",Fe("teams / role / "+s));var a}(t))&&(e.successMessage=!0),this._differs(t.errorMessage,t.errorMessage=function({invitedEmail:e,currentAction:t}){const{isComplete:n,isError:r,errorCode:i,responseData:s,type:a}=t;if(!n||!r)return;const o=[400,401,406].includes(i)?i:"other",l=406===i&&s&&s.maxTeamInvites?s.maxTeamInvites:null;return Fe(`teams / invite-user / ${a} / error / ${o}`).replace("$1",e).replace("$2",l)}(t))&&(e.errorMessage=!0)),e.inviteeEmail&&this._differs(t.isValidEmail,t.isValidEmail=function({inviteeEmail:e}){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(t))&&(e.isValidEmail=!0),(e.isAdmin||e.isTeamOwner||e.isValidEmail||e.inviteeExistsLoading||e.inviteeExists)&&this._differs(t.inviteOptions,t.inviteOptions=function({isAdmin:e,isTeamOwner:t,isValidEmail:n,inviteeExistsLoading:r,inviteeExists:i}){const s=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Fe("teams / role / member"),disabled:!n,action(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'+Fe("teams / role / admin"),disabled:!n,action(){teamSettingsInvite.inviteUser("admin")}}];return(e||t)&&s.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'+Fe("teams / role / owner"),disabled:!n,action(){teamSettingsInvite.inviteUser("owner")}}),e&&s.push({label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Fe("teams / add-as").replace("%s",Fe("teams / role / member"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("member")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Fe("teams / add-as").replace("%s",Fe("teams / role / admin"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("admin")}},{label:`<span class="red"><i class="fa ${r?"fa-spin fa-circle-o-notch":"fa-plus"}"></i> &nbsp;${Fe("teams / add-as").replace("%s",Fe("teams / role / owner"))}</span>`,disabled:!i,action(){teamSettingsInvite.addUser("owner")}}),s}(t))&&(e.inviteOptions=!0)};var Cn={updateUsers(){const{team:e}=this.get();this.set({awaitLoadingUsers:Ct.get(`/v3/teams/${e.id}/members?limit=1000`).then(e=>{this.set({users:e.list})}),awaitLoadingProducts:Ct.get(`/v3/teams/${e.id}/products`).then(e=>{this.set({products:e.list})})})}};function Ln(){this.updateUsers()}function Mn({changed:e,current:t}){e.newRole&&t.newRole&&this.store.set({role:t.newRole})}function Un(e,n){var r,a;let o={component:e,ctx:n,current:null,pending:On,then:Sn,catch:In,value:"null",error:"null"};return x(a=n.awaitLoadingUsers,o),{c(){r=h(),o.block.c()},m(e,t){i(e,r,t),o.block.m(e,o.anchor=t),o.mount=()=>r.parentNode,o.anchor=r},p(e,r){n=r,o.ctx=n,"awaitLoadingUsers"in e&&a!==(a=n.awaitLoadingUsers)&&x(a,o)||o.block.p(e,t(t({},n),o.resolved))},d(e){e&&s(r),o.block.d(e),o=null}}}function In(t,n){var r;return{c(){r=f("error!")},m(e,t){i(e,r,t)},p:e,d(e){e&&s(r)}}}function Sn(e,t){var n={},r={isAdmin:t.isAdmin,isTeamOwner:t.isTeamOwner,isTeamAdmin:t.isTeamAdmin,team:t.team};void 0!==t.userId&&(r.userId=t.userId,n.userId=!0),void 0!==t.users&&(r.users=t.users,n.users=!0),void 0!==t.products&&(r.products=t.products,n.products=!0),void 0!==t.editIndex&&(r.editIndex=t.editIndex,n.editIndex=!0),void 0!==t.updating&&(r.updating=t.updating,n.updating=!0);var i=new nn({root:e.root,store:e.store,data:r,_bind(t,r){var i={};!n.userId&&t.userId&&(i.userId=r.userId),!n.users&&t.users&&(i.users=r.users),!n.products&&t.products&&(i.products=r.products),!n.editIndex&&t.editIndex&&(i.editIndex=r.editIndex),!n.updating&&t.updating&&(i.updating=r.updating),e._set(i),n={}}});return e.root._beforecreate.push(()=>{i._bind({userId:1,users:1,products:1,editIndex:1,updating:1},i.get())}),i.on("updateUsers",(function(t){e.updateUsers()})),{c(){i._fragment.c()},m(e,t){i._mount(e,t)},p(e,r){t=r;var s={};e.isAdmin&&(s.isAdmin=t.isAdmin),e.isTeamOwner&&(s.isTeamOwner=t.isTeamOwner),e.isTeamAdmin&&(s.isTeamAdmin=t.isTeamAdmin),e.team&&(s.team=t.team),!n.userId&&e.userId&&(s.userId=t.userId,n.userId=void 0!==t.userId),!n.users&&e.users&&(s.users=t.users,n.users=void 0!==t.users),!n.products&&e.products&&(s.products=t.products,n.products=void 0!==t.products),!n.editIndex&&e.editIndex&&(s.editIndex=t.editIndex,n.editIndex=void 0!==t.editIndex),!n.updating&&e.updating&&(s.updating=t.updating,n.updating=void 0!==t.updating),i._set(s),n={}},d(e){i.destroy(e)}}}function On(t,n){var a,o,l,c,d=Fe("teams / loading");return{c(){a=m("p"),o=m("i"),l=f(" Â  "),c=m("noscript"),o.className="fa fa-circle-o-notch fa-spin"},m(e,t){i(e,a,t),r(a,o),r(a,l),r(a,c),c.insertAdjacentHTML("afterend",d)},p:e,d(e){e&&s(a)}}}function Hn(e){I(this,e),this._state=t(t(this.store._init(["role"]),{editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1,products:[]}),e.data),this.store._add(this,["role"]),this._recompute({users:1,userId:1,$role:1},this._state),this._intro=!0,this._handlers.state=[Mn],this._handlers.destroy=[H],Mn.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,a,o,l,c,d,u,p,g,v,b,_,w,T,N,k,x,A,E,C,L,M,U,I,S,O,H,R,D,B,j,z,F,$,P,q,G,W,V,Y,K,Z,J,X,Q,ee,te,ne,re,ie,se,ae,oe,le,ce,de,ue,me,pe,fe,he,ge,ve,be,_e,we,ye,Te,Ne,ke,xe,Ae,Ee,Ce=Fe("teams / p"),Le={},Me=Fe("teams / role / member"),Ue=Fe("teams / role / admin"),Ie=Fe("teams / role / owner"),Se=Fe("teams / roles / edit-charts"),Oe=Fe("teams / roles / edit-folders"),He=Fe("teams / roles / access-settings"),Re=Fe("teams / roles / invite-users"),De=Fe("teams / roles / subscription-options"),Be=Fe("teams / roles / remove-team"),je={isTeamOwner:t.isTeamOwner,isAdmin:t.isAdmin};void 0!==t.team&&(je.team=t.team,Le.team=!0),void 0!==t.updatingUsers&&(je.updatingUsers=t.updatingUsers,Le.updatingUsers=!0);var ze=new En({root:e.root,store:e.store,data:je,_bind(t,n){var r={};!Le.team&&t.team&&(r.team=n.team),!Le.updatingUsers&&t.updatingUsers&&(r.updatingUsers=n.updatingUsers),e._set(r),Le={}}});e.root._beforecreate.push(()=>{ze._bind({team:1,updatingUsers:1},ze.get())}),ze.on("updateUsers",(function(t){e.updateUsers()}));var $e=t.awaitLoadingUsers&&Un(e,t);return{c(){n=m("p"),a=f("\n\n"),o=m("div"),l=m("div"),ze._fragment.c(),c=f("\n    "),d=m("div"),u=m("table"),p=m("thead"),g=m("tr"),v=m("td"),b=f("\n                    "),_=m("th"),w=f("\n                    "),T=m("th"),N=f("\n                    "),k=m("th"),x=f("\n            "),A=m("tbody"),E=m("tr"),C=m("td"),L=f("\n                    "),(M=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',U=f("\n                    "),(I=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',S=f("\n                    "),(O=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',H=f("\n\n                "),R=m("tr"),D=m("td"),B=f("\n                    "),(j=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',z=f("\n                    "),(F=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',$=f("\n                    "),(P=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=f("\n\n                "),G=m("tr"),W=m("td"),V=f("\n                    "),(Y=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',K=f("\n                    "),(Z=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',J=f("\n                    "),(X=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=f("\n\n                "),ee=m("tr"),te=m("td"),ne=f("\n                    "),(re=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ie=f("\n                    "),(se=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ae=f("\n                    "),(oe=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',le=f("\n\n                "),ce=m("tr"),de=m("td"),ue=f("\n                    "),(me=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pe=f("\n                    "),(fe=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',he=f("\n                    "),(ge=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ve=f("\n\n                "),be=m("tr"),_e=m("td"),we=f("\n                    "),(ye=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Te=f("\n                    "),(Ne=m("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',ke=f("\n                    "),(xe=m("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ae=f("\n\n"),$e&&$e.c(),Ee=h(),y(n,"margin-bottom","10px"),l.className="span4",v.className="svelte-hgmegl",_.className="svelte-hgmegl",T.className="svelte-hgmegl",k.className="svelte-hgmegl",C.className="svelte-hgmegl",M.className="svelte-hgmegl",I.className="svelte-hgmegl",O.className="svelte-hgmegl",D.className="svelte-hgmegl",j.className="svelte-hgmegl",F.className="svelte-hgmegl",P.className="svelte-hgmegl",W.className="svelte-hgmegl",Y.className="svelte-hgmegl",Z.className="svelte-hgmegl",X.className="svelte-hgmegl",te.className="svelte-hgmegl",re.className="svelte-hgmegl",se.className="svelte-hgmegl",oe.className="svelte-hgmegl",de.className="svelte-hgmegl",me.className="svelte-hgmegl",fe.className="svelte-hgmegl",ge.className="svelte-hgmegl",_e.className="svelte-hgmegl",ye.className="svelte-hgmegl",Ne.className="svelte-hgmegl",xe.className="svelte-hgmegl",A.className="svelte-hgmegl",u.className="role-descriptions svelte-hgmegl",y(u,"margin-left","3em"),d.className="span6",o.className="row",y(o,"margin-bottom","2em")},m(e,t){i(e,n,t),n.innerHTML=Ce,i(e,a,t),i(e,o,t),r(o,l),ze._mount(l,null),r(o,c),r(o,d),r(d,u),r(u,p),r(p,g),r(g,v),r(g,b),r(g,_),_.innerHTML=Me,r(g,w),r(g,T),T.innerHTML=Ue,r(g,N),r(g,k),k.innerHTML=Ie,r(u,x),r(u,A),r(A,E),r(E,C),C.innerHTML=Se,r(E,L),r(E,M),r(E,U),r(E,I),r(E,S),r(E,O),r(A,H),r(A,R),r(R,D),D.innerHTML=Oe,r(R,B),r(R,j),r(R,z),r(R,F),r(R,$),r(R,P),r(A,q),r(A,G),r(G,W),W.innerHTML=He,r(G,V),r(G,Y),r(G,K),r(G,Z),r(G,J),r(G,X),r(A,Q),r(A,ee),r(ee,te),te.innerHTML=Re,r(ee,ne),r(ee,re),r(ee,ie),r(ee,se),r(ee,ae),r(ee,oe),r(A,le),r(A,ce),r(ce,de),de.innerHTML=De,r(ce,ue),r(ce,me),r(ce,pe),r(ce,fe),r(ce,he),r(ce,ge),r(A,ve),r(A,be),r(be,_e),_e.innerHTML=Be,r(be,we),r(be,ye),r(be,Te),r(be,Ne),r(be,ke),r(be,xe),i(e,Ae,t),$e&&$e.m(e,t),i(e,Ee,t)},p(n,r){t=r;var i={};n.isTeamOwner&&(i.isTeamOwner=t.isTeamOwner),n.isAdmin&&(i.isAdmin=t.isAdmin),!Le.team&&n.team&&(i.team=t.team,Le.team=void 0!==t.team),!Le.updatingUsers&&n.updatingUsers&&(i.updatingUsers=t.updatingUsers,Le.updatingUsers=void 0!==t.updatingUsers),ze._set(i),Le={},t.awaitLoadingUsers?$e?$e.p(n,t):(($e=Un(e,t)).c(),$e.m(Ee.parentNode,Ee)):$e&&($e.d(1),$e=null)},d(e){e&&(s(n),s(a),s(o)),ze.destroy(),e&&s(Ae),$e&&$e.d(e),e&&s(Ee)}}}(this,this._state),this.root._oncreate.push(()=>{Ln.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),M(this))}function Rn(e,n){this._handlers={},this._dependents=[],this._computed=A(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=n&&n.immutable?C:E}t(Hn.prototype,R),t(Hn.prototype,Cn),Hn.prototype._recompute=function(e,t){(e.users||e.userId)&&this._differs(t.newRole,t.newRole=function({users:e,userId:t}){if(!e||!e.length||!t)return!1;const n=e.find(e=>e.id===t);return n?n.role:"admin"}(t))&&(e.newRole=!0),e.$role&&(this._differs(t.isTeamOwner,t.isTeamOwner=function({$role:e}){return"owner"===e}(t))&&(e.isTeamOwner=!0),this._differs(t.isTeamAdmin,t.isTeamAdmin=function({$role:e}){return"admin"===e}(t))&&(e.isTeamAdmin=!0))},t(Rn.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let n=0;n<e.length;n+=1){const r=e[n];t["$"+r]=this._state[r]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,n){const r=this._state;this._state=t(t({},r),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,n);this.fire("state",{changed:n,previous:r,current:this._state}),this._dependents.filter(e=>{const t={};let r=!1;for(let i=0;i<e.props.length;i+=1){const s=e.props[i];s in n&&(t["$"+s]=this._state[s],r=!0)}if(r)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:n,previous:r,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],n=A();let r;function i(s){const a=e[s];a&&(a.deps.forEach(e=>{if(e===r)throw new Error(`Cyclical dependency detected between ${e} <-> ${s}`);i(e)}),n[s]||(n[s]=!0,t.push(a)))}for(const e in this._computed)i(r=e)},compute(e,n,r){let i;const s={deps:n,update:(t,s,a)=>{const o=n.map(e=>(e in s&&(a=!0),t[e]));if(a){const n=r.apply(null,o);this._differs(n,i)&&(i=n,s[e]=!0,t[e]=i)}}};this._computed[e]=s,this._sortComputedProperties();const a=t({},this._state),o={};s.update(a,o,!0),this._set(a,o)},fire:L,get:U,on:S,set(e){const t=this._state,n=this._changed={};let r=!1;for(const i in e){if(this._computed[i])throw new Error(`'${i}' is a read-only computed property`);this._differs(e[i],t[i])&&(n[i]=r=!0)}r&&this._set(e,n)}});return{App:Hn,store:new Rn({})}}));
//# sourceMappingURL=members.js.map
