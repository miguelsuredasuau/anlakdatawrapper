!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("svelte/account/myteams",t):(e="undefined"!=typeof globalThis?globalThis:e||self)["account/myteams"]=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n in t)e[n]=1;return e}function a(e,t){e.appendChild(t)}function r(e,t,n){e.insertBefore(t,n)}function s(e){e.parentNode.removeChild(e)}function o(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function c(){return document.createDocumentFragment()}function i(e){return document.createElement(e)}function l(e){return document.createTextNode(e)}function u(){return document.createComment("")}function m(e,t,n,a){e.addEventListener(t,n,a)}function d(e,t,n,a){e.removeEventListener(t,n,a)}function p(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function h(e,t){e.data=""+t}function f(e,t,n){e.style.setProperty(t,n)}function v(e,t){for(var n=0;n<e.options.length;n+=1){var a=e.options[n];if(a.__value===t)return void(a.selected=!0)}}function g(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function _(e,t,n){e.classList[n?"add":"remove"](t)}function w(e,n){var a,r=n.token={};function s(e,a,s,o){if(n.token!==r)return;n.resolved=s&&{[s]:o};const c=t(t({},n.ctx),n.resolved),i=e&&(n.current=e)(n.component,c);n.block&&(n.blocks?n.blocks.forEach((e,t)=>{t!==a&&e&&e.o(()=>{e.d(1),n.blocks[t]=null})}):n.block.d(1),i.c(),i[i.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=i,n.blocks&&(n.blocks[a]=i)}if((a=e)&&"function"==typeof a.then){if(e.then(e=>{s(n.then,1,n.value,e)},e=>{s(n.catch,2,n.error,e)}),n.current!==n.pending)return s(n.pending,0),!0}else{if(n.current!==n.then)return s(n.then,1,n.value,e),!0;n.resolved={[n.value]:e}}}function b(){return Object.create(null)}function y(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function T(e,t){return e!=e?t==t:e!==t}function N(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var a=0;a<n.length;a+=1){var r=n[a];if(!r.__calling)try{r.__calling=!0,r.call(this,t)}finally{r.__calling=!1}}}function k(e){e._lock=!0,L(e._beforecreate),L(e._oncreate),L(e._aftercreate),e._lock=!1}function x(){return this._state}function C(e,t){e._handlers=b(),e._slots=b(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function S(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function L(e){for(;e&&e.length;)e.shift()()}var A={destroy:function(t){this.destroy=e,this.fire("destroy"),this.set=e,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:x,fire:N,on:S,set:function(e){this._set(t({},e)),this.root._lock||k(this.root)},_recompute:e,_set:function(e){var n=this._state,a={},r=!1;for(var s in e=t(this._staged,e),this._staged={},e)this._differs(e[s],n[s])&&(a[s]=r=!0);r&&(this._state=t(t({},n),e),this._recompute(a,this._state),this._bind&&this._bind(a,this._state),this._fragment&&(this.fire("state",{changed:a,current:this._state,previous:n}),this._fragment.p(a,this._state),this.fire("update",{changed:a,current:this._state,previous:n})))},_stage:function(e){t(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:y};const E={};function H(e="core"){"chart"===e?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(E[e]=window.__dw.vis.meta.locale||{}):E[e]="core"===e?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[e])}function M(e,t="core"){if(e=e.trim(),E[t]||H(t),!E[t][e])return"MISSING:"+e;var n=E[t][e];return"string"==typeof n&&arguments.length>2&&(n=n.replace(/\$(\d)/g,(e,t)=>(t=2+Number(t),void 0===arguments[t]?e:arguments[t]))),n}function O(e,t=11,n=7){return"string"!=typeof e||e.length<t+n+3?e:e.substr(0,t).trim()+"…"+e.substr(e.length-n).trim()}function j(e,t){var n,o,c,l=e._slotted.labelExtra;return{c(){n=i("label"),o=i("noscript"),n.className="control-label svelte-ydy0tw"},m(e,s){r(e,n,s),a(n,o),o.insertAdjacentHTML("beforebegin",t.label),l&&(a(n,c||(c=u())),a(n,l))},p(e,t){e.label&&(!function(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}(o),o.insertAdjacentHTML("beforebegin",t.label))},d(e){e&&s(n),l&&function(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}(c,l)}}}function $(e,t){var n;return{c(){(n=i("div")).className="help success svelte-ydy0tw"},m(e,a){r(e,n,a),n.innerHTML=t.success},p(e,t){e.success&&(n.innerHTML=t.success)},d(e){e&&s(n)}}}function R(e,t){var n;return{c(){(n=i("div")).className="help error svelte-ydy0tw"},m(e,a){r(e,n,a),n.innerHTML=t.error},p(e,t){e.error&&(n.innerHTML=t.error)},d(e){e&&s(n)}}}function U(e,t){var n;return{c(){(n=i("div")).className="help svelte-ydy0tw"},m(e,a){r(e,n,a),n.innerHTML=t.help},p(e,t){e.help&&(n.innerHTML=t.help)},d(e){e&&s(n)}}}function P(e){var n,o,c,u,m,d,p,h,v,g,w,b,y,T;C(this,e),this._state=t({label:"",help:"",compact:!1,class:"",error:!1,success:!1,width:"auto",uid:""},e.data),this._intro=!0,this._slotted=e.slots||{},this._fragment=(n=this,o=this._state,g=n._slotted.default,w=o.label&&j(n,o),b=o.success&&$(0,o),y=o.error&&R(0,o),T=!o.success&&!o.error&&o.help&&U(0,o),{c(){c=i("div"),w&&w.c(),u=l("\n    "),m=i("div"),d=l("\n    "),b&&b.c(),p=l(" "),y&&y.c(),h=l(" "),T&&T.c(),m.className="form-controls svelte-ydy0tw",c.className=v="form-block "+o.class+" svelte-ydy0tw",f(c,"width",o.width),c.dataset.uid=o.uid,_(c,"compact",o.compact),_(c,"success",o.success),_(c,"error",o.error)},m(e,t){r(e,c,t),w&&w.m(c,null),a(c,u),a(c,m),g&&a(m,g),a(c,d),b&&b.m(c,null),a(c,p),y&&y.m(c,null),a(c,h),T&&T.m(c,null)},p(e,t){t.label?w?w.p(e,t):((w=j(n,t)).c(),w.m(c,u)):w&&(w.d(1),w=null),t.success?b?b.p(e,t):((b=$(0,t)).c(),b.m(c,p)):b&&(b.d(1),b=null),t.error?y?y.p(e,t):((y=R(0,t)).c(),y.m(c,h)):y&&(y.d(1),y=null),t.success||t.error||!t.help?T&&(T.d(1),T=null):T?T.p(e,t):((T=U(0,t)).c(),T.m(c,null)),e.class&&v!==(v="form-block "+t.class+" svelte-ydy0tw")&&(c.className=v),e.width&&f(c,"width",t.width),e.uid&&(c.dataset.uid=t.uid),(e.class||e.compact)&&_(c,"compact",t.compact),(e.class||e.success)&&_(c,"success",t.success),(e.class||e.error)&&_(c,"error",t.error)},d(e){e&&s(c),w&&w.d(),g&&function(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}(m,g),b&&b.d(),y&&y.d(),T&&T.d()}}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function D(e,t,n){const a=Object.create(e);return a.opt=t[n],a}function I(e,t,n){const a=Object.create(e);return a.optgroup=t[n],a}function q(e,t,n){const a=Object.create(e);return a.opt=t[n],a}function F(e,t){for(var n,a=t.options,c=[],i=0;i<a.length;i+=1)c[i]=B(e,q(t,a,i));return{c(){for(var e=0;e<c.length;e+=1)c[e].c();n=u()},m(e,t){for(var a=0;a<c.length;a+=1)c[a].m(e,t);r(e,n,t)},p(t,r){if(t.options||t.value){a=r.options;for(var s=0;s<a.length;s+=1){const o=q(r,a,s);c[s]?c[s].p(t,o):(c[s]=B(e,o),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=a.length}},d(e){o(c,e),e&&s(n)}}}function B(e,t){var n,o,c,u,m=t.opt.label;return{c(){n=i("option"),o=l(m),n.__value=c=t.opt.value,n.value=n.__value,n.selected=u=t.opt.value===t.value},m(e,t){r(e,n,t),a(n,o)},p(e,t){e.options&&m!==(m=t.opt.label)&&h(o,m),e.options&&c!==(c=t.opt.value)&&(n.__value=c),n.value=n.__value,(e.options||e.value)&&u!==(u=t.opt.value===t.value)&&(n.selected=u)},d(e){e&&s(n)}}}function J(e,t){for(var n,a=t.optgroups,c=[],i=0;i<a.length;i+=1)c[i]=W(e,I(t,a,i));return{c(){for(var e=0;e<c.length;e+=1)c[e].c();n=u()},m(e,t){for(var a=0;a<c.length;a+=1)c[a].m(e,t);r(e,n,t)},p(t,r){if(t.optgroups||t.value){a=r.optgroups;for(var s=0;s<a.length;s+=1){const o=I(r,a,s);c[s]?c[s].p(t,o):(c[s]=W(e,o),c[s].c(),c[s].m(n.parentNode,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=a.length}},d(e){o(c,e),e&&s(n)}}}function G(e,t){var n,o,c,u,m=t.opt.label;return{c(){n=i("option"),o=l(m),n.__value=c=t.opt.value,n.value=n.__value,n.selected=u=t.opt.value===t.value},m(e,t){r(e,n,t),a(n,o)},p(e,t){e.optgroups&&m!==(m=t.opt.label)&&h(o,m),e.optgroups&&c!==(c=t.opt.value)&&(n.__value=c),n.value=n.__value,(e.optgroups||e.value)&&u!==(u=t.opt.value===t.value)&&(n.selected=u)},d(e){e&&s(n)}}}function W(e,t){for(var n,a,c=t.optgroup.options,l=[],u=0;u<c.length;u+=1)l[u]=G(0,D(t,c,u));return{c(){n=i("optgroup");for(var e=0;e<l.length;e+=1)l[e].c();p(n,"label",a=t.optgroup.label)},m(e,t){r(e,n,t);for(var a=0;a<l.length;a+=1)l[a].m(n,null)},p(e,t){if(e.optgroups||e.value){c=t.optgroup.options;for(var r=0;r<c.length;r+=1){const a=D(t,c,r);l[r]?l[r].p(e,a):(l[r]=G(0,a),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=c.length}e.optgroups&&a!==(a=t.optgroup.label)&&p(n,"label",a)},d(e){e&&s(n),o(l,e)}}}function X(e){C(this,e),this._state=t({disabled:!1,width:"auto",options:[],optgroups:[],value:null,class:"",uid:""},e.data),this._intro=!0,this._fragment=function(e,t){var n,o,c,l=!1,p=t.options.length&&F(e,t),h=t.optgroups.length&&J(e,t);function _(){l=!0,e.set({value:g(n)}),l=!1}function w(t){e.fire("change",t)}return{c(){n=i("select"),p&&p.c(),o=u(),h&&h.c(),m(n,"change",_),"value"in t||e.root._beforecreate.push(_),m(n,"change",w),n.className=c="select-css "+t.class+" svelte-v0oq4b",n.disabled=t.disabled,f(n,"width",t.width),n.dataset.uid=t.uid},m(e,s){r(e,n,s),p&&p.m(n,null),a(n,o),h&&h.m(n,null),v(n,t.value)},p(t,a){a.options.length?p?p.p(t,a):((p=F(e,a)).c(),p.m(n,o)):p&&(p.d(1),p=null),a.optgroups.length?h?h.p(t,a):((h=J(e,a)).c(),h.m(n,null)):h&&(h.d(1),h=null),!l&&t.value&&v(n,a.value),t.class&&c!==(c="select-css "+a.class+" svelte-v0oq4b")&&(n.className=c),t.disabled&&(n.disabled=a.disabled),t.width&&f(n,"width",a.width),t.uid&&(n.dataset.uid=a.uid)},d(e){e&&s(n),p&&p.d(),h&&h.d(),d(n,"change",_),d(n,"change",w)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}t(P.prototype,A),t(X.prototype,A);var Z={exports:{}};
/*!
	 * JavaScript Cookie v2.2.1
	 * https://github.com/js-cookie/js-cookie
	 *
	 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
	 * Released under the MIT license
	 */!function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(a){function r(){}function s(t,n,s){if("undefined"!=typeof document){"number"==typeof(s=e({path:"/"},r.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in s)s[i]&&(c+="; "+i,!0!==s[i]&&(c+="="+s[i].split(";")[0]));return document.cookie=t+"="+n+c}}function o(e,n){if("undefined"!=typeof document){for(var r={},s=document.cookie?document.cookie.split("; "):[],o=0;o<s.length;o++){var c=s[o].split("="),i=c.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var l=t(c[0]);if(i=(a.read||a)(i,l)||t(i),n)try{i=JSON.parse(i)}catch(e){}if(r[l]=i,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=s,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,n){s(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=n()}(Z);var z=Z.exports;const K=new Set(["get","head","options","trace"]);function Q(e,t={}){if(!t.fetch)try{t.fetch=window.fetch}catch(e){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!t.baseUrl)try{t.baseUrl=window.dw.backend.__api_domain.startsWith("http")?window.dw.backend.__api_domain:"//"+window.dw.backend.__api_domain}catch(e){throw new Error("Neither options.baseUrl nor window.dw is defined.")}const{payload:n,baseUrl:a,fetch:r,raw:s,...o}={payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include",...t,headers:{"Content-Type":"application/json",...t.headers}},c=`${a.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;let i;if(n&&(o.body=JSON.stringify(n)),o.headers["Content-Type"].startsWith("multipart/")&&delete o.headers["Content-Type"],o.disableCSFR||K.has(o.method.toLowerCase()))i=r(c,o);else{const e=z.get("crumb");e?(o.headers["X-CSRF-Token"]=e,i=r(c,o)):i=Q("/v3/me",{fetch:r,baseUrl:a}).then(()=>{const e=z.get("crumb");e&&(o.headers["X-CSRF-Token"]=e)}).catch(()=>{}).then(()=>r(c,o))}return i.then(e=>{if(s)return e;if(!e.ok)throw new Y(e);if(204===e.status||!e.headers.get("content-type"))return e;const t=e.headers.get("content-type").split(";")[0];return"application/json"===t?e.json():"image/png"===t||"application/pdf"===t?e.blob():e.text()})}function V(e){return(t,n)=>{if(n&&n.method)throw new Error(`Setting option.method is not allowed in httpReq.${e.toLowerCase()}()`);return Q(t,{...n,method:e})}}Q.get=V("GET"),Q.patch=V("PATCH"),Q.put=V("PUT"),Q.post=V("POST"),Q.head=V("HEAD"),Q.delete=V("DELETE");class Y extends Error{constructor(e){super(),this.name="HttpReqError",this.status=e.status,this.statusText=e.statusText,this.message=`[${e.status}] ${e.statusText}`,this.response=e}}var ee={createTeam(e,t){const{user:n}=this.get(),a={name:e};n.isAdmin&&t&&(a.id=String(t).trim().toLowerCase()),this.set({awaitCreateTeam:Q("/v3/teams",{method:"post",payload:a}).then(e=>{window.location.href=`/team/${e.id}/settings`})})},leaveTeam(e){const{user:t,teams:n}=this.get();window.confirm(M("account / my-teams / leave-team / confirm").replace("%team%",e.name))&&Q(`/v3/teams/${e.id}/members/${t.id}`,{method:"delete"}).then(()=>{window.alert(M("account / my-teams / leave-team / done")),n.splice(n.findIndex(t=>t.id===e.id),1),this.set({teams:n})}).catch(e=>{window.alert("There was a problem with your request. Please contact support@datawrapper.de"),console.error(e)})}};function te({changed:e,current:t,previous:n}){if(n&&e.currentTeam&&void 0!==t.currentTeam){Q.patch("/v3/me/settings",{payload:{activeTeam:t.currentTeam||null}}).then(()=>this.set({newActiveTeamState:"success"})).catch(()=>this.set({newActiveTeamState:"error"}))}}function ne(e){const{component:t,ctx:n}=this._svelte;t.leaveTeam(n.team)}function ae(e,t,n){const a=Object.create(e);return a.team=t[n],a}function re(t,n){var a,o=M("account / my-teams / no-teams-yet");return{c(){a=i("p")},m(e,t){r(e,a,t),a.innerHTML=o},p:e,d(e){e&&s(a)}}}function se(e,t){for(var n,c,u,m,d,p,h,f,v,g,_,w,b,y,T,N,k,x,C,S,L,A,E=M("account / my-teams / your-teams"),H=M("account / my-teams / name"),O=M("account / my-teams / your-role"),j=M("account / my-teams / num-charts"),$=M("account / my-teams / num-members"),R=M("account / my-teams / leave-team"),U=t.user.isAdmin&&oe(),P=t.teams,D=[],I=0;I<P.length;I+=1)D[I]=ve(e,ae(t,P,I));return{c(){n=i("p"),c=l("\n\n"),u=i("table"),m=i("thead"),d=i("tr"),p=i("th"),h=l(H),f=l("\n            "),U&&U.c(),v=l("\n            "),g=i("th"),_=l(O),w=l("\n            "),b=i("th"),y=l(j),T=l("\n            "),N=i("th"),k=l($),x=l("\n            "),C=i("th"),S=l(R),L=l("\n    "),A=i("tbody");for(var e=0;e<D.length;e+=1)D[e].c();u.className="table"},m(e,t){r(e,n,t),n.innerHTML=E,r(e,c,t),r(e,u,t),a(u,m),a(m,d),a(d,p),a(p,h),a(d,f),U&&U.m(d,null),a(d,v),a(d,g),a(g,_),a(d,w),a(d,b),a(b,y),a(d,T),a(d,N),a(N,k),a(d,x),a(d,C),a(C,S),a(u,L),a(u,A);for(var s=0;s<D.length;s+=1)D[s].m(A,null)},p(t,n){if(n.user.isAdmin?U||((U=oe()).c(),U.m(d,v)):U&&(U.d(1),U=null),t.teams||t.currentTeam||t.user){P=n.teams;for(var a=0;a<P.length;a+=1){const r=ae(n,P,a);D[a]?D[a].p(t,r):(D[a]=ve(e,r),D[a].c(),D[a].m(A,null))}for(;a<D.length;a+=1)D[a].d(1);D.length=P.length}},d(e){e&&(s(n),s(c),s(u)),U&&U.d(),o(D,e)}}}function oe(e,t){var n,o,c=M("account / my-teams / id");return{c(){n=i("th"),o=l(c)},m(e,t){r(e,n,t),a(n,o)},d(e){e&&s(n)}}}function ce(e,t){var n,o,c,u=O(t.team.name,20,10);return{c(){n=i("a"),o=l(u),n.href=c="/team/"+t.team.id+"/settings"},m(e,t){r(e,n,t),a(n,o)},p(e,t){e.teams&&u!==(u=O(t.team.name,20,10))&&h(o,u),e.teams&&c!==(c="/team/"+t.team.id+"/settings")&&(n.href=c)},d(e){e&&s(n)}}}function ie(e,t){var n,a=O(t.team.name,20,10);return{c(){n=l(a)},m(e,t){r(e,n,t)},p(e,t){e.teams&&a!==(a=O(t.team.name,20,10))&&h(n,a)},d(e){e&&s(n)}}}function le(e,t){var n;return{c(){(n=i("i")).className="fa fa-check-circle"},m(e,t){r(e,n,t)},d(e){e&&s(n)}}}function ue(e,t){var n,o,c=t.team.id;return{c(){n=i("td"),o=l(c),n.className="slug svelte-t3x94h"},m(e,t){r(e,n,t),a(n,o)},p(e,t){e.teams&&c!==(c=t.team.id)&&h(o,c)},d(e){e&&s(n)}}}function me(e,t){var n,o,c,m,d,p=t.team.members,f=t.team.invites&&pe(e,t);return{c(){n=i("a"),o=l(p),m=l(" "),f&&f.c(),d=u(),n.href=c="/team/"+t.team.id+"/members"},m(e,t){r(e,n,t),a(n,o),r(e,m,t),f&&f.m(e,t),r(e,d,t)},p(t,a){t.teams&&p!==(p=a.team.members)&&h(o,p),t.teams&&c!==(c="/team/"+a.team.id+"/members")&&(n.href=c),a.team.invites?f?f.p(t,a):((f=pe(e,a)).c(),f.m(d.parentNode,d)):f&&(f.d(1),f=null)},d(e){e&&(s(n),s(m)),f&&f.d(e),e&&s(d)}}}function de(e,t){var n,a=t.team.members;return{c(){n=l(a)},m(e,t){r(e,n,t)},p(e,t){e.teams&&a!==(a=t.team.members)&&h(n,a)},d(e){e&&s(n)}}}function pe(e,t){var n,o,c,u,m=t.team.invites;return{c(){n=i("span"),o=l("(+"),c=l(m),u=l(")"),n.className="invites svelte-t3x94h"},m(e,t){r(e,n,t),a(n,o),a(n,c),a(n,u)},p(e,t){e.teams&&m!==(m=t.team.invites)&&h(c,m)},d(e){e&&s(n)}}}function he(e,t){var n,o,c,u,m,d=M("account / my-teams / delete-team");return{c(){n=i("a"),o=i("i"),c=l(" "),u=l(d),o.className="fa fa-trash",n.href=m="/team/"+t.team.id+"/delete",n.className="btn btn-small btn-danger"},m(e,t){r(e,n,t),a(n,o),a(n,c),a(n,u)},p(e,t){e.teams&&m!==(m="/team/"+t.team.id+"/delete")&&(n.href=m)},d(e){e&&s(n)}}}function fe(e,t){var n,o,c,u,p=M("account / my-teams / leave-team");return{c(){n=i("button"),o=i("i"),c=l(" "),u=l(p),o.className="fa fa-sign-out",n._svelte={component:e,ctx:t},m(n,"click",ne),n.className="btn btn-small"},m(e,t){r(e,n,t),a(n,o),a(n,c),a(n,u)},p(e,a){t=a,n._svelte.ctx=t},d(e){e&&s(n),d(n,"click",ne)}}}function ve(e,t){var n,o,c,u,m,d,p,f,v,g,w,b,y,T,N,k=M("teams / role / "+t.team.role),x=t.team.charts;function C(e){return"member"!==e.team.role||e.user.isAdmin?ce:ie}var S=C(t),L=S(e,t),A=t.team.id===t.currentTeam&&le(),E=t.user.isAdmin&&ue(0,t);function H(e){return"member"===e.team.role?de:me}var O=H(t),j=O(e,t);function $(e){return"owner"!==e.team.role?fe:he}var R=$(t),U=R(e,t);return{c(){n=i("tr"),o=i("td"),L.c(),c=l(" "),A&&A.c(),u=l("\n            "),E&&E.c(),m=l("\n            "),d=i("td"),p=l("\n            "),f=i("td"),v=i("a"),g=l(x),b=l("\n            "),y=i("td"),j.c(),T=l("\n\n            "),N=i("td"),U.c(),v.href=w="/team/"+t.team.id,_(n,"current",t.team.id===t.currentTeam)},m(e,t){r(e,n,t),a(n,o),L.m(o,null),a(o,c),A&&A.m(o,null),a(n,u),E&&E.m(n,null),a(n,m),a(n,d),d.innerHTML=k,a(n,p),a(n,f),a(f,v),a(v,g),a(n,b),a(n,y),j.m(y,null),a(n,T),a(n,N),U.m(N,null)},p(t,a){S===(S=C(a))&&L?L.p(t,a):(L.d(1),(L=S(e,a)).c(),L.m(o,c)),a.team.id===a.currentTeam?A||((A=le()).c(),A.m(o,null)):A&&(A.d(1),A=null),a.user.isAdmin?E?E.p(t,a):((E=ue(0,a)).c(),E.m(n,m)):E&&(E.d(1),E=null),t.teams&&k!==(k=M("teams / role / "+a.team.role))&&(d.innerHTML=k),t.teams&&x!==(x=a.team.charts)&&h(g,x),t.teams&&w!==(w="/team/"+a.team.id)&&(v.href=w),O===(O=H(a))&&j?j.p(t,a):(j.d(1),(j=O(e,a)).c(),j.m(y,null)),R===(R=$(a))&&U?U.p(t,a):(U.d(1),(U=R(e,a)).c(),U.m(N,null)),(t.teams||t.currentTeam)&&_(n,"current",a.team.id===a.currentTeam)},d(e){e&&s(n),L.d(),A&&A.d(),E&&E.d(),j.d(),U.d()}}}function ge(e,t){var n,o,u,h,f,v,g,_,w,b,y,T,N,k=M("team-create / p"),x=!1,C=M("team-create / button"),S=M("team-create / return");function L(){x=!0,e.set({newTeamName:u.value}),x=!1}var A={label:M("team-create / name"),help:M("team-create / help")},E=new P({root:e.root,store:e.store,slots:{default:c()},data:A}),H=t.user.isAdmin&&we(e,t);function O(e){return e.awaitCreateTeam?ye:be}var j=O(t),$=j(e,t);function R(n){e.createTeam(t.newTeamName,t.newTeamSlug)}function U(t){e.set({createTeam:!1})}return{c(){n=i("p"),o=l("\n\n        "),u=i("input"),E._fragment.c(),f=l("\n        "),H&&H.c(),v=l("\n\n        "),g=i("button"),$.c(),_=l("   "),w=l(C),y=l("\n        "),T=i("button"),N=l(S),m(u,"input",L),p(u,"type","text"),u.placeholder=M("team-create / untitled"),u.maxLength=h=t.user.isAdmin?80:50,m(g,"click",R),g.className="btn btn-primary",g.disabled=b=!t.newTeamName.length,m(T,"click",U),T.className="btn"},m(e,s){r(e,n,s),n.innerHTML=k,r(e,o,s),a(E._slotted.default,u),u.value=t.newTeamName,E._mount(e,s),r(e,f,s),H&&H.m(e,s),r(e,v,s),r(e,g,s),$.m(g,null),a(g,_),a(g,w),r(e,y,s),r(e,T,s),a(T,N)},p(n,a){t=a,!x&&n.newTeamName&&(u.value=t.newTeamName),n.user&&h!==(h=t.user.isAdmin?80:50)&&(u.maxLength=h),t.user.isAdmin?H?H.p(n,t):((H=we(e,t)).c(),H.m(v.parentNode,v)):H&&(H.d(1),H=null),j===(j=O(t))&&$?$.p(n,t):($.d(1),($=j(e,t)).c(),$.m(g,_)),n.newTeamName&&b!==(b=!t.newTeamName.length)&&(g.disabled=b)},d(e){e&&(s(n),s(o)),d(u,"input",L),E.destroy(e),e&&s(f),H&&H.d(e),e&&(s(v),s(g)),$.d(),d(g,"click",R),e&&(s(y),s(T)),d(T,"click",U)}}}function _e(e,t){var n,o,c,u,p,h,f,v=M("account / my-teams / why-teams"),g=M("account / my-teams / create-btn");function w(t){e.set({createTeam:!0})}return{c(){n=i("div"),o=i("p"),c=l("\n            "),u=i("button"),p=i("i"),h=l(" "),f=i("noscript"),p.className="fa fa-plus fa-fw",m(u,"click",w),u.className="btn btn-large",_(u,"btn-primary",!t.teams.length),n.className="hed svelte-t3x94h"},m(e,t){r(e,n,t),a(n,o),o.innerHTML=v,a(n,c),a(n,u),a(u,p),a(u,h),a(u,f),f.insertAdjacentHTML("afterend",g)},p(e,t){e.teams&&_(u,"btn-primary",!t.teams.length)},d(e){e&&s(n),d(u,"click",w)}}}function we(e,t){var n,r=!1;function s(){r=!0,e.set({newTeamSlug:n.value}),r=!1}var o={label:M("team-create / slug"),help:M("team-create / slug-help")},l=new P({root:e.root,store:e.store,slots:{default:c()},data:o});return{c(){n=i("input"),l._fragment.c(),m(n,"input",s),p(n,"type","text"),n.placeholder=t.autoslug},m(e,r){a(l._slotted.default,n),n.value=t.newTeamSlug,l._mount(e,r)},p(e,t){!r&&e.newTeamSlug&&(n.value=t.newTeamSlug),e.autoslug&&(n.placeholder=t.autoslug)},d(e){d(n,"input",s),l.destroy(e)}}}function be(t,n){var a;return{c(){(a=i("i")).className="fa fa-plus fa-fw"},m(e,t){r(e,a,t)},p:e,d(e){e&&s(a)}}}function ye(e,t){var n,a;let o={component:e,ctx:t,current:null,pending:ke,then:Ne,catch:Te,value:"null",error:"null"};return w(a=t.awaitCreateTeam,o),{c(){n=u(),o.block.c()},m(e,t){r(e,n,t),o.block.m(e,o.anchor=t),o.mount=()=>n.parentNode,o.anchor=n},p(e,n){t=n,o.ctx=t,"awaitCreateTeam"in e&&a!==(a=t.awaitCreateTeam)&&w(a,o)},d(e){e&&s(n),o.block.d(e),o=null}}}function Te(e,t){var n;return{c(){(n=i("i")).className="fa fa-exclamation-triangle"},m(e,t){r(e,n,t)},d(e){e&&s(n)}}}function Ne(e,t){var n;return{c(){(n=i("i")).className="fa fa-check fa-fw"},m(e,t){r(e,n,t)},d(e){e&&s(n)}}}function ke(e,t){var n,a;return{c(){n=l(" "),(a=i("i")).className="fa fa-spinner fa-spin"},m(e,t){r(e,n,t),r(e,a,t)},d(e){e&&(s(n),s(a))}}}function xe(e,t){var n,o,u,m,d,p,h,f=M("account / my-teams / select-active"),v=M("account / my-teams / what-is-active"),g={},_={width:"250px",options:t.teamOptions};void 0!==t.currentTeam&&(_.value=t.currentTeam,g.value=!0);var w=new X({root:e.root,store:e.store,data:_,_bind(t,n){var a={};!g.value&&t.value&&(a.currentTeam=n.value),e._set(a),g={}}});function b(e){return"success"===e.newActiveTeamState?Se:"error"===e.newActiveTeamState?Ce:void 0}e.root._beforecreate.push(()=>{w._bind({value:1},w.get())});var y=b(t),T=y&&y(e,t),N={width:"350px",help:M("account / my-teams / active-hint")},k=new P({root:e.root,store:e.store,slots:{default:c()},data:N});return{c(){n=i("div"),o=i("h3"),u=l("\n        "),m=i("p"),d=l("\n        "),p=i("div"),w._fragment.c(),h=l("\n                "),T&&T.c(),k._fragment.c(),o.className="svelte-t3x94h",p.className="flex",n.className="span5"},m(e,t){r(e,n,t),a(n,o),o.innerHTML=f,a(n,u),a(n,m),m.innerHTML=v,a(n,d),a(k._slotted.default,p),w._mount(p,null),a(p,h),T&&T.m(p,null),k._mount(n,null)},p(n,a){t=a;var r={};n.teamOptions&&(r.options=t.teamOptions),!g.value&&n.currentTeam&&(r.value=t.currentTeam,g.value=void 0!==t.currentTeam),w._set(r),g={},y!==(y=b(t))&&(T&&T.d(1),(T=y&&y(e,t))&&T.c(),T&&T.m(p,null))},d(e){e&&s(n),w.destroy(),T&&T.d(),k.destroy()}}}function Ce(e,t){var n;return{c(){(n=i("i")).className="fa fa-exclamation-triangle"},m(e,t){r(e,n,t)},d(e){e&&s(n)}}}function Se(e,t){var n;return{c(){(n=i("i")).className="fa fa-check fa-fw"},m(e,t){r(e,n,t)},d(e){e&&s(n)}}}function Le(e){C(this,e),this._state=t({teams:[],awaitCreateTeam:null,currentTeam:"",createTeam:!1,newTeamName:"",newTeamSlug:"",newActiveTeamState:null},e.data),this._recompute({teams:1,newTeamName:1},this._state),this._intro=!0,this._handlers.state=[te],te.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(e,t){var n,o,c,u,m,d,p=M("account / my-teams / create");function h(e){return e.teams.length?se:re}var f=h(t),v=f(e,t);function g(e){return e.createTeam?ge:_e}var _=g(t),w=_(e,t),b=t.teams.length>0&&xe(e,t);return{c(){v.c(),n=l("\n\n"),o=i("div"),c=i("div"),u=i("h3"),m=l("\n        "),w.c(),d=l("\n    "),b&&b.c(),u.className="svelte-t3x94h",c.className="span5",o.className="row"},m(e,t){v.m(e,t),r(e,n,t),r(e,o,t),a(o,c),a(c,u),u.innerHTML=p,a(c,m),w.m(c,null),a(o,d),b&&b.m(o,null)},p(t,a){f===(f=h(a))&&v?v.p(t,a):(v.d(1),(v=f(e,a)).c(),v.m(n.parentNode,n)),_===(_=g(a))&&w?w.p(t,a):(w.d(1),(w=_(e,a)).c(),w.m(c,null)),a.teams.length>0?b?b.p(t,a):((b=xe(e,a)).c(),b.m(o,null)):b&&(b.d(1),b=null)},d(e){v.d(e),e&&(s(n),s(o)),w.d(),b&&b.d()}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:n({},this._state),current:this._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),k(this))}function Ae(e,n){this._handlers={},this._dependents=[],this._computed=b(),this._sortedComputedProperties=[],this._state=t({},e),this._differs=n&&n.immutable?T:y}t(Le.prototype,A),t(Le.prototype,ee),Le.prototype._recompute=function(e,t){e.teams&&this._differs(t.teamOptions,t.teamOptions=function({teams:e}){return e.map(({id:e,name:t})=>({value:e,label:t})).concat({value:null,label:M("nav / no-team")})}(t))&&(e.teamOptions=!0),e.newTeamName&&this._differs(t.autoslug,t.autoslug=function({newTeamName:e}){return e.toLowerCase().replace(/\W/g,"")}(t))&&(e.autoslug=!0)},t(Ae.prototype,{_add(e,t){this._dependents.push({component:e,props:t})},_init(e){const t={};for(let n=0;n<e.length;n+=1){const a=e[n];t["$"+a]=this._state[a]}return t},_remove(e){let t=this._dependents.length;for(;t--;)if(this._dependents[t].component===e)return void this._dependents.splice(t,1)},_set(e,n){const a=this._state;this._state=t(t({},a),e);for(let e=0;e<this._sortedComputedProperties.length;e+=1)this._sortedComputedProperties[e].update(this._state,n);this.fire("state",{changed:n,previous:a,current:this._state}),this._dependents.filter(e=>{const t={};let a=!1;for(let r=0;r<e.props.length;r+=1){const s=e.props[r];s in n&&(t["$"+s]=this._state[s],a=!0)}if(a)return e.component._stage(t),!0}).forEach(e=>{e.component.set({})}),this.fire("update",{changed:n,previous:a,current:this._state})},_sortComputedProperties(){const e=this._computed,t=this._sortedComputedProperties=[],n=b();let a;function r(s){const o=e[s];o&&(o.deps.forEach(e=>{if(e===a)throw new Error(`Cyclical dependency detected between ${e} <-> ${s}`);r(e)}),n[s]||(n[s]=!0,t.push(o)))}for(const e in this._computed)r(a=e)},compute(e,n,a){let r;const s={deps:n,update:(t,s,o)=>{const c=n.map(e=>(e in s&&(o=!0),t[e]));if(o){const n=a.apply(null,c);this._differs(n,r)&&(r=n,s[e]=!0,t[e]=r)}}};this._computed[e]=s,this._sortComputedProperties();const o=t({},this._state),c={};s.update(o,c,!0),this._set(o,c)},fire:N,get:x,on:S,set(e){const t=this._state,n=this._changed={};let a=!1;for(const r in e){if(this._computed[r])throw new Error(`'${r}' is a read-only computed property`);this._differs(e[r],t[r])&&(n[r]=a=!0)}a&&this._set(e,n)}});return{App:Le,data:{chart:{id:""},readonly:!1,chartData:"",transpose:!1,firstRowIsHeader:!0,skipRows:0},store:new Ae({})}}));
