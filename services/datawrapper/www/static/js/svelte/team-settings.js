!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("svelte/team-settings",e):(t="undefined"!=typeof globalThis?globalThis:t||self)["team-settings"]=e()}(this,(function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){}function s(t,e){for(var n in e)t[n]=e[n];return t}function r(t,e){for(var n in e)t[n]=1;return t}function o(t){t()}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n)}function u(t){t.parentNode.removeChild(t)}function d(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function f(t){for(;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)}function m(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}function p(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}function h(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(){return document.createDocumentFragment()}function g(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function y(){return document.createComment("")}function w(t,e,n,i){t.addEventListener(e,n,i)}function T(t,e,n,i){t.removeEventListener(e,n,i)}function N(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function k(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function x(t){return""===t?void 0:+t}function C(t,e){t.data=""+e}function H(t,e,n){t.style.setProperty(e,n)}function M(t,e){for(var n=0;n<t.options.length;n+=1){var i=t.options[n];if(i.__value===e)return void(i.selected=!0)}}function O(t){var e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function A(t,e,n){t.classList[n?"add":"remove"](e)}function L(t){return t}function U(t,e,n,i,s){var r,l,c,u=n.call(t,e,i),d=!1;return{t:s?0:1,running:!1,program:null,pending:null,run:function(t,e){var n=this;"function"==typeof u?P.wait().then((function(){u=u(),n._run(t,e)})):this._run(t,e)},_run:function(t,n){r=u.duration||300,l=u.easing||L;var i={start:window.performance.now()+(u.delay||0),b:t,callback:n||a};s&&!d&&(u.css&&u.delay&&(c=e.style.cssText,e.style.cssText+=u.css(0,1)),u.tick&&u.tick(0,1),d=!0),t||(i.group=j.current,j.current.remaining+=1),u.delay?this.pending=i:this.start(i),this.running||(this.running=!0,P.add(this))},start:function(n){if(t.fire("".concat(n.b?"intro":"outro",".start"),{node:e}),n.a=this.t,n.delta=n.b-n.a,n.duration=r*Math.abs(n.b-n.a),n.end=n.start+n.duration,u.css){u.delay&&(e.style.cssText=c);var i=function(t,e,n){for(var i=t.a,a=t.b,s=t.delta,r=16.666/t.duration,o="{\n",l=0;l<=1;l+=r){var c=i+s*e(l);o+=100*l+"%{".concat(n(c,1-c),"}\n")}return o+"100% {".concat(n(a,1-a),"}\n}")}(n,l,u.css);P.addRule(i,n.name="__svelte_"+function(t){for(var e=5381,n=t.length;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(i)),e.style.animation=(e.style.animation||"").split(", ").filter((function(t){return t&&(n.delta<0||!/__svelte/.test(t))})).concat("".concat(n.name," ").concat(n.duration,"ms linear 1 forwards")).join(", ")}this.program=n,this.pending=null},update:function(t){var e=this.program;if(e){var n=t-e.start;this.t=e.a+e.delta*l(n/e.duration),u.tick&&u.tick(this.t,1-this.t)}},done:function(){var n=this.program;this.t=n.b,u.tick&&u.tick(this.t,1-this.t),t.fire("".concat(n.b?"intro":"outro",".end"),{node:e}),n.b||n.invalidated?u.css&&P.deleteRule(e,n.name):(n.group.callbacks.push((function(){n.callback(),u.css&&P.deleteRule(e,n.name)})),0==--n.group.remaining&&n.group.callbacks.forEach(o)),this.running=!!this.pending},abort:function(t){this.program&&(t&&u.tick&&u.tick(1,0),u.css&&P.deleteRule(e,this.program.name),this.program=this.pending=null,this.running=!1)},invalidate:function(){this.program&&(this.program.invalidated=!0)}}}var j={};function E(){j.current={remaining:0,callbacks:[]}}var P={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},promise:null,add:function(t){this.transitions.push(t),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(t,e){if(!this.stylesheet){var n=g("style");document.head.appendChild(n),P.stylesheet=n.sheet}this.activeRules[e]||(this.activeRules[e]=!0,this.stylesheet.insertRule("@keyframes ".concat(e," ").concat(t),this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var t=window.performance.now(),e=this.transitions.length;e--;){var n=this.transitions[e];n.program&&t>=n.program.end&&n.done(),n.pending&&t>=n.pending.start&&n.start(n.pending),n.running?(n.update(t),this.running=!0):n.pending||this.transitions.splice(e,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var i=this.stylesheet.cssRules.length;i--;)this.stylesheet.deleteRule(i);this.activeRules={}}},deleteRule:function(t,e){t.style.animation=t.style.animation.split(", ").filter((function(t){return t&&-1===t.indexOf(e)})).join(", ")},wait:function(){return P.promise||(P.promise=Promise.resolve(),P.promise.then((function(){P.promise=null}))),P.promise}};function I(e,n){var i=n.token={};function a(e,a,r,o){if(n.token===i){n.resolved=r&&t({},r,o);var l=s(s({},n.ctx),n.resolved),c=e&&(n.current=e)(n.component,l);n.block&&(n.blocks?n.blocks.forEach((function(t,e){e!==a&&t&&(E(),t.o((function(){t.d(1),n.blocks[e]=null})))})):n.block.d(1),c.c(),c[c.i?"i":"m"](n.mount(),n.anchor),n.component.root.set({})),n.block=c,n.blocks&&(n.blocks[a]=c)}}if(function(t){return t&&"function"==typeof t.then}(e)){if(e.then((function(t){a(n.then,1,n.value,t)}),(function(t){a(n.catch,2,n.error,t)})),n.current!==n.pending)return a(n.pending,0),!0}else{if(n.current!==n.then)return a(n.then,1,n.value,e),!0;n.resolved=t({},n.value,e)}}function S(){return Object.create(null)}function z(t,n){return t!=t?n==n:t!==n||t&&"object"===e(t)||"function"==typeof t}function W(t,e){return t!=t?e==e:t!==e}function R(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var a=n[i];if(!a.__calling)try{a.__calling=!0,a.call(this,e)}finally{a.__calling=!1}}}function B(t){t._lock=!0,F(t._beforecreate),F(t._oncreate),F(t._aftercreate),t._lock=!1}function q(){return this._state}function D(t,e){t._handlers=S(),t._slots=S(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function V(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function F(t){for(;t&&t.length;)t.shift()()}var G={destroy:function(t){this.destroy=a,this.fire("destroy"),this.set=a,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:q,fire:R,on:V,set:function(t){this._set(s({},t)),this.root._lock||B(this.root)},_recompute:a,_set:function(t){var e=this._state,n={},i=!1;for(var a in t=s(this._staged,t),this._staged={},t)this._differs(t[a],e[a])&&(n[a]=i=!0);i&&(this._state=s(s({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){s(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:z},J={};function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";"chart"===t?window.__dw&&window.__dw.vis&&window.__dw.vis.meta&&(J[t]=window.__dw.vis.meta.locale||{}):J[t]="core"===t?dw.backend.__messages.core:Object.assign({},dw.backend.__messages.core,dw.backend.__messages[t])}function X(t){var e=arguments,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if(t=t.trim(),J[n]||Z(n),!J[n][t])return"MISSING:"+t;var i=J[n][t];return"string"==typeof i&&arguments.length>2&&(i=i.replace(/\$(\d)/g,(function(t,n){return n=2+Number(n),void 0===e[n]?t:e[n]}))),i}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;return"string"!=typeof t||t.length<e+n+3?t:t.substr(0,e).trim()+"…"+t.substr(t.length-n).trim()}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var a=document.createElement("script");a.src=t,a.onload=function(){e&&e(),n()},a.onerror=i,document.body.appendChild(a)}))}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t&&(t={src:t}),t.parentElement&&"function"==typeof t.parentElement.appendChild||(t.parentElement=document.head),new Promise((function(n,i){var a=document.createElement("link");a.rel="stylesheet",a.href=t.src,a.onload=function(){e&&e(),n()},a.onerror=i,t.parentElement.appendChild(a)}))}var tt={activateTab:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t.module)return n&&n.preventDefault(),void Promise.all([Y(t.css),Q(t.js||t.src)]).then((function(){require([t.module],(function(n){t.ui=n.App,t.module=null;var i=e.get().groups;e.set({groups:i,activeTab:t})}))}));t.ui&&(n&&n.preventDefault(),this.set({activeTab:t}))},onTabChange:function(t,e){t.onchange&&t.onchange(e,this.refs.currentTabUi)}};function et(t){var e=this._svelte,n=e.component,i=e.ctx;n.activateTab(i.tab,t)}function nt(t,e,n){var i=Object.create(t);return i.tab=e[n],i}function it(t,e,n){var i=Object.create(t);return i.group=e[n],i}function at(t,e){var n,i,a,s,r,o,d,f=e.tab.title;return{c:function(){n=g("li"),i=g("a"),a=g("i"),r=_("   "),o=_(f),a.className=s=e.tab.icon+" svelte-5we305",i._svelte={component:t,ctx:e},w(i,"click",et),i.href=d=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id),i.className="svelte-5we305",n.className="svelte-5we305",A(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},m:function(t,e){c(t,n,e),l(n,i),l(i,a),l(i,r),l(i,o)},p:function(t,r){e=r,t.groups&&s!==(s=e.tab.icon+" svelte-5we305")&&(a.className=s),t.groups&&f!==(f=e.tab.title)&&C(o,f),i._svelte.ctx=e,(t.groups||t.basePath)&&d!==(d=e.tab.url||"/".concat(e.basePath,"/").concat(e.tab.id))&&(i.href=d),(t.activeTab||t.groups)&&A(n,"active",e.activeTab&&e.activeTab.id===e.tab.id)},d:function(t){t&&u(n),T(i,"click",et)}}}function st(t,e){for(var n,i,a,s,r=e.group.title,o=e.group.tabs,d=[],f=0;f<o.length;f+=1)d[f]=at(t,nt(e,o,f));return{c:function(){n=g("div"),i=_(r),a=_("\n\n        "),s=g("ul");for(var t=0;t<d.length;t+=1)d[t].c();n.className="group svelte-5we305",s.className="nav nav-stacked nav-tabs"},m:function(t,e){c(t,n,e),l(n,i),c(t,a,e),c(t,s,e);for(var r=0;r<d.length;r+=1)d[r].m(s,null)},p:function(e,n){if(e.groups&&r!==(r=n.group.title)&&C(i,r),e.activeTab||e.groups||e.basePath){o=n.group.tabs;for(var a=0;a<o.length;a+=1){var l=nt(n,o,a);d[a]?d[a].p(e,l):(d[a]=at(t,l),d[a].c(),d[a].m(s,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=o.length}},d:function(t){t&&(u(n),u(a),u(s)),h(d,t)}}}function rt(t,e){var n,i,a,r,o,d,f=t._slotted.aboveContent,m=t._slotted.belowContent,h=[e.activeTab.data],v=e.activeTab.ui;function b(e){for(var n={},i=0;i<h.length;i+=1)n=s(n,h[i]);return{root:t.root,store:t.store,data:n}}if(v)var w=new v(b());function T(n){t.onTabChange(e.activeTab,n)}return w&&w.on("change",T),{c:function(){n=g("div"),a=_("\n        "),w&&w._fragment.c(),r=_("\n        "),n.className=d="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305"},m:function(e,s){c(e,n,s),f&&(l(n,f),l(n,i||(i=y()))),l(n,a),w&&(w._mount(n,null),t.refs.currentTabUi=w),l(n,r),m&&(l(n,o||(o=y())),l(n,m))},p:function(i,a){e=a;var s=i.activeTab?function(t,e){for(var n={},i={},a={},s=t.length;s--;){var r=t[s],o=e[s];if(o){for(var l in r)l in o||(i[l]=1);for(var l in o)a[l]||(n[l]=o[l],a[l]=1);t[s]=o}else for(var l in r)a[l]=1}for(var l in i)l in n||(n[l]=void 0);return n}(h,[e.activeTab.data]):{};v!==(v=e.activeTab.ui)?(w&&w.destroy(),v?((w=new v(b()))._fragment.c(),w._mount(n,r),w.on("change",T),t.refs.currentTabUi=w):(w=null,t.refs.currentTabUi===w&&(t.refs.currentTabUi=null))):v&&w._set(s),i.activeTab&&d!==(d="span10 account-page-content tab-"+e.activeTab.id+" svelte-5we305")&&(n.className=d)},d:function(t){t&&u(n),f&&function(t,e){for(var n=t.parentNode;n.firstChild!==t;)e.appendChild(n.firstChild)}(i,f),w&&w.destroy(),m&&p(o,m)}}}function ot(t){D(this,t),this.refs={},this._state=s({groups:[],basePath:"",activeTab:null},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,a,s,r,o=t._slotted.belowMenu,d=e.groups,f=[],m=0;m<d.length;m+=1)f[m]=st(t,it(e,d,m));var v=e.activeTab&&rt(t,e);return{c:function(){n=g("div"),i=g("div");for(var t=0;t<f.length;t+=1)f[t].c();a=_("\n        "),r=_("\n    "),v&&v.c(),i.className="span2 svelte-5we305",n.className="row"},m:function(t,e){c(t,n,e),l(n,i);for(var u=0;u<f.length;u+=1)f[u].m(i,null);l(i,a),o&&(l(i,s||(s=y())),l(i,o)),l(n,r),v&&v.m(n,null)},p:function(e,s){if(e.groups||e.activeTab||e.basePath){d=s.groups;for(var r=0;r<d.length;r+=1){var o=it(s,d,r);f[r]?f[r].p(e,o):(f[r]=st(t,o),f[r].c(),f[r].m(i,a))}for(;r<f.length;r+=1)f[r].d(1);f.length=d.length}s.activeTab?v?v.p(e,s):((v=rt(t,s)).c(),v.m(n,null)):v&&(v.d(1),v=null)},d:function(t){t&&u(n),h(f,t),o&&p(s,o),v&&v.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(ot.prototype,G),s(ot.prototype,tt);var lt={true:"ASC",false:"DESC"},ct=lt.true;var ut={sort:function(t,e){t.preventDefault();var n,i=(n=this.get(),e===n.orderBy?lt[n.order!==ct]:ct);this.set({orderBy:e,order:i}),this.fire("sort",{orderBy:e,order:i})}};function dt(t){var e=this._svelte,n=e.component,i=e.ctx;n.sort(t,i.item.orderBy)}function ft(t,e,n){var i=Object.create(t);return i.item=e[n],i}function mt(t,e,n){var i=Object.create(t);return i.item=e[n],i}function pt(t,e){var n;return{c:function(){H(n=g("col"),"width",e.item.width)},m:function(t,e){c(t,n,e)},p:function(t,e){t.columnHeaders&&H(n,"width",e.item.width)},d:function(t){t&&u(n)}}}function ht(t,e){var n,i,a=e.item.title;return{c:function(){n=g("span"),i=_(a),n.className="col"},m:function(t,e){c(t,n,e),l(n,i)},p:function(t,e){t.columnHeaders&&a!==(a=e.item.title)&&C(i,a)},d:function(t){t&&u(n)}}}function vt(t,e){var n,i,a,s,r=e.item.title;return{c:function(){n=g("a"),i=_(r),n._svelte={component:t,ctx:e},w(n,"click",dt),n.className=a="\n                            sortable\n                            "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms",n.href=s="?orderBy=".concat(e.item.orderBy)},m:function(t,e){c(t,n,e),l(n,i)},p:function(t,o){e=o,t.columnHeaders&&r!==(r=e.item.title)&&C(i,r),n._svelte.ctx=e,(t.isActive||t.columnHeaders||t.isAscending)&&a!==(a="\n                            sortable\n                            "+(e.isActive(e.item)?e.isAscending?"sortable-asc":"sortable-desc":"")+"\n                         svelte-l1s1ms")&&(n.className=a),t.columnHeaders&&s!==(s="?orderBy=".concat(e.item.orderBy))&&(n.href=s)},d:function(t){t&&u(n),T(n,"click",dt)}}}function gt(t,e){var n,i;function a(t){return t.item.orderBy?vt:ht}var s=a(e),r=s(t,e);return{c:function(){n=g("th"),r.c(),n.className=i=(e.item.className?e.item.className:"")+" svelte-l1s1ms"},m:function(t,e){c(t,n,e),r.m(n,null)},p:function(e,o){s===(s=a(o))&&r?r.p(e,o):(r.d(1),(r=s(t,o)).c(),r.m(n,null)),e.columnHeaders&&i!==(i=(o.item.className?o.item.className:"")+" svelte-l1s1ms")&&(n.className=i)},d:function(t){t&&u(n),r.d()}}}function bt(t){D(this,t),this._state=s({order:ct,orderBy:"",uid:""},t.data),this._recompute({orderBy:1,order:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){for(var n,i,a,s,r,o,d,f,p=t._slotted.default,v=e.columnHeaders,b=[],y=0;y<v.length;y+=1)b[y]=pt(t,mt(e,v,y));var w=e.columnHeaders,T=[];for(y=0;y<w.length;y+=1)T[y]=gt(t,ft(e,w,y));return{c:function(){n=g("div"),i=g("table"),a=g("colgroup");for(var t=0;t<b.length;t+=1)b[t].c();s=_("\n\n        "),r=g("thead"),o=g("tr");for(t=0;t<T.length;t+=1)T[t].c();d=_("\n\n        "),f=g("tbody"),i.className="table svelte-l1s1ms",n.className="table-container svelte-l1s1ms",n.dataset.uid=e.uid},m:function(t,e){c(t,n,e),l(n,i),l(i,a);for(var u=0;u<b.length;u+=1)b[u].m(a,null);l(i,s),l(i,r),l(r,o);for(u=0;u<T.length;u+=1)T[u].m(o,null);l(i,d),l(i,f),p&&l(f,p)},p:function(e,i){if(e.columnHeaders){v=i.columnHeaders;for(var s=0;s<v.length;s+=1){var r=mt(i,v,s);b[s]?b[s].p(e,r):(b[s]=pt(t,r),b[s].c(),b[s].m(a,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=v.length}if(e.columnHeaders||e.isActive||e.isAscending){w=i.columnHeaders;for(s=0;s<w.length;s+=1){var l=ft(i,w,s);T[s]?T[s].p(e,l):(T[s]=gt(t,l),T[s].c(),T[s].m(o,null))}for(;s<T.length;s+=1)T[s].d(1);T.length=w.length}e.uid&&(n.dataset.uid=i.uid)},d:function(t){t&&u(n),h(b,t),h(T,t),p&&m(f,p)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function _t(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function yt(t,e,n){var i=Object.create(t);return i.optgroup=e[n],i}function wt(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function Tt(t,e){for(var n,i=e.options,a=[],s=0;s<i.length;s+=1)a[s]=Nt(t,wt(e,i,s));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=y()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(t,e);c(t,n,e)},p:function(e,s){if(e.options||e.value){i=s.options;for(var r=0;r<i.length;r+=1){var o=wt(s,i,r);a[r]?a[r].p(e,o):(a[r]=Nt(t,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(t){h(a,t),t&&u(n)}}}function Nt(t,e){var n,i,a,s,r=e.opt.label;return{c:function(){n=g("option"),i=_(r),n.__value=a=e.opt.value,n.value=n.__value,n.selected=s=e.opt.value===e.value},m:function(t,e){c(t,n,e),l(n,i)},p:function(t,e){t.options&&r!==(r=e.opt.label)&&C(i,r),t.options&&a!==(a=e.opt.value)&&(n.__value=a),n.value=n.__value,(t.options||t.value)&&s!==(s=e.opt.value===e.value)&&(n.selected=s)},d:function(t){t&&u(n)}}}function kt(t,e){for(var n,i=e.optgroups,a=[],s=0;s<i.length;s+=1)a[s]=Ct(t,yt(e,i,s));return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=y()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(t,e);c(t,n,e)},p:function(e,s){if(e.optgroups||e.value){i=s.optgroups;for(var r=0;r<i.length;r+=1){var o=yt(s,i,r);a[r]?a[r].p(e,o):(a[r]=Ct(t,o),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(t){h(a,t),t&&u(n)}}}function xt(t,e){var n,i,a,s,r=e.opt.label;return{c:function(){n=g("option"),i=_(r),n.__value=a=e.opt.value,n.value=n.__value,n.selected=s=e.opt.value===e.value},m:function(t,e){c(t,n,e),l(n,i)},p:function(t,e){t.optgroups&&r!==(r=e.opt.label)&&C(i,r),t.optgroups&&a!==(a=e.opt.value)&&(n.__value=a),n.value=n.__value,(t.optgroups||t.value)&&s!==(s=e.opt.value===e.value)&&(n.selected=s)},d:function(t){t&&u(n)}}}function Ct(t,e){for(var n,i,a=e.optgroup.options,s=[],r=0;r<a.length;r+=1)s[r]=xt(0,_t(e,a,r));return{c:function(){n=g("optgroup");for(var t=0;t<s.length;t+=1)s[t].c();N(n,"label",i=e.optgroup.label)},m:function(t,e){c(t,n,e);for(var i=0;i<s.length;i+=1)s[i].m(n,null)},p:function(t,e){if(t.optgroups||t.value){a=e.optgroup.options;for(var r=0;r<a.length;r+=1){var o=_t(e,a,r);s[r]?s[r].p(t,o):(s[r]=xt(0,o),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}t.optgroups&&i!==(i=e.optgroup.label)&&N(n,"label",i)},d:function(t){t&&u(n),h(s,t)}}}function Ht(t){D(this,t),this._state=s({disabled:!1,width:"auto",labelWidth:"auto",options:[],optgroups:[],value:null,class:"",uid:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s=!1,r=e.options.length&&Tt(t,e),o=e.optgroups.length&&kt(t,e);function d(){s=!0,t.set({value:O(n)}),s=!1}function f(e){t.fire("change",e)}return{c:function(){n=g("select"),r&&r.c(),i=y(),o&&o.c(),w(n,"change",d),"value"in e||t.root._beforecreate.push(d),w(n,"change",f),n.className=a="select-css "+e.class+" svelte-v0oq4b",n.disabled=e.disabled,H(n,"width",e.width),n.dataset.uid=e.uid},m:function(t,a){c(t,n,a),r&&r.m(n,null),l(n,i),o&&o.m(n,null),M(n,e.value)},p:function(e,l){l.options.length?r?r.p(e,l):((r=Tt(t,l)).c(),r.m(n,i)):r&&(r.d(1),r=null),l.optgroups.length?o?o.p(e,l):((o=kt(t,l)).c(),o.m(n,null)):o&&(o.d(1),o=null),!s&&e.value&&M(n,l.value),e.class&&a!==(a="select-css "+l.class+" svelte-v0oq4b")&&(n.className=a),e.disabled&&(n.disabled=l.disabled),e.width&&H(n,"width",l.width),e.uid&&(n.dataset.uid=l.uid)},d:function(t){t&&u(n),r&&r.d(),o&&o.d(),T(n,"change",d),T(n,"change",f)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(bt.prototype,G),s(bt.prototype,ut),bt.prototype._recompute=function(t,e){var n;t.orderBy&&this._differs(e.isActive,e.isActive=(n=e.orderBy,function(t){return n===t.orderBy}))&&(t.isActive=!0),t.order&&this._differs(e.isAscending,e.isAscending=e.order===ct)&&(t.isAscending=!0)},s(Ht.prototype,G);function Mt(t){var e,n,i,a,r;D(this,t),this._state=s({icon:"api",size:"1em",color:"inherit",valign:"baseline",class:"",style:"",assetURL:null,spin:!1,timing:"linear",duration:"2s",uid:""},t.data),this._recompute({icon:1,assetURL:1},this._state),this._intro=!0,this._fragment=(e=this._state,{c:function(){n=g("span"),i=b("svg"),H(a=b("use"),"fill",e.color),k(a,"xlink:href",e.iconURL),H(i,"height",e.size),H(i,"width",e.size),N(i,"class","svelte-1th5ah8"),n.className=r="svg-icon "+e.class+" svelte-1th5ah8",n.dataset.uid=e.uid,H(n,"animation-timing-function",e.timing),H(n,"animation-duration",e.duration),H(n,"height",e.size),H(n,"width",e.size),H(n,"vertical-align",e.valign),A(n,"spin",e.spin)},m:function(t,e){c(t,n,e),l(n,i),l(i,a)},p:function(t,e){t.color&&H(a,"fill",e.color),t.iconURL&&k(a,"xlink:href",e.iconURL),t.size&&(H(i,"height",e.size),H(i,"width",e.size)),t.class&&r!==(r="svg-icon "+e.class+" svelte-1th5ah8")&&(n.className=r),t.uid&&(n.dataset.uid=e.uid),t.timing&&H(n,"animation-timing-function",e.timing),t.duration&&H(n,"animation-duration",e.duration),t.size&&(H(n,"height",e.size),H(n,"width",e.size)),t.valign&&H(n,"vertical-align",e.valign),(t.class||t.spin)&&A(n,"spin",e.spin)},d:function(t){t&&u(n)}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}s(Mt.prototype,G),Mt.prototype._recompute=function(t,e){var n,i,a;(t.icon||t.assetURL)&&this._differs(e.iconURL,e.iconURL=(i=(n=e).icon,a=n.assetURL,"".concat(a||"/lib/icons/symbol/svg/sprite.symbol.svg","#").concat(i)))&&(t.iconURL=!0)};var Ot={open:function(){this.set({isConfirmed:!1}),$("#"+this.get().id).modal()}};function At(){$("#"+this.get().id).on("hidden.bs.modal",function(){this.get().isConfirmed?this.fire("confirm"):this.fire("dismiss")}.bind(this))}function Lt(t,e){var n={icon:e.confirmButtonIcon,class:"mr-1",size:"1.3em",valign:"-0.3em"},i=new Mt({root:t.root,store:t.store,data:n});return{c:function(){i._fragment.c()},m:function(t,e){i._mount(t,e)},p:function(t,e){var n={};t.confirmButtonIcon&&(n.icon=e.confirmButtonIcon),i._set(n)},d:function(t){i.destroy(t)}}}function Ut(t){var e=this;D(this,t),this._state=s({id:"",title:"Title",confirmButtonText:"Confirm",confirmButtonIcon:!1,backButtonText:"Back",isConfirmed:!1},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o,d,m,p,h,v,b,k,x,C,H,M=t._slotted.default,O=new Mt({root:t.root,store:t.store,data:{icon:"close",size:"20px"}}),A=e.confirmButtonIcon&&Lt(t,e);function L(e){t.set({isConfirmed:!0})}function U(e){e.stopPropagation(),t.fire("keyup",e)}return{c:function(){n=g("div"),i=g("div"),a=g("button"),O._fragment.c(),s=_("\n        "),r=g("div"),o=g("h1"),d=_("\n            "),h=_("\n            "),v=g("div"),b=g("button"),k=_("\n                "),x=g("button"),A&&A.c(),C=_(" "),H=g("noscript"),a.type="button",a.className="close svelte-1f9lfqa",a.dataset.dismiss="modal",N(a,"aria-label",e.backButtonText),o.className="modal-title mb-4 svelte-1f9lfqa",b.className="btn back svelte-1f9lfqa",b.dataset.dismiss="modal",w(x,"click",L),x.className="btn btn-danger svelte-1f9lfqa",x.dataset.dismiss="modal",v.className="actions pt-4 mt-4 svelte-1f9lfqa",r.className="modal-content svelte-1f9lfqa",w(i,"keyup",U),i.className="modal-body",n.className="modal hide",n.id=e.id},m:function(t,u){c(t,n,u),l(n,i),l(i,a),O._mount(a,null),l(i,s),l(i,r),l(r,o),o.innerHTML=e.title,l(r,d),M&&(l(r,m||(m=y())),l(r,M),l(r,p||(p=y()))),l(r,h),l(r,v),l(v,b),b.innerHTML=e.backButtonText,l(v,k),l(v,x),A&&A.m(x,null),l(x,C),l(x,H),H.insertAdjacentHTML("afterend",e.confirmButtonText)},p:function(e,i){e.backButtonText&&N(a,"aria-label",i.backButtonText),e.title&&(o.innerHTML=i.title),e.backButtonText&&(b.innerHTML=i.backButtonText),i.confirmButtonIcon?A?A.p(e,i):((A=Lt(t,i)).c(),A.m(x,C)):A&&(A.d(1),A=null),e.confirmButtonText&&(f(H),H.insertAdjacentHTML("afterend",i.confirmButtonText)),e.id&&(n.id=i.id)},d:function(t){t&&u(n),O.destroy(),M&&(!function(t,e,n){for(;t.nextSibling&&t.nextSibling!==e;)n.appendChild(t.parentNode.removeChild(t.nextSibling))}(m,p,M),u(m),u(p)),A&&A.d(),T(x,"click",L),T(i,"keyup",U)}}}(this,this._state),this.root._oncreate.push((function(){At.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function St(t,e,n){return(St=It()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var a=new(Function.bind.apply(t,i));return n&&jt(a,n.prototype),a}).apply(null,arguments)}function zt(t){var e="function"==typeof Map?new Map:void 0;return(zt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return St(t,arguments,Pt(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),jt(i,t)})(t)}function Wt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}s(Ut.prototype,G),s(Ut.prototype,Ot);var Rt={exports:{}};
/*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */!function(t,e){var n;n=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function a(){}function s(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},a.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o="";for(var l in s)s[l]&&(o+="; "+l,!0!==s[l]&&(o+="="+s[l].split(";")[0]));return document.cookie=e+"="+n+o}}function r(t,n){if("undefined"!=typeof document){for(var a={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var o=s[r].split("="),l=o.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(o[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(t){}if(a[c]=l,t===c)break}catch(t){}}return t?a[t]:a}}return a.set=s,a.get=function(t){return r(t,!1)},a.getJSON=function(t){return r(t,!0)},a.remove=function(e,n){s(e,"",t(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))},t.exports=n()}(Rt);var Bt=Rt.exports;function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Pt(t);if(e){var a=Pt(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return Et(this,n)}}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Vt(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Dt(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Dt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ft=new Set(["get","head","options","trace"]);function $t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.fetch)try{e.fetch=window.fetch}catch(t){throw new Error("Neither options.fetch nor window.fetch is defined.")}if(!e.baseUrl)try{e.baseUrl="//".concat(window.dw.backend.__api_domain)}catch(t){throw new Error("Neither options.baseUrl nor window.dw is defined.")}var n,i=Vt(Vt({payload:null,raw:!1,method:"GET",mode:"cors",credentials:"include"},e),{},{headers:Vt({"Content-Type":"application/json"},e.headers)}),a=i.payload,s=i.baseUrl,r=i.fetch,o=i.raw,l=Wt(i,["payload","baseUrl","fetch","raw"]),c="".concat(s.replace(/\/$/,""),"/").concat(t.replace(/^\//,""));if(a&&(l.body=JSON.stringify(a)),Ft.has(l.method.toLowerCase()))n=r(c,l);else{var u=Bt.get("crumb");u?(l.headers["X-CSRF-Token"]=u,n=r(c,l)):n=$t("/v3/me",{fetch:r,baseUrl:s}).then((function(){var t=Bt.get("crumb");t&&(l.headers["X-CSRF-Token"]=t)})).catch((function(){})).then((function(){return r(c,l)}))}return n.then((function(t){if(o)return t;if(!t.ok)throw new Kt(t);if(204===t.status||!t.headers.get("content-type"))return t;var e=t.headers.get("content-type").split(";")[0];return"application/json"===e?t.json():"image/png"===e||"application/pdf"===e?t.blob():t.text()}))}var Gt=$t.get=Xt("GET");$t.patch=Xt("PATCH");var Jt=$t.put=Xt("PUT"),Zt=$t.post=Xt("POST");function Xt(t){return function(e,n){if(n&&n.method)throw new Error("Setting option.method is not allowed in httpReq.".concat(t.toLowerCase(),"()"));return $t(e,Vt(Vt({},n),{},{method:t}))}}$t.head=Xt("HEAD"),$t.delete=Xt("DELETE");var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(n,t);var e=qt(n);function n(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(i=e.call(this)).name="HttpReqError",i.status=t.status,i.statusText=t.statusText,i.message="[".concat(t.status,"] ").concat(t.statusText),i.response=t,i}return n}(zt(Error));function Qt(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}var Yt=[{value:"owner",label:X("teams / role / owner").replace("&shy;","")},{value:"admin",label:X("teams / role / admin").replace("&shy;","")},{value:"member",label:X("teams / role / member").replace("&shy;","")}];function te(){}function ee(t){return{member:X("teams / role / member"),admin:X("teams / role / admin"),owner:X("teams / role / owner")}[t]}var ne={toggleEdit:function(t){this.get().editId===t?this.requestUpdateRole(t):this.set({editId:t})},removeUser:function(t){try{var e=this;if(!window.confirm(X("teams / remove / alert")))return;return Qt($t.delete("/v3/teams/".concat(e.get().team.id,"/members/").concat(t.id)),(function(){var n=e.get().users;n=n.filter((function(e){return e.id!==t.id})),e.set({users:n})}))}catch(t){return Promise.reject(t)}},requestUpdateRole:function(t){try{return"owner"===this.get().users.filter((function(e){return e.id===t}))[0].role?void this.refs.confirmationModal.open():function(t,e){if(!e)return t&&t.then?t.then(te):Promise.resolve()}(this.updateRole(t))}catch(t){return Promise.reject(t)}},updateRole:function(t){try{var e=this,n=e.get(),i=n.updating,a=n.users.filter((function(e){return e.id===t}))[0];return i[a.id]=!0,e.set({updating:i}),Qt($t.put("/v3/teams/".concat(e.get().team.id,"/members/").concat(a.id,"/status"),{payload:{status:a.role}}),(function(){(i=e.get().updating)[a.id]=!1,e.set({updating:i,editId:!1}),e.fire("updateUsers")}))}catch(t){return Promise.reject(t)}}};function ie(t){var e=this._svelte,n=e.component,i=e.ctx;n.removeUser(i.user)}function ae(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function se(t){var e=this._svelte,n=e.component,i=e.ctx;n.toggleEdit(i.user.id)}function re(t,e,n){var i=Object.create(t);return i.user=e[n],i.each_value=e,i.i=n,i}function oe(t,e){var n,i=X("teams / total").replace("%i%",e.numUsers);return{c:function(){n=_(i)},m:function(t,e){c(t,n,e)},p:function(t,e){t.numUsers&&i!==(i=X("teams / total").replace("%i%",e.numUsers))&&C(n,i)},d:function(t){t&&u(n)}}}function le(t,e){var n,i=X("teams / total / 1");return{c:function(){n=_(i)},m:function(t,e){c(t,n,e)},p:a,d:function(t){t&&u(n)}}}function ce(t,e){for(var n,i=e.sortedUsers,a=[],s=0;s<i.length;s+=1)a[s]=_e(t,re(e,i,s));var r={columnHeaders:e.userHeaders},o=new bt({root:t.root,store:t.store,slots:{default:v()},data:r});return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=y(),o._fragment.c()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);l(o._slotted.default,n),o._mount(t,e)},p:function(e,s){if(e.isAdmin||e.isTeamOwner||e.sortedUsers||e.userId||e.isTeamAdmin||e.editId||e.updating||e.roles){i=s.sortedUsers;for(var r=0;r<i.length;r+=1){var l=re(s,i,r);a[r]?a[r].p(e,l):(a[r]=_e(t,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};e.userHeaders&&(c.columnHeaders=s.userHeaders),o._set(c)},d:function(t){h(a,t),o.destroy(t)}}}function ue(t,e){var n,i,a,s,r=e.user.id;return{c:function(){n=g("td"),i=g("a"),a=_(r),i.href=s="/admin/users/"+e.user.id},m:function(t,e){c(t,n,e),l(n,i),l(i,a)},p:function(t,e){t.sortedUsers&&r!==(r=e.user.id)&&C(a,r),t.sortedUsers&&s!==(s="/admin/users/"+e.user.id)&&(i.href=s)},d:function(t){t&&u(n)}}}function de(t,e){var n,i,a,s,r=ee(e.user.role),o=e.user.token&&me();return{c:function(){n=g("noscript"),i=g("noscript"),a=_(" "),o&&o.c(),s=y()},m:function(t,e){c(t,n,e),n.insertAdjacentHTML("afterend",r),c(t,i,e),c(t,a,e),o&&o.m(t,e),c(t,s,e)},p:function(t,e){t.sortedUsers&&r!==(r=ee(e.user.role))&&(d(n,i),n.insertAdjacentHTML("afterend",r)),e.user.token?o||((o=me()).c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d:function(t){t&&(d(n,i),u(n),u(i),u(a)),o&&o.d(t),t&&u(s)}}}function fe(t,e){var n,i,a,s={},r=X("teams / role / p"),o={width:"200px",options:e.roles};void 0!==e.user.role&&(o.value=e.user.role,s.value=!0);var d=new Ht({root:t.root,store:t.store,data:o,_bind:function(n,i){var a={};!s.value&&n.value&&(e.user.role=i.value,a.sortedUsers=e.sortedUsers),t._set(a),s={}}});return t.root._beforecreate.push((function(){d._bind({value:1},d.get())})),{c:function(){d._fragment.c(),n=_("\n            "),i=g("p"),a=_(r),i.className="mini-help"},m:function(t,e){d._mount(t,e),c(t,n,e),c(t,i,e),l(i,a)},p:function(t,n){e=n;var i={};t.roles&&(i.options=e.roles),!s.value&&t.sortedUsers&&(i.value=e.user.role,s.value=void 0!==e.user.role),d._set(i),s={}},d:function(t){d.destroy(t),t&&(u(n),u(i))}}}function me(t,e){var n,i,a=X("teams / invite-pending");return{c:function(){n=g("i"),i=_(a)},m:function(t,e){c(t,n,e),l(n,i)},d:function(t){t&&u(n)}}}function pe(t,e){var n,i,s=X("teams / edit-role / owner / info");return{c:function(){n=g("p"),i=_(s),n.className="mini-help"},m:function(t,e){c(t,n,e),l(n,i)},p:a,d:function(t){t&&u(n)}}}function he(t,e){var n;function i(t){return t.editId===t.user.id?be:t.updating[t.user.id]?ge:ve}var a=i(e),s=a(t,e);return{c:function(){s.c(),n=y()},m:function(t,e){s.m(t,e),c(t,n,e)},p:function(e,r){a===(a=i(r))&&s?s.p(e,r):(s.d(1),(s=a(t,r)).c(),s.m(n.parentNode,n))},d:function(t){s.d(t),t&&u(n)}}}function ve(t,e){var n,i,a,s,r,o,d,f,m,p=X("teams / edit"),h=X("teams / remove");return{c:function(){n=g("button"),i=g("i"),a=_("  "),s=_(p),r=_("\n\n            "),o=g("button"),d=g("i"),f=_("  "),m=_(h),i.className="fa fa-edit",n._svelte={component:t,ctx:e},w(n,"click",ae),n.className="btn",d.className="fa fa-times",o._svelte={component:t,ctx:e},w(o,"click",ie),o.className="btn"},m:function(t,e){c(t,n,e),l(n,i),l(n,a),l(n,s),c(t,r,e),c(t,o,e),l(o,d),l(o,f),l(o,m)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&u(n),T(n,"click",ae),t&&(u(r),u(o)),T(o,"click",ie)}}}function ge(t,e){var n,i,s,r,o=X("teams / save");return{c:function(){n=g("button"),i=g("i"),s=_("  "),r=_(o),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){c(t,n,e),l(n,i),l(n,s),l(n,r)},p:a,d:function(t){t&&u(n)}}}function be(t,e){var n,i,a,s,r=X("teams / save");return{c:function(){n=g("button"),i=g("i"),a=_("  "),s=_(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},w(n,"click",se),n.className="btn btn-primary"},m:function(t,e){c(t,n,e),l(n,i),l(n,a),l(n,s)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&u(n),T(n,"click",se)}}}function _e(t,e){var n,i,a,s,r,o,d,f,m,p,h,v=e.user.email,b=e.user.charts,y=e.isAdmin&&ue(0,e);function w(t){return t.editId===t.user.id?fe:de}var T=w(e),N=T(t,e);function k(t){return t.isAdmin&&!t.isTeamOwner||t.isTeamOwner&&t.user.id!==t.userId||t.isTeamAdmin&&"owner"!==t.user.role?he:t.isTeamOwner&&"owner"===t.user.role?pe:void 0}var x=k(e),H=x&&x(t,e);return{c:function(){n=g("tr"),i=g("td"),a=_(v),s=_("\n        "),y&&y.c(),r=_("\n        "),o=g("td"),d=_(b),f=_("\n        "),m=g("td"),N.c(),p=_("\n        "),h=g("td"),H&&H.c()},m:function(t,e){c(t,n,e),l(n,i),l(i,a),l(n,s),y&&y.m(n,null),l(n,r),l(n,o),l(o,d),l(n,f),l(n,m),N.m(m,null),l(n,p),l(n,h),H&&H.m(h,null)},p:function(e,i){e.sortedUsers&&v!==(v=i.user.email)&&C(a,v),i.isAdmin?y?y.p(e,i):((y=ue(0,i)).c(),y.m(n,r)):y&&(y.d(1),y=null),e.sortedUsers&&b!==(b=i.user.charts)&&C(d,b),T===(T=w(i))&&N?N.p(e,i):(N.d(1),(N=T(t,i)).c(),N.m(m,null)),x===(x=k(i))&&H?H.p(e,i):(H&&H.d(1),(H=x&&x(t,i))&&H.c(),H&&H.m(h,null))},d:function(t){t&&u(n),y&&y.d(),N.d(),H&&H.d()}}}function ye(t){D(this,t),this.refs={},this._state=s({editId:!1,updating:{},users:[]},t.data),this._recompute({isAdmin:1,isTeamOwner:1,users:1,sortedUsers:1,numCharts:1,team:1,editId:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o;function d(t){return 1===t.numUsers?le:t.numUsers>1?oe:void 0}var m=d(e),p=m&&m(t,e),h=e.sortedUsers.length&&ce(t,e),b={confirmButtonText:X("teams / change-owner-confirmation / confirm"),backButtonText:X("teams / change-owner-confirmation / back"),id:"modalConfirmation",title:e.ownerChangeTitle},y=new Ut({root:t.root,store:t.store,slots:{default:v()},data:b});return y.on("confirm",(function(n){t.updateRole(e.editId)})),t.refs.confirmationModal=y,{c:function(){n=g("p"),p&&p.c(),i=_(" "),a=g("noscript"),s=_("\n\n"),h&&h.c(),r=_("\n\n"),o=g("p"),y._fragment.c()},m:function(t,u){c(t,n,u),p&&p.m(n,null),l(n,i),l(n,a),a.insertAdjacentHTML("afterend",e.numChartsCaption),c(t,s,u),h&&h.m(t,u),c(t,r,u),l(y._slotted.default,o),o.innerHTML=e.ownerChangeMessage,y._mount(t,u)},p:function(s,l){m===(m=d(e=l))&&p?p.p(s,e):(p&&p.d(1),(p=m&&m(t,e))&&p.c(),p&&p.m(n,i)),s.numChartsCaption&&(f(a),a.insertAdjacentHTML("afterend",e.numChartsCaption)),e.sortedUsers.length?h?h.p(s,e):((h=ce(t,e)).c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),s.ownerChangeMessage&&(o.innerHTML=e.ownerChangeMessage);var c={};s.ownerChangeTitle&&(c.title=e.ownerChangeTitle),y._set(c)},d:function(e){e&&u(n),p&&p.d(),e&&u(s),h&&h.d(e),e&&u(r),y.destroy(e),t.refs.confirmationModal===y&&(t.refs.confirmationModal=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(ye.prototype,G),s(ye.prototype,ne),ye.prototype._recompute=function(t,e){var n,i,a;(t.isAdmin||t.isTeamOwner)&&this._differs(e.roles,e.roles=function(t){var e=t.isAdmin,n=t.isTeamOwner;return e||n?Yt:Yt.slice(1)}(e))&&(t.roles=!0),(t.users||t.isAdmin)&&this._differs(e.sortedUsers,e.sortedUsers=(i=(n=e).users,a=n.isAdmin,i.sort((function(t,e){var n=["owner","admin","member"];return n.indexOf(t.role)>n.indexOf(e.role)?1:n.indexOf(t.role)<n.indexOf(e.role)?-1:t.email>e.email?1:t.email<e.email?-1:0})).filter((function(t){return a||!t.isAdmin}))))&&(t.sortedUsers=!0),t.isAdmin&&this._differs(e.userHeaders,e.userHeaders=function(t){var e=t.isAdmin,n=[{title:X("teams / user"),width:"25%"},{title:"ID",width:"10%"},{title:"Charts",width:"15%"},{title:X("teams / status"),width:"15%"},{title:X("teams / actions"),width:"30%"}];return e||n.splice(1,1),n}(e))&&(t.userHeaders=!0),t.sortedUsers&&this._differs(e.numUsers,e.numUsers=e.sortedUsers.length)&&(t.numUsers=!0),t.users&&this._differs(e.numCharts,e.numCharts=function(t){var e=t.users,n=0;return e.forEach((function(t){n+=t.charts})),n}(e))&&(t.numCharts=!0),(t.numCharts||t.isAdmin||t.team)&&this._differs(e.numChartsCaption,e.numChartsCaption=function(t){var e=t.numCharts,n=t.isAdmin,i=t.team;return 1===e?X("teams / charts-total / 1"):e>1?n?X("teams / charts-total-admin").replace("%i%",e).replace("%link%","/admin/chart/by/".concat(i.id)):X("teams / charts-total").replace("%i%",e):""}(e))&&(t.numChartsCaption=!0),(t.users||t.editId||t.team||t.isTeamOwner)&&this._differs(e.ownerChangeMessage,e.ownerChangeMessage=function(t){var e=t.users,n=t.editId,i=t.team,a=t.isTeamOwner,s=e.find((function(t){return t.id===n})),r=e.find((function(t){return t.id!==n&&"owner"===t.role})),o=s?s.name||s.email||s.id:"non-existent",l=r?r.name||r.email||r.id:"non-existent";return X("teams / change-owner-confirmation / message").replace("%member%","<b>".concat(o,"</b>")).replace("%message%",a?X("teams / change-owner-confirmation / owner-message"):X("teams / change-owner-confirmation / non-owner-message").replace("%member%","<b>".concat(l,"</b>"))).replace("%team%","<b>".concat(i.name,"</b>"))}(e))&&(t.ownerChangeMessage=!0),(t.users||t.editId)&&this._differs(e.ownerChangeTitle,e.ownerChangeTitle=function(t){var e=t.users,n=t.editId,i=e.find((function(t){return t.id===n})),a=i?i.name||i.email||i.id:"non-existent";return X("teams / change-owner-confirmation / title").replace("%member%",a)}(e))&&(t.ownerChangeTitle=!0)};function we(t,e){var n,i,a=t._slotted.content;return{c:function(){n=g("div"),a||((i=g("div")).textContent="DropdownControl content"),a||(i.className="base-dropdown-inner svelte-1jdtmzv"),H(n,"width",e.width),n.className="dropdown-menu base-dropdown-content svelte-1jdtmzv"},m:function(t,e){c(t,n,e),l(n,a||i)},p:function(t,e){t.width&&H(n,"width",e.width)},d:function(t){t&&u(n),a&&m(n,a)}}}function Te(t){D(this,t),this.refs={},this._state=s({visible:!1,disabled:!1,width:"auto",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o,d=t._slotted.button;function f(e){t.windowClick(e)}function p(e){t.toggle(e)}window.addEventListener("click",f);var h=e.visible&&we(t,e);return{c:function(){n=g("div"),i=g("a"),d||(a=g("button"),s=g("i")),o=_("\n    "),h&&h.c(),d||(s.className=r="fa fa-chevron-"+(e.visible?"up":"down")+" svelte-1jdtmzv",a.className="btn btn-small"),w(i,"click",p),i.href="#dropdown-btn",i.className="base-drop-btn svelte-1jdtmzv",H(n,"position","relative"),H(n,"display","inline-block"),n.dataset.uid=e.uid},m:function(e,r){c(e,n,r),l(n,i),d?l(i,d):(l(i,a),l(a,s)),t.refs.button=i,l(n,o),h&&h.m(n,null)},p:function(e,i){d||e.visible&&r!==(r="fa fa-chevron-"+(i.visible?"up":"down")+" svelte-1jdtmzv")&&(s.className=r),i.visible?h?h.p(e,i):((h=we(t,i)).c(),h.m(n,null)):h&&(h.d(1),h=null),e.uid&&(n.dataset.uid=i.uid)},d:function(e){window.removeEventListener("click",f),e&&u(n),d&&m(i,d),T(i,"click",p),t.refs.button===i&&(t.refs.button=null),h&&h.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}s(Te.prototype,G),s(Te.prototype,{toggle:function(t){t.preventDefault();var e=this.get(),n=e.visible;e.disabled||this.set({visible:!n})},windowClick:function(t){!t.target||this.refs&&this.refs.button&&(t.target===this.refs.button||this.refs.button.contains(t.target))||t.target.classList.contains("hex")||this.set({visible:!1})}});function Ne(t){t.preventDefault();var e=this._svelte,n=e.component,i=e.ctx;n.action(i.item)}function ke(t,e,n){var i=Object.create(t);return i.item=e[n],i}function xe(t,e){var n,i,a,s,r=e.icon&&Ce(t,e);function o(e){e.preventDefault(),e.stopPropagation(),t.fireClick()}return{c:function(){n=g("button"),r&&r.c(),i=_(" "),a=g("noscript"),w(n,"click",o),n.disabled=e.disabled,n.className=s="split-button-label "+e.btnClass+" svelte-1qu0vk"},m:function(t,s){c(t,n,s),r&&r.m(n,null),l(n,i),l(n,a),a.insertAdjacentHTML("afterend",e.label)},p:function(e,o){o.icon?r?r.p(e,o):((r=Ce(t,o)).c(),r.m(n,i)):r&&(r.d(1),r=null),e.label&&(f(a),a.insertAdjacentHTML("afterend",o.label)),e.disabled&&(n.disabled=o.disabled),e.btnClass&&s!==(s="split-button-label "+o.btnClass+" svelte-1qu0vk")&&(n.className=s)},d:function(t){t&&u(n),r&&r.d(),T(n,"click",o)}}}function Ce(t,e){var n;return{c:function(){(n=g("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){c(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&u(n)}}}function He(t,e){var n,i,a=e.icon&&Oe(t,e);function s(t){return t.label?Le:Ae}var r=s(e),o=r(t,e);return{c:function(){a&&a.c(),n=_(" "),o.c(),i=y()},m:function(t,e){a&&a.m(t,e),c(t,n,e),o.m(t,e),c(t,i,e)},p:function(e,l){l.icon?a?a.p(e,l):((a=Oe(t,l)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r===(r=s(l))&&o?o.p(e,l):(o.d(1),(o=r(t,l)).c(),o.m(i.parentNode,i))},d:function(t){a&&a.d(t),t&&u(n),o.d(t),t&&u(i)}}}function Me(t,e){var n;return{c:function(){(n=g("span")).className="caret"},m:function(t,e){c(t,n,e)},p:a,d:function(t){t&&u(n)}}}function Oe(t,e){var n;return{c:function(){(n=g("i")).className=e.icon+" svelte-1qu0vk"},m:function(t,e){c(t,n,e)},p:function(t,e){t.icon&&(n.className=e.icon+" svelte-1qu0vk")},d:function(t){t&&u(n)}}}function Ae(t,e){var n;return{c:function(){(n=g("i")).className="im im-menu-dot-h svelte-1qu0vk"},m:function(t,e){c(t,n,e)},p:a,d:function(t){t&&u(n)}}}function Le(t,e){var n,i,a,s;return{c:function(){n=g("noscript"),i=g("noscript"),a=_("\n            "),(s=g("span")).className="caret"},m:function(t,r){c(t,n,r),n.insertAdjacentHTML("afterend",e.label),c(t,i,r),c(t,a,r),c(t,s,r)},p:function(t,e){t.label&&(d(n,i),n.insertAdjacentHTML("afterend",e.label))},d:function(t){t&&(d(n,i),u(n),u(i),u(a),u(s))}}}function Ue(t,e){var n,i,a,s=e.item.label;return{c:function(){n=g("li"),i=g("a"),a=_("\n        "),i._svelte={component:t,ctx:e},w(i,"click",Ne),i.href="#/action",i.className="svelte-1qu0vk",A(i,"disabled",e.item.disabled),n.className="svelte-1qu0vk"},m:function(t,e){c(t,n,e),l(n,i),i.innerHTML=s,l(n,a)},p:function(t,n){e=n,t.items&&s!==(s=e.item.label)&&(i.innerHTML=s),i._svelte.ctx=e,t.items&&A(i,"disabled",e.item.disabled)},d:function(t){t&&u(n),T(i,"click",Ne)}}}function je(t){D(this,t),this._state=s({label:"",icon:!1,split:!1,items:[],btnClass:"btn",uid:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o=e.split&&xe(t,e);function c(t){return t.split?Me:He}for(var u=c(e),d=u(t,e),f=e.items,m=[],p=0;p<f.length;p+=1)m[p]=Ue(t,ke(e,f,p));var b={disabled:e.disabled,uid:e.uid},y=new Te({root:t.root,store:t.store,slots:{default:v(),content:v(),button:v()},data:b});return{c:function(){n=g("div"),o&&o.c(),i=_("\n        "),a=g("button"),d.c(),s=_("\n\n    "),r=g("ul");for(var t=0;t<m.length;t+=1)m[t].c();y._fragment.c(),a.disabled=e.disabled,a.className=e.btnClass+" svelte-1qu0vk",N(n,"slot","button"),n.className="btn-group",N(r,"slot","content"),r.className="svelte-1qu0vk"},m:function(t,e){l(y._slotted.button,n),o&&o.m(n,null),l(n,i),l(n,a),d.m(a,null),l(y._slotted.default,s),l(y._slotted.content,r);for(var c=0;c<m.length;c+=1)m[c].m(r,null);y._mount(t,e)},p:function(e,s){if(s.split?o?o.p(e,s):((o=xe(t,s)).c(),o.m(n,i)):o&&(o.d(1),o=null),u===(u=c(s))&&d?d.p(e,s):(d.d(1),(d=u(t,s)).c(),d.m(a,null)),e.disabled&&(a.disabled=s.disabled),e.btnClass&&(a.className=s.btnClass+" svelte-1qu0vk"),e.items){f=s.items;for(var l=0;l<f.length;l+=1){var p=ke(s,f,l);m[l]?m[l].p(e,p):(m[l]=Ue(t,p),m[l].c(),m[l].m(r,null))}for(;l<m.length;l+=1)m[l].d(1);m.length=f.length}var h={};e.disabled&&(h.disabled=s.disabled),e.uid&&(h.uid=s.uid),y._set(h)},d:function(t){o&&o.d(),d.d(),h(m,t),y.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Ee(t,e){var n;return{c:function(){(n=g("label")).className="control-label svelte-1nkiaxn"},m:function(t,i){c(t,n,i),n.innerHTML=e.label},p:function(t,e){t.label&&(n.innerHTML=e.label)},d:function(t){t&&u(n)}}}function Pe(t,e){var n;return{c:function(){(n=g("div")).className="help success svelte-1nkiaxn"},m:function(t,i){c(t,n,i),n.innerHTML=e.success},p:function(t,e){t.success&&(n.innerHTML=e.success)},d:function(t){t&&u(n)}}}function Ie(t,e){var n;return{c:function(){(n=g("div")).className="help error svelte-1nkiaxn"},m:function(t,i){c(t,n,i),n.innerHTML=e.error},p:function(t,e){t.error&&(n.innerHTML=e.error)},d:function(t){t&&u(n)}}}function Se(t,e){var n;return{c:function(){(n=g("div")).className="help svelte-1nkiaxn"},m:function(t,i){c(t,n,i),n.innerHTML=e.help},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){t&&u(n)}}}function ze(t){var e,n,i,a,r,o,d,f,p,h,v,b,y;D(this,t),this._state=s({label:"",help:"",error:!1,success:!1,width:"auto",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,p=e._slotted.default,h=n.label&&Ee(0,n),v=n.success&&Pe(0,n),b=n.error&&Ie(0,n),y=!n.success&&!n.error&&n.help&&Se(0,n),{c:function(){i=g("div"),h&&h.c(),a=_("\n    "),r=g("div"),o=_("\n    "),v&&v.c(),d=_(" "),b&&b.c(),f=_(" "),y&&y.c(),r.className="form-controls svelte-1nkiaxn",i.className="form-block svelte-1nkiaxn",H(i,"width",n.width),i.dataset.uid=n.uid,A(i,"success",n.success),A(i,"error",n.error)},m:function(t,e){c(t,i,e),h&&h.m(i,null),l(i,a),l(i,r),p&&l(r,p),l(i,o),v&&v.m(i,null),l(i,d),b&&b.m(i,null),l(i,f),y&&y.m(i,null)},p:function(t,e){e.label?h?h.p(t,e):((h=Ee(0,e)).c(),h.m(i,a)):h&&(h.d(1),h=null),e.success?v?v.p(t,e):((v=Pe(0,e)).c(),v.m(i,d)):v&&(v.d(1),v=null),e.error?b?b.p(t,e):((b=Ie(0,e)).c(),b.m(i,f)):b&&(b.d(1),b=null),e.success||e.error||!e.help?y&&(y.d(1),y=null):y?y.p(t,e):((y=Se(0,e)).c(),y.m(i,null)),t.width&&H(i,"width",e.width),t.uid&&(i.dataset.uid=e.uid),t.success&&A(i,"success",e.success),t.error&&A(i,"error",e.error)},d:function(t){t&&u(i),h&&h.d(),p&&m(r,p),v&&v.d(),b&&b.d(),y&&y.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function We(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}s(je.prototype,G),s(je.prototype,{fireClick:function(){this.fire("click")},action:function(t){t.disabled||t.action(this)}}),s(ze.prototype,G);var Re={addUser:function(t){try{var e=this,n=e.get(),i=n.inviteeExists,a=n.inviteeUserId;if(!i)return;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),We(Zt("/v3/teams/".concat(e.get().team.id,"/members"),{raw:!0,payload:{userId:a,role:t}}),(function(n){var i=!n.ok;return We(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"add",role:t};e.set({invitedEmail:e.get().inviteeEmail,currentAction:a}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},inviteUser:function(t){try{var e=this,n=e.get().inviteeEmail;return e.set({currentAction:{updatingUsers:!0,isComplete:!1}}),We(Zt("/v3/teams/".concat(e.get().team.id,"/invites"),{raw:!0,payload:{email:n,role:t}}),(function(n){var i=!n.ok;return We(i?n.json():null,(function(i){var a={updatingUsers:!1,isComplete:!0,isError:!n.ok,errorCode:n.ok?null:n.status,responseData:i&&i.data?i.data:null,type:"invite",role:t};e.set({invitedEmail:e.get().inviteeEmail,currentAction:a}),e.fire("updateUsers")}),!i)}))}catch(t){return Promise.reject(t)}},debounceCheckUser:function(){try{var t=this;if(!t.get().isAdmin)return;return window.clearTimeout(window.checkUser),t.set({inviteeExistsLoading:!0}),window.checkUser=setTimeout((function(){t.checkUser()}),200),We()}catch(t){return Promise.reject(t)}},checkUser:function(){try{var t=this,e=t.get().inviteeEmail;return t.get().isValidEmail?We(Gt("/v3/users?search=".concat(encodeURIComponent(e))),(function(n){t.set({inviteeExistsLoading:!1,inviteeExists:!1}),n.list.length>0&&(e=t.get().inviteeEmail,n.list.forEach((function(n){n.email.toLowerCase()===e.toLowerCase()&&t.set({inviteeExists:!0,inviteeUserId:n.id})})))})):void t.set({inviteeExistsLoading:!1})}catch(t){return Promise.reject(t)}}};function Be(){window.teamSettingsInvite=this}function qe(t){t.changed.inviteeEmail&&(this.set({inviteeExists:!1}),this.debounceCheckUser())}function De(t){var e=this;D(this,t),this._state=s({inviteeEmail:"",invitedEmail:"",currentAction:{updatingUsers:!1,isComplete:!1,isError:!1,errorCode:null,responseData:null,type:"",role:""}},t.data),this._recompute({invitedEmail:1,currentAction:1,inviteeEmail:1,isAdmin:1,isTeamOwner:1,isValidEmail:1,inviteeExistsLoading:1,inviteeExists:1},this._state),this._intro=!0,this._handlers.state=[qe],qe.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s=!1;function r(){s=!0,t.set({inviteeEmail:i.value}),s=!1}var o={disabled:!e.isValidEmail,label:"<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+X("teams / invite"),items:e.inviteOptions},c=new je({root:t.root,store:t.store,data:o}),u={label:X("teams / invite-user"),help:X("teams / invite-user / help"),success:e.successMessage,error:e.errorMessage},d=new ze({root:t.root,store:t.store,slots:{default:v()},data:u});return{c:function(){n=g("div"),i=g("input"),a=_(" \n        "),c._fragment.c(),d._fragment.c(),w(i,"input",r),N(i,"type","text"),i.width="1px",i.placeholder=X("teams / invite-user / eg"),i.className="svelte-m6ws61",n.className="flex svelte-m6ws61"},m:function(t,s){l(d._slotted.default,n),l(n,i),i.value=e.inviteeEmail,l(n,a),c._mount(n,null),d._mount(t,s)},p:function(t,e){!s&&t.inviteeEmail&&(i.value=e.inviteeEmail);var n={};t.isValidEmail&&(n.disabled=!e.isValidEmail),t.currentAction&&(n.label="<i class='fa "+(e.currentAction.updatingUsers?"fa-spin fa-circle-o-notch":"fa-envelope")+"'></i>  "+X("teams / invite")),t.inviteOptions&&(n.items=e.inviteOptions),c._set(n);var a={};t.successMessage&&(a.success=e.successMessage),t.errorMessage&&(a.error=e.errorMessage),d._set(a)},d:function(t){T(i,"input",r),c.destroy(),d.destroy(t)}}}(this,this._state),this.root._oncreate.push((function(){Be.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(De.prototype,G),s(De.prototype,Re),De.prototype._recompute=function(t,e){var n;(t.invitedEmail||t.currentAction)&&(this._differs(e.successMessage,e.successMessage=function(t){var e,n=t.invitedEmail,i=t.currentAction,a=i.isComplete,s=i.isError,r=i.type,o=i.role;if(a&&!s)return X("teams / invite-user / ".concat(r," / success")).replace("$1",(e=n,e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))).replace("$2",X("teams / role / ".concat(o)))}(e))&&(t.successMessage=!0),this._differs(e.errorMessage,e.errorMessage=function(t){var e=t.invitedEmail,n=t.currentAction,i=n.isComplete,a=n.isError,s=n.errorCode,r=n.responseData,o=n.type;if(i&&a){var l=[400,401,406].includes(s)?s:"other",c=406===s&&r&&r.maxTeamInvites?r.maxTeamInvites:null;return X("teams / invite-user / ".concat(o," / error / ").concat(l)).replace("$1",e).replace("$2",c)}}(e))&&(t.errorMessage=!0)),t.inviteeEmail&&this._differs(e.isValidEmail,e.isValidEmail=(n=e.inviteeEmail,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)))&&(t.isValidEmail=!0),(t.isAdmin||t.isTeamOwner||t.isValidEmail||t.inviteeExistsLoading||t.inviteeExists)&&this._differs(e.inviteOptions,e.inviteOptions=function(t){var e=t.isAdmin,n=t.isTeamOwner,i=t.isValidEmail,a=t.inviteeExistsLoading,s=t.inviteeExists,r=[{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / member")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("member")}},{label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / admin")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("admin")}}];return(e||n)&&r.push({label:'<i class="fa fa-envelope"></i> &nbsp;...'.concat(X("teams / role / owner")),disabled:!i,action:function(){teamSettingsInvite.inviteUser("owner")}}),e&&r.push({label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / member")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("member")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / admin")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("admin")}},{label:'<span class="red"><i class="fa '.concat(a?"fa-spin fa-circle-o-notch":"fa-plus",'"></i> &nbsp;').concat(X("teams / add-as").replace("%s",X("teams / role / owner")),"</span>"),disabled:!s,action:function(){teamSettingsInvite.addUser("owner")}}),r}(e))&&(t.inviteOptions=!0)};var Ve={updateUsers:function(){var t=this,e=this.get().team;this.set({awaitLoadingUsers:$t.get("/v3/teams/".concat(e.id,"/members?limit=1000")).then((function(e){t.set({users:e.list})}))})}};function Fe(){this.updateUsers()}function $e(t,e){var n,i,a={component:t,ctx:e,current:null,pending:Ze,then:Je,catch:Ge,value:"null",error:"null"};return I(i=e.awaitLoadingUsers,a),{c:function(){n=y(),a.block.c()},m:function(t,e){c(t,n,e),a.block.m(t,a.anchor=e),a.mount=function(){return n.parentNode},a.anchor=n},p:function(t,n){e=n,a.ctx=e,"awaitLoadingUsers"in t&&i!==(i=e.awaitLoadingUsers)&&I(i,a)||a.block.p(t,s(s({},e),a.resolved))},d:function(t){t&&u(n),a.block.d(t),a=null}}}function Ge(t,e){var n;return{c:function(){n=_("error!")},m:function(t,e){c(t,n,e)},p:a,d:function(t){t&&u(n)}}}function Je(t,e){var n={},i={isAdmin:e.isAdmin,isTeamOwner:e.isTeamOwner,isTeamAdmin:e.isTeamAdmin,team:e.team};void 0!==e.userId&&(i.userId=e.userId,n.userId=!0),void 0!==e.users&&(i.users=e.users,n.users=!0),void 0!==e.editIndex&&(i.editIndex=e.editIndex,n.editIndex=!0),void 0!==e.updating&&(i.updating=e.updating,n.updating=!0);var a=new ye({root:t.root,store:t.store,data:i,_bind:function(e,i){var a={};!n.userId&&e.userId&&(a.userId=i.userId),!n.users&&e.users&&(a.users=i.users),!n.editIndex&&e.editIndex&&(a.editIndex=i.editIndex),!n.updating&&e.updating&&(a.updating=i.updating),t._set(a),n={}}});return t.root._beforecreate.push((function(){a._bind({userId:1,users:1,editIndex:1,updating:1},a.get())})),a.on("updateUsers",(function(e){t.updateUsers()})),{c:function(){a._fragment.c()},m:function(t,e){a._mount(t,e)},p:function(t,i){e=i;var s={};t.isAdmin&&(s.isAdmin=e.isAdmin),t.isTeamOwner&&(s.isTeamOwner=e.isTeamOwner),t.isTeamAdmin&&(s.isTeamAdmin=e.isTeamAdmin),t.team&&(s.team=e.team),!n.userId&&t.userId&&(s.userId=e.userId,n.userId=void 0!==e.userId),!n.users&&t.users&&(s.users=e.users,n.users=void 0!==e.users),!n.editIndex&&t.editIndex&&(s.editIndex=e.editIndex,n.editIndex=void 0!==e.editIndex),!n.updating&&t.updating&&(s.updating=e.updating,n.updating=void 0!==e.updating),a._set(s),n={}},d:function(t){a.destroy(t)}}}function Ze(t,e){var n,i,s,r,o=X("teams / loading");return{c:function(){n=g("p"),i=g("i"),s=_("   "),r=g("noscript"),i.className="fa fa-circle-o-notch fa-spin"},m:function(t,e){c(t,n,e),l(n,i),l(n,s),l(n,r),r.insertAdjacentHTML("afterend",o)},p:a,d:function(t){t&&u(n)}}}function Xe(t){var e=this;D(this,t),this._state=s({editIndex:0,updating:{},updatingUsers:!1,awaitLoadingUsers:!1},t.data),this._recompute({users:1,userId:1,role:1},this._state),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o,d,f,m,p,h,v,b,w,T,N,k,x,C,M,O,A,L,U,j,E,P,I,S,z,W,R,B,q,D,V,F,$,G,J,Z,K,Q,Y,tt,et,nt,it,at,st,rt,ot,lt,ct,ut,dt,ft,mt,pt,ht,vt,gt,bt,_t,yt,wt,Tt,Nt,kt,xt,Ct,Ht,Mt,Ot=X("teams / p"),At={},Lt=X("teams / role / member"),Ut=X("teams / role / admin"),jt=X("teams / role / owner"),Et=X("teams / roles / edit-charts"),Pt=X("teams / roles / edit-folders"),It=X("teams / roles / access-settings"),St=X("teams / roles / invite-users"),zt=X("teams / roles / subscription-options"),Wt=X("teams / roles / remove-team"),Rt={isTeamOwner:e.isTeamOwner,isAdmin:e.isAdmin};void 0!==e.team&&(Rt.team=e.team,At.team=!0),void 0!==e.updatingUsers&&(Rt.updatingUsers=e.updatingUsers,At.updatingUsers=!0);var Bt=new De({root:t.root,store:t.store,data:Rt,_bind:function(e,n){var i={};!At.team&&e.team&&(i.team=n.team),!At.updatingUsers&&e.updatingUsers&&(i.updatingUsers=n.updatingUsers),t._set(i),At={}}});t.root._beforecreate.push((function(){Bt._bind({team:1,updatingUsers:1},Bt.get())})),Bt.on("updateUsers",(function(e){t.updateUsers()}));var qt=e.awaitLoadingUsers&&$e(t,e);return{c:function(){n=g("p"),i=_("\n\n"),a=g("div"),s=g("div"),Bt._fragment.c(),r=_("\n    "),o=g("div"),d=g("table"),f=g("thead"),m=g("tr"),p=g("td"),h=_("\n                    "),v=g("th"),b=_("\n                    "),w=g("th"),T=_("\n                    "),N=g("th"),k=_("\n            "),x=g("tbody"),C=g("tr"),M=g("td"),O=_("\n                    "),(A=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',L=_("\n                    "),(U=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',j=_("\n                    "),(E=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',P=_("\n\n                "),I=g("tr"),S=g("td"),z=_("\n                    "),(W=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',R=_("\n                    "),(B=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',q=_("\n                    "),(D=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',V=_("\n\n                "),F=g("tr"),$=g("td"),G=_("\n                    "),(J=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Z=_("\n                    "),(K=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Q=_("\n                    "),(Y=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',tt=_("\n\n                "),et=g("tr"),nt=g("td"),it=_("\n                    "),(at=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',st=_("\n                    "),(rt=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ot=_("\n                    "),(lt=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',ct=_("\n\n                "),ut=g("tr"),dt=g("td"),ft=_("\n                    "),(mt=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',pt=_("\n                    "),(ht=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',vt=_("\n                    "),(gt=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',bt=_("\n\n                "),_t=g("tr"),yt=g("td"),wt=_("\n                    "),(Tt=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',Nt=_("\n                    "),(kt=g("td")).innerHTML='<i class="im im-x-mark svelte-hgmegl"></i>',xt=_("\n                    "),(Ct=g("td")).innerHTML='<i class="im im-check-mark svelte-hgmegl"></i>',Ht=_("\n\n"),qt&&qt.c(),Mt=y(),H(n,"margin-bottom","10px"),s.className="span4",p.className="svelte-hgmegl",v.className="svelte-hgmegl",w.className="svelte-hgmegl",N.className="svelte-hgmegl",M.className="svelte-hgmegl",A.className="svelte-hgmegl",U.className="svelte-hgmegl",E.className="svelte-hgmegl",S.className="svelte-hgmegl",W.className="svelte-hgmegl",B.className="svelte-hgmegl",D.className="svelte-hgmegl",$.className="svelte-hgmegl",J.className="svelte-hgmegl",K.className="svelte-hgmegl",Y.className="svelte-hgmegl",nt.className="svelte-hgmegl",at.className="svelte-hgmegl",rt.className="svelte-hgmegl",lt.className="svelte-hgmegl",dt.className="svelte-hgmegl",mt.className="svelte-hgmegl",ht.className="svelte-hgmegl",gt.className="svelte-hgmegl",yt.className="svelte-hgmegl",Tt.className="svelte-hgmegl",kt.className="svelte-hgmegl",Ct.className="svelte-hgmegl",x.className="svelte-hgmegl",d.className="role-descriptions svelte-hgmegl",H(d,"margin-left","3em"),o.className="span6",a.className="row",H(a,"margin-bottom","2em")},m:function(t,e){c(t,n,e),n.innerHTML=Ot,c(t,i,e),c(t,a,e),l(a,s),Bt._mount(s,null),l(a,r),l(a,o),l(o,d),l(d,f),l(f,m),l(m,p),l(m,h),l(m,v),v.innerHTML=Lt,l(m,b),l(m,w),w.innerHTML=Ut,l(m,T),l(m,N),N.innerHTML=jt,l(d,k),l(d,x),l(x,C),l(C,M),M.innerHTML=Et,l(C,O),l(C,A),l(C,L),l(C,U),l(C,j),l(C,E),l(x,P),l(x,I),l(I,S),S.innerHTML=Pt,l(I,z),l(I,W),l(I,R),l(I,B),l(I,q),l(I,D),l(x,V),l(x,F),l(F,$),$.innerHTML=It,l(F,G),l(F,J),l(F,Z),l(F,K),l(F,Q),l(F,Y),l(x,tt),l(x,et),l(et,nt),nt.innerHTML=St,l(et,it),l(et,at),l(et,st),l(et,rt),l(et,ot),l(et,lt),l(x,ct),l(x,ut),l(ut,dt),dt.innerHTML=zt,l(ut,ft),l(ut,mt),l(ut,pt),l(ut,ht),l(ut,vt),l(ut,gt),l(x,bt),l(x,_t),l(_t,yt),yt.innerHTML=Wt,l(_t,wt),l(_t,Tt),l(_t,Nt),l(_t,kt),l(_t,xt),l(_t,Ct),c(t,Ht,e),qt&&qt.m(t,e),c(t,Mt,e)},p:function(n,i){e=i;var a={};n.isTeamOwner&&(a.isTeamOwner=e.isTeamOwner),n.isAdmin&&(a.isAdmin=e.isAdmin),!At.team&&n.team&&(a.team=e.team,At.team=void 0!==e.team),!At.updatingUsers&&n.updatingUsers&&(a.updatingUsers=e.updatingUsers,At.updatingUsers=void 0!==e.updatingUsers),Bt._set(a),At={},e.awaitLoadingUsers?qt?qt.p(n,e):((qt=$e(t,e)).c(),qt.m(Mt.parentNode,Mt)):qt&&(qt.d(1),qt=null)},d:function(t){t&&(u(n),u(i),u(a)),Bt.destroy(),t&&u(Ht),qt&&qt.d(t),t&&u(Mt)}}}(this,this._state),this.root._oncreate.push((function(){Fe.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(Xe.prototype,G),s(Xe.prototype,Ve),Xe.prototype._recompute=function(t,e){(t.users||t.userId)&&this._differs(e.role,e.role=function(t){var e=t.users,n=t.userId;if(!e||!e.length||!n)return!1;var i=e.find((function(t){return t.id===n}));return i?i.role:"admin"}(e))&&(t.role=!0),t.role&&(this._differs(e.isTeamOwner,e.isTeamOwner="owner"===e.role)&&(t.isTeamOwner=!0),this._differs(e.isTeamAdmin,e.isTeamAdmin="admin"===e.role)&&(t.isTeamAdmin=!0))};var Ke={show:function(){var t=this,e=setTimeout((function(){t.set({visible:!0})}),400);this.set({t:e})},hide:function(){var t=this.get().t;clearTimeout(t),this.set({visible:!1})}};function Qe(t,e){var n,i,a,s,r,o=t._slotted.default,d="help"===e.type&&Ye(),f="upgrade-info"===e.type&&tn();return{c:function(){n=g("div"),d&&d.c(),i=_(" "),f&&f.c(),a=_("\n        "),n.className=r="content "+e.type+" svelte-1qzgns1"},m:function(t,e){c(t,n,e),d&&d.m(n,null),l(n,i),f&&f.m(n,null),l(n,a),o&&(l(n,s||(s=y())),l(n,o))},p:function(t,e){"help"===e.type?d||((d=Ye()).c(),d.m(n,i)):d&&(d.d(1),d=null),"upgrade-info"===e.type?f||((f=tn()).c(),f.m(n,a)):f&&(f.d(1),f=null),t.type&&r!==(r="content "+e.type+" svelte-1qzgns1")&&(n.className=r)},d:function(t){t&&u(n),d&&d.d(),f&&f.d(),o&&p(s,o)}}}function Ye(t,e){var n;return{c:function(){(n=g("i")).className="hat-icon im im-graduation-hat svelte-1qzgns1"},m:function(t,e){c(t,n,e)},d:function(t){t&&u(n)}}}function tn(t,e){var n,i,a=X("upgrade-available");return{c:function(){n=g("div"),i=_(a),n.className="content-header svelte-1qzgns1"},m:function(t,e){c(t,n,e),l(n,i)},d:function(t){t&&u(n)}}}function en(t){D(this,t),this.refs={},this._state=s({visible:!1,class:"",type:"help",uid:""},t.data),this._recompute({type:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o=e.visible&&Qe(t,e);function d(e){t.show()}function f(e){t.hide()}return{c:function(){n=g("div"),i=g("span"),s=_("\n    "),o&&o.c(),i.className=a="help-icon "+e.type+" svelte-1qzgns1",A(i,"visible",e.visible),w(n,"mouseenter",d),w(n,"mouseleave",f),n.className=r="help "+e.class+" "+e.type+" svelte-1qzgns1",n.dataset.uid=e.uid},m:function(a,r){c(a,n,r),l(n,i),i.innerHTML=e.helpIcon,l(n,s),o&&o.m(n,null),t.refs.helpDisplay=n},p:function(e,s){e.helpIcon&&(i.innerHTML=s.helpIcon),e.type&&a!==(a="help-icon "+s.type+" svelte-1qzgns1")&&(i.className=a),(e.type||e.visible)&&A(i,"visible",s.visible),s.visible?o?o.p(e,s):((o=Qe(t,s)).c(),o.m(n,null)):o&&(o.d(1),o=null),(e.class||e.type)&&r!==(r="help "+s.class+" "+s.type+" svelte-1qzgns1")&&(n.className=r),e.uid&&(n.dataset.uid=s.uid)},d:function(e){e&&u(n),o&&o.d(),T(n,"mouseenter",d),T(n,"mouseleave",f),t.refs.helpDisplay===n&&(t.refs.helpDisplay=null)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}s(en.prototype,G),s(en.prototype,Ke),en.prototype._recompute=function(t,e){t.type&&this._differs(e.helpIcon,e.helpIcon="upgrade-info"===e.type?'<svg width="18" height="18" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.035 1.963c-.256 0-.511.1-.707.295l-7.07 7.07a1 1 0 00.707 1.707h4.07v15a2 2 0 002 2h2a2 2 0 002-2v-15h4.07a.999.999 0 00.707-1.707l-7.07-7.07a.999.999 0 00-.707-.295z"/></svg>':"?")&&(t.helpIcon=!0)};var nn="100px";function an(t,e){var n,i={class:e.helpClass},a=new en({root:t.root,store:t.store,slots:{default:v()},data:i});return{c:function(){n=g("div"),a._fragment.c()},m:function(t,i){l(a._slotted.default,n),n.innerHTML=e.help,a._mount(t,i)},p:function(t,e){t.help&&(n.innerHTML=e.help);var i={};t.helpClass&&(i.class=e.helpClass),a._set(i)},d:function(t){a.destroy(t)}}}function sn(t,e){var n,i,a,s=e.labelHelp&&rn(t,e);return{c:function(){n=g("label"),i=g("noscript"),a=_(" "),s&&s.c(),H(n,"width",e.labelWidth||nn),n.className="control-label svelte-1ykzs2h",A(n,"disabled",e.disabled)},m:function(t,r){c(t,n,r),l(n,i),i.insertAdjacentHTML("beforebegin",e.label),l(n,a),s&&s.m(n,null)},p:function(e,a){e.label&&(!function(t){for(;t.previousSibling;)t.parentNode.removeChild(t.previousSibling)}(i),i.insertAdjacentHTML("beforebegin",a.label)),a.labelHelp?s?s.p(e,a):((s=rn(t,a)).c(),s.m(n,null)):s&&(s.d(1),s=null),e.labelWidth&&H(n,"width",a.labelWidth||nn),e.disabled&&A(n,"disabled",a.disabled)},d:function(t){t&&u(n),s&&s.d()}}}function rn(t,e){var n;return{c:function(){(n=g("p")).className="mini-help mt-1"},m:function(t,i){c(t,n,i),n.innerHTML=e.labelHelp},p:function(t,e){t.labelHelp&&(n.innerHTML=e.labelHelp)},d:function(t){t&&u(n)}}}function on(t,e){var n,i;return{c:function(){H(n=g("p"),"padding-left",e.inline?0:e.labelWidth||nn),n.className=i="mt-1 mini-help "+e.type+" svelte-1ykzs2h",A(n,"mini-help-block",!e.inline)},m:function(t,i){c(t,n,i),n.innerHTML=e.miniHelp},p:function(t,e){t.miniHelp&&(n.innerHTML=e.miniHelp),(t.inline||t.labelWidth)&&H(n,"padding-left",e.inline?0:e.labelWidth||nn),t.type&&i!==(i="mt-1 mini-help "+e.type+" svelte-1ykzs2h")&&(n.className=i),(t.type||t.inline)&&A(n,"mini-help-block",!e.inline)},d:function(t){t&&u(n)}}}function ln(t){var e,n,i,a,r,o,d,f,p,h,v,b;D(this,t),this._state=s({disabled:!1,help:!1,helpClass:!1,miniHelp:!1,label:!1,labelHelp:!1,inline:!1,labelWidth:!1,type:"default",valign:"baseline",uid:""},t.data),this._intro=!0,this._slotted=t.slots||{},this._fragment=(e=this,n=this._state,p=e._slotted.default,h=n.help&&an(e,n),v=n.label&&sn(e,n),b=n.miniHelp&&on(0,n),{c:function(){h&&h.c(),i=_("\n\n"),a=g("div"),v&&v.c(),r=_("\n    "),o=g("div"),d=_("\n    "),b&&b.c(),o.className="controls svelte-1ykzs2h",H(o,"width","calc(100% - "+(n.labelWidth||nn)+" - 32px)"),A(o,"form-inline",n.inline),a.className=f="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h",a.dataset.uid=n.uid},m:function(t,e){h&&h.m(t,e),c(t,i,e),c(t,a,e),v&&v.m(a,null),l(a,r),l(a,o),p&&l(o,p),l(a,d),b&&b.m(a,null)},p:function(t,n){n.help?h?h.p(t,n):((h=an(e,n)).c(),h.m(i.parentNode,i)):h&&(h.d(1),h=null),n.label?v?v.p(t,n):((v=sn(e,n)).c(),v.m(a,r)):v&&(v.d(1),v=null),t.labelWidth&&H(o,"width","calc(100% - "+(n.labelWidth||nn)+" - 32px)"),t.inline&&A(o,"form-inline",n.inline),n.miniHelp?b?b.p(t,n):((b=on(0,n)).c(),b.m(a,null)):b&&(b.d(1),b=null),(t.type||t.valign)&&f!==(f="control-group vis-option-group vis-option-group-"+n.type+" label-"+n.valign+" svelte-1ykzs2h")&&(a.className=f),t.uid&&(a.dataset.uid=n.uid)},d:function(t){h&&h.d(t),t&&(u(i),u(a)),v&&v.d(),p&&m(o,p),b&&b.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function cn(t){var e=t.changed;t.previous&&e.value&&this.set({indeterminate:!1})}function un(t,e,n){var i=Object.create(t);return i.opt=e[n],i}function dn(t,e){var n,i=e.opt.help;return{c:function(){(n=g("div")).className="help svelte-b3e9e4"},m:function(t,e){c(t,n,e),n.innerHTML=i},p:function(t,e){t.options&&i!==(i=e.opt.help)&&(n.innerHTML=i)},d:function(t){t&&u(n)}}}function fn(t,e){var n,i,a,s,r,o,d,f,m,p=e.opt.label;function h(){t.set({value:i.__value})}var v=e.opt.help&&dn(0,e);return{c:function(){n=g("label"),i=g("input"),s=_("\n            "),r=g("span"),o=_(" "),d=g("span"),f=_("\n            "),v&&v.c(),t._bindingGroups[0].push(i),w(i,"change",h),N(i,"type","radio"),i.__value=a=e.opt.value,i.value=i.__value,i.disabled=e.disabled,i.className="svelte-b3e9e4",r.className="css-ui svelte-b3e9e4",d.className="inner-label svelte-b3e9e4",n.title=m=e.opt.tooltip||"",n.className="svelte-b3e9e4",A(n,"disabled",e.disabled),A(n,"has-help",e.opt.help)},m:function(t,a){c(t,n,a),l(n,i),i.checked=i.__value===e.value,l(n,s),l(n,r),l(n,o),l(n,d),d.innerHTML=p,l(n,f),v&&v.m(n,null)},p:function(t,e){t.value&&(i.checked=i.__value===e.value),t.options&&a!==(a=e.opt.value)&&(i.__value=a),i.value=i.__value,t.disabled&&(i.disabled=e.disabled),t.options&&p!==(p=e.opt.label)&&(d.innerHTML=p),e.opt.help?v?v.p(t,e):((v=dn(0,e)).c(),v.m(n,null)):v&&(v.d(1),v=null),t.options&&m!==(m=e.opt.tooltip||"")&&(n.title=m),t.disabled&&A(n,"disabled",e.disabled),t.options&&A(n,"has-help",e.opt.help)},d:function(e){e&&u(n),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(i),1),T(i,"change",h),v&&v.d()}}}function mn(t,e){var n;return{c:function(){(n=g("div")).className="disabled-message svelte-b3e9e4"},m:function(t,i){c(t,n,i),n.innerHTML=e.disabledMessage},p:function(t,e){t.disabledMessage&&(n.innerHTML=e.disabledMessage)},d:function(t){t&&u(n)}}}function pn(t){var e=this;D(this,t),this._state=s({value:null,disabled:!1,disabledMessage:"",indeterminate:!1,label:"",labelWidth:"auto",help:null,miniHelp:null,valign:"top",inline:!0,uid:""},t.data),this._bindingGroups=[[]],this._intro=!0,this._handlers.state=[cn],this._slotted=t.slots||{},cn.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(t,e){for(var n,i,a,s,r,o=t._slotted.default,d=e.options,f=[],m=0;m<d.length;m+=1)f[m]=fn(t,un(e,d,m));var b={type:"radio",labelWidth:e.labelWidth,valign:e.valign,label:e.label,disabled:e.disabled,help:e.help,miniHelp:e.miniHelp,uid:e.uid},w=new ln({root:t.root,store:t.store,slots:{default:v()},data:b}),T=e.disabled&&e.disabledMessage&&mn(t,e);return{c:function(){n=g("div");for(var t=0;t<f.length;t+=1)f[t].c();i=_("\n    "),w._fragment.c(),s=_("\n\n"),T&&T.c(),r=y(),n.className="svelte-b3e9e4",A(n,"inline",e.inline),A(n,"indeterminate",e.indeterminate)},m:function(t,e){l(w._slotted.default,n);for(var u=0;u<f.length;u+=1)f[u].m(n,null);l(w._slotted.default,i),o&&(l(w._slotted.default,a||(a=y())),l(w._slotted.default,o)),w._mount(t,e),c(t,s,e),T&&T.m(t,e),c(t,r,e)},p:function(e,i){if(e.options||e.disabled||e.value){d=i.options;for(var a=0;a<d.length;a+=1){var s=un(i,d,a);f[a]?f[a].p(e,s):(f[a]=fn(t,s),f[a].c(),f[a].m(n,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=d.length}e.inline&&A(n,"inline",i.inline),e.indeterminate&&A(n,"indeterminate",i.indeterminate);var o={};e.labelWidth&&(o.labelWidth=i.labelWidth),e.valign&&(o.valign=i.valign),e.label&&(o.label=i.label),e.disabled&&(o.disabled=i.disabled),e.help&&(o.help=i.help),e.miniHelp&&(o.miniHelp=i.miniHelp),e.uid&&(o.uid=i.uid),w._set(o),i.disabled&&i.disabledMessage?T?T.p(e,i):((T=mn(t,i)).c(),T.m(r.parentNode,r)):T&&(T.d(1),T=null)},d:function(t){h(f,t),o&&p(a,o),w.destroy(t),t&&u(s),T&&T.d(t),t&&u(r)}}}(this,this._state),this.root._oncreate.push((function(){e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function hn(t,e,n){var i=Object.create(t);return i.option=e[n],i.i=n,i}function vn(t,e){var n,i,a,s,r,o,d,f,m=!1;function p(){m=!0,e.inputWidths[e.i]=x(i.value),t.set({inputWidths:e.inputWidths}),m=!1}return{c:function(){n=g("div"),i=g("input"),s=_("\n        "),r=g("div"),o=g("i"),f=_("\n    "),w(i,"input",p),N(i,"type","number"),i.placeholder=a=e.option.width,i.className="svelte-1r7yu5m",o.className=d="fa "+e.option.icon+" svelte-1r7yu5m",H(o,"font-size",e.option.size+"px"),r.className="size-icon svelte-1r7yu5m",n.className="width-input svelte-1r7yu5m"},m:function(t,a){c(t,n,a),l(n,i),i.value=e.inputWidths[e.i],l(n,s),l(n,r),l(r,o),l(n,f)},p:function(t,n){e=n,!m&&t.inputWidths&&(i.value=e.inputWidths[e.i]),t.widthOptions&&a!==(a=e.option.width)&&(i.placeholder=a),t.widthOptions&&d!==(d="fa "+e.option.icon+" svelte-1r7yu5m")&&(o.className=d),t.widthOptions&&H(o,"font-size",e.option.size+"px")},d:function(t){t&&u(n),T(i,"input",p)}}}function gn(t){D(this,t),this._state=s({widthOptions:[{width:320,icon:"fa-mobile",size:14},{width:400,icon:"fa-mobile",size:17},{width:600,icon:"fa-desktop",size:14}],inputWidths:["","",""]},t.data),this._recompute({widthOptions:1,inputWidths:1},this._state),this._intro=!0,this._fragment=function(t,e){for(var n,i=e.widthOptions,a=[],s=0;s<i.length;s+=1)a[s]=vn(t,hn(e,i,s));return{c:function(){n=g("div");for(var t=0;t<a.length;t+=1)a[t].c();n.className="preview-widths",H(n,"display","flex")},m:function(t,e){c(t,n,e);for(var i=0;i<a.length;i+=1)a[i].m(n,null)},p:function(e,s){if(e.widthOptions||e.inputWidths){i=s.widthOptions;for(var r=0;r<i.length;r+=1){var o=hn(s,i,r);a[r]?a[r].p(e,o):(a[r]=vn(t,o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}},d:function(t){t&&u(n),h(a,t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function bn(){var t=this.get().settings;!function(t,e,n){var i=Array.isArray(e)?e:e.split("."),a=i.pop(),s=t;i.forEach((function(t){void 0!==s[t]&&null!==s[t]||(s[t]={}),s=s[t]})),JSON.stringify(s[a])!==JSON.stringify(n)&&(s[a]=n)}(t,"default.metadata.publish",function(t){if(Array.isArray(t)){var e={};return Object.keys(t).forEach((function(n){return e[n]=t[n]})),e}return t}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;for(var i=Array.isArray(e)?e:e.split("."),a=t,s=0;s<i.length&&null!=a;s++)a=a[i[s]];return null==a?n:a}(t,"default.metadata.publish",{}))),this.set({settings:t,initialized:!0})}function _n(t){var e=t.changed,n=t.current;n.settings&&(e.settings||e.team||e.defaultTheme)&&this.fire("change",{team:n.team,settings:n.settings,defaultTheme:n.defaultTheme})}function yn(t,e){var n,i,a,s,r,o,d,f,m,p=!1,h=!1,b=!1;function y(){p=!0,e.settings.embed.custom_embed.title=a.value,t.set({settings:e.settings}),p=!1}var k={label:X("teams / custom / title"),help:""},x=new ze({root:t.root,store:t.store,slots:{default:v()},data:k});function C(){h=!0,e.settings.embed.custom_embed.text=r.value,t.set({settings:e.settings}),h=!1}var H={label:X("teams / custom / help"),help:""},M=new ze({root:t.root,store:t.store,slots:{default:v()},data:H});function O(){b=!0,e.settings.embed.custom_embed.template=d.value,t.set({settings:e.settings}),b=!1}var A={label:X("teams / custom / embedcode"),help:X("teams / custom / embedcode / help")},L=new ze({root:t.root,store:t.store,slots:{default:v()},data:A});return{c:function(){(n=g("h3")).textContent="Custom Embed Code",i=_("\n\n        "),a=g("input"),x._fragment.c(),s=_("\n\n        "),r=g("textarea"),M._fragment.c(),o=_("\n\n        "),d=g("textarea"),L._fragment.c(),f=_("\n        "),m=g("hr"),w(a,"input",y),N(a,"type","text"),a.placeholder="e.g. Custom CMS Embed",w(r,"input",C),r.placeholder="e.g. This is a custom embed code for our CMS",w(d,"input",O),d.className="embedcode svelte-xvgt5o",d.placeholder='<iframe src="%chart_url%" width="%chart_width%" widthheight="%chart_height%"></iframe>'},m:function(t,u){c(t,n,u),c(t,i,u),l(x._slotted.default,a),a.value=e.settings.embed.custom_embed.title,x._mount(t,u),c(t,s,u),l(M._slotted.default,r),r.value=e.settings.embed.custom_embed.text,M._mount(t,u),c(t,o,u),l(L._slotted.default,d),d.value=e.settings.embed.custom_embed.template,L._mount(t,u),c(t,f,u),c(t,m,u)},p:function(t,n){e=n,!p&&t.settings&&(a.value=e.settings.embed.custom_embed.title),!h&&t.settings&&(r.value=e.settings.embed.custom_embed.text),!b&&t.settings&&(d.value=e.settings.embed.custom_embed.template)},d:function(t){t&&(u(n),u(i)),T(a,"input",y),x.destroy(t),t&&u(s),T(r,"input",C),M.destroy(t),t&&u(o),T(d,"input",O),L.destroy(t),t&&(u(f),u(m))}}}function wn(t,e){var n,i,a,s,r,o,c=!1,u=!1;function d(){c=!0,e.settings.default.metadata.publish["embed-width"]=x(i.value),t.set({settings:e.settings}),c=!1}function f(){u=!0,e.settings.default.metadata.publish["embed-height"]=x(o.value),t.set({settings:e.settings}),u=!1}var m={label:X("teams / defaults / visualization-size"),help:X("teams / defaults / visualization-size / help")},p=new ze({root:t.root,store:t.store,slots:{default:v()},data:m});return{c:function(){n=g("div"),i=g("input"),a=_("\n                "),(s=g("span")).textContent="×",r=_("\n                "),o=g("input"),p._fragment.c(),w(i,"input",d),N(i,"type","number"),i.placeholder="600",i.className="svelte-xvgt5o",s.className="svelte-xvgt5o",w(o,"input",f),N(o,"type","number"),o.placeholder="400",o.className="svelte-xvgt5o",n.className="default-size svelte-xvgt5o"},m:function(t,c){l(p._slotted.default,n),l(n,i),i.value=e.settings.default.metadata.publish["embed-width"],l(n,a),l(n,s),l(n,r),l(n,o),o.value=e.settings.default.metadata.publish["embed-height"],p._mount(t,c)},p:function(t,n){e=n,!c&&t.settings&&(i.value=e.settings.default.metadata.publish["embed-width"]),!u&&t.settings&&(o.value=e.settings.default.metadata.publish["embed-height"])},d:function(t){T(i,"input",d),T(o,"input",f),p.destroy(t)}}}function Tn(t){var e=this;D(this,t),this._state=s({initialized:!1,embedCodes:[{value:"responsive",label:X("teams / defaults / responsive-iframe")},{value:"iframe",label:X("teams / defaults / iframe")},{value:"custom",label:X("teams / defaults / custom")}],themes:[],folders:[],locales:[],defaultTheme:"",settings:{},team:{}},t.data),this._recompute({locales:1},this._state),this._intro=!0,this._handlers.state=[_n],_n.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s,r,o,d,f,m,p,h,b,y,k,x,C,M,O,A,L=X("teams / defaults / p"),U=!1,j={},E=X("teams / defaults / h3"),P={},I={},S={},z={},W=X("teams / editor / h1"),R={};function B(){U=!0,e.team.name=r.value,t.set({team:e.team}),U=!1}var q={label:X("teams / name"),help:X("teams / name / help")},D=new ze({root:t.root,store:t.store,slots:{default:v()},data:q}),V={label:"",options:[{label:X("teams / defaults / expanded"),value:"expanded"},{label:X("teams / defaults / collapsed"),value:"collapsed"}]};void 0!==e.settings.folders&&(V.value=e.settings.folders,j.value=!0);var F=new pn({root:t.root,store:t.store,data:V,_bind:function(n,i){var a={};!j.value&&n.value&&(e.settings.folders=i.value,a.settings=e.settings),t._set(a),j={}}});t.root._beforecreate.push((function(){F._bind({value:1},F.get())}));var $={label:X("teams / defaults / folder-status"),help:X("teams / defaults / folder-status / p")},G=new ze({root:t.root,store:t.store,slots:{default:v()},data:$}),J={options:e.themes};void 0!==e.defaultTheme&&(J.value=e.defaultTheme,P.value=!0);var Z=new Ht({root:t.root,store:t.store,data:J,_bind:function(e,n){var i={};!P.value&&e.value&&(i.defaultTheme=n.value),t._set(i),P={}}});t.root._beforecreate.push((function(){Z._bind({value:1},Z.get())}));var K={label:X("teams / defaults / theme"),help:X("teams / defaults / theme / p")},Q=new ze({root:t.root,store:t.store,slots:{default:v()},data:K}),Y={options:e.folders};void 0!==e.settings.default.folder&&(Y.value=e.settings.default.folder,I.value=!0);var tt=new Ht({root:t.root,store:t.store,data:Y,_bind:function(n,i){var a={};!I.value&&n.value&&(e.settings.default.folder=i.value,a.settings=e.settings),t._set(a),I={}}});t.root._beforecreate.push((function(){tt._bind({value:1},tt.get())}));var et={label:X("teams / defaults / folder"),help:X("teams / defaults / folder / p")},nt=new ze({root:t.root,store:t.store,slots:{default:v()},data:et}),it={options:e.localeOptions};void 0!==e.settings.default.locale&&(it.value=e.settings.default.locale,S.value=!0);var at=new Ht({root:t.root,store:t.store,data:it,_bind:function(n,i){var a={};!S.value&&n.value&&(e.settings.default.locale=i.value,a.settings=e.settings),t._set(a),S={}}});t.root._beforecreate.push((function(){at._bind({value:1},at.get())}));var st={label:X("teams / defaults / locale"),help:X("teams / defaults / locale / p")},rt=new ze({root:t.root,store:t.store,slots:{default:v()},data:st}),ot={label:"",options:e.embedCodes};void 0!==e.settings.embed.preferred_embed&&(ot.value=e.settings.embed.preferred_embed,z.value=!0);var lt=new pn({root:t.root,store:t.store,data:ot,_bind:function(n,i){var a={};!z.value&&n.value&&(e.settings.embed.preferred_embed=i.value,a.settings=e.settings),t._set(a),z={}}});t.root._beforecreate.push((function(){lt._bind({value:1},lt.get())}));var ct={label:X("teams / defaults / embedcode"),help:X("teams / defaults / embedcode / p")},ut=new ze({root:t.root,store:t.store,slots:{default:v()},data:ct}),dt="custom"==e.settings.embed.preferred_embed&&yn(t,e),ft=e.initialized&&wn(t,e),mt={};void 0!==e.settings.previewWidths&&(mt.value=e.settings.previewWidths,R.value=!0);var pt=new gn({root:t.root,store:t.store,data:mt,_bind:function(n,i){var a={};!R.value&&n.value&&(e.settings.previewWidths=i.value,a.settings=e.settings),t._set(a),R={}}});t.root._beforecreate.push((function(){pt._bind({value:1},pt.get())}));var ht={label:X("teams / editor / preview-widths"),help:X("teams / editor / preview-widths / help")},vt=new ze({root:t.root,store:t.store,slots:{default:v()},data:ht});return{c:function(){n=g("div"),i=g("div"),a=g("p"),s=_("\n\n        "),r=g("input"),D._fragment.c(),o=_("\n\n        "),F._fragment.c(),G._fragment.c(),d=_("\n\n        "),f=g("h3"),m=_(E),p=_("\n\n        "),Z._fragment.c(),Q._fragment.c(),h=_("\n\n        "),tt._fragment.c(),nt._fragment.c(),b=_("\n\n        "),at._fragment.c(),rt._fragment.c(),y=_("\n\n        "),lt._fragment.c(),ut._fragment.c(),k=_("\n\n        "),dt&&dt.c(),x=_(" "),ft&&ft.c(),C=_("\n\n        "),M=g("h3"),O=_(W),A=_("\n\n        "),pt._fragment.c(),vt._fragment.c(),H(a,"margin-bottom","10px"),w(r,"input",B),N(r,"type","text"),r.placeholder="",i.className="span6",n.className="row"},m:function(t,u){c(t,n,u),l(n,i),l(i,a),a.innerHTML=L,l(i,s),l(D._slotted.default,r),r.value=e.team.name,D._mount(i,null),l(i,o),F._mount(G._slotted.default,null),G._mount(i,null),l(i,d),l(i,f),l(f,m),l(i,p),Z._mount(Q._slotted.default,null),Q._mount(i,null),l(i,h),tt._mount(nt._slotted.default,null),nt._mount(i,null),l(i,b),at._mount(rt._slotted.default,null),rt._mount(i,null),l(i,y),lt._mount(ut._slotted.default,null),ut._mount(i,null),l(i,k),dt&&dt.m(i,null),l(i,x),ft&&ft.m(i,null),l(i,C),l(i,M),l(M,O),l(i,A),pt._mount(vt._slotted.default,null),vt._mount(i,null)},p:function(n,a){e=a,!U&&n.team&&(r.value=e.team.name);var s={};!j.value&&n.settings&&(s.value=e.settings.folders,j.value=void 0!==e.settings.folders),F._set(s),j={};var o={};n.themes&&(o.options=e.themes),!P.value&&n.defaultTheme&&(o.value=e.defaultTheme,P.value=void 0!==e.defaultTheme),Z._set(o),P={};var l={};n.folders&&(l.options=e.folders),!I.value&&n.settings&&(l.value=e.settings.default.folder,I.value=void 0!==e.settings.default.folder),tt._set(l),I={};var c={};n.localeOptions&&(c.options=e.localeOptions),!S.value&&n.settings&&(c.value=e.settings.default.locale,S.value=void 0!==e.settings.default.locale),at._set(c),S={};var u={};n.embedCodes&&(u.options=e.embedCodes),!z.value&&n.settings&&(u.value=e.settings.embed.preferred_embed,z.value=void 0!==e.settings.embed.preferred_embed),lt._set(u),z={},"custom"==e.settings.embed.preferred_embed?dt?dt.p(n,e):((dt=yn(t,e)).c(),dt.m(i,x)):dt&&(dt.d(1),dt=null),e.initialized?ft?ft.p(n,e):((ft=wn(t,e)).c(),ft.m(i,C)):ft&&(ft.d(1),ft=null);var d={};!R.value&&n.settings&&(d.value=e.settings.previewWidths,R.value=void 0!==e.settings.previewWidths),pt._set(d),R={}},d:function(t){t&&u(n),T(r,"input",B),D.destroy(),F.destroy(),G.destroy(),Z.destroy(),Q.destroy(),tt.destroy(),nt.destroy(),at.destroy(),rt.destroy(),lt.destroy(),ut.destroy(),dt&&dt.d(),ft&&ft.d(),pt.destroy(),vt.destroy()}}}(this,this._state),this.root._oncreate.push((function(){bn.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Nn(t){var e=t-1;return e*e*e+1}function kn(t,e){var n=e.delay;void 0===n&&(n=0);var i=e.duration;void 0===i&&(i=400);var a=e.easing;void 0===a&&(a=Nn);var s=getComputedStyle(t),r=+s.opacity,o=parseFloat(s.height),l=parseFloat(s.paddingTop),c=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),d=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:n,duration:i,easing:a,css:function(t){return"overflow: hidden;opacity: "+Math.min(20*t,1)*r+";height: "+t*o+"px;padding-top: "+t*l+"px;padding-bottom: "+t*c+"px;margin-top: "+t*u+"px;margin-bottom: "+t*d+"px;border-top-width: "+t*f+"px;border-bottom-width: "+t*m+"px;"}}}s(ln.prototype,G),s(pn.prototype,G),s(gn.prototype,G),gn.prototype._recompute=function(t,e){var n,i;(t.widthOptions||t.inputWidths)&&this._differs(e.value,e.value=(i=(n=e).widthOptions,n.inputWidths.map((function(t,e){return t||i[e].width}))))&&(t.value=!0)},s(Tn.prototype,G),Tn.prototype._recompute=function(t,e){var n;t.locales&&this._differs(e.localeOptions,e.localeOptions=(n=e.locales,[{value:null,label:X("teams / defaults / none","organizations")}].concat(i(n))))&&(t.localeOptions=!0)};function xn(){this.set({hasSlotContent:this.options.slots&&this.options.slots.default})}function Cn(t,e){var n,i={type:e.helpType||"help"},a=new en({root:t.root,store:t.store,slots:{default:v()},data:i});return{c:function(){n=g("div"),a._fragment.c()},m:function(t,i){l(a._slotted.default,n),n.innerHTML=e.help,a._mount(t,i)},p:function(t,e){t.help&&(n.innerHTML=e.help);var i={};t.helpType&&(i.type=e.helpType||"help"),a._set(i)},d:function(t){a.destroy(t)}}}function Hn(t,e){var n,i,a=e.hasSlotContent&&(!e.disabled||"on"==e.disabledState)&&e.effectiveValue&&!e.indeterminate&&On(t);return{c:function(){a&&a.c(),n=y()},m:function(t,e){a&&a.i(t,e),c(t,n,e),i=!0},p:function(e,i){!i.hasSlotContent||i.disabled&&"on"!=i.disabledState||!i.effectiveValue||i.indeterminate?a&&(E(),a.o((function(){a.d(1),a=null}))):(a||(a=On(t)).c(),a.i(n.parentNode,n))},i:function(t,e){i||this.m(t,e)},o:o,d:function(t){a&&a.d(t),t&&u(n)}}}function Mn(t,e){var n,i,a,s;return{c:function(){n=g("div"),(i=g("div")).className="disabled-msg svelte-yrij0p"},m:function(t,a){c(t,n,a),l(n,i),i.innerHTML=e.disabledMessage,s=!0},p:function(t,e){s&&!t.disabledMessage||(i.innerHTML=e.disabledMessage)},i:function(e,i){s||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((function(){a||(a=U(t,n,kn,{},!0)),a.run(1)}))),this.m(e,i))},o:function(e){s&&(a||(a=U(t,n,kn,{},!1)),a.run(0,(function(){e(),a=null})),s=!1)},d:function(t){t&&(u(n),a&&a.abort())}}}function On(t,e){var n,i,a,s=t._slotted.default;return{c:function(){(n=g("div")).className="switch-content svelte-yrij0p"},m:function(t,e){c(t,n,e),s&&l(n,s),a=!0},i:function(e,s){a||(t.root._intro&&(i&&i.invalidate(),t.root._aftercreate.push((function(){i||(i=U(t,n,kn,{},!0)),i.run(1)}))),this.m(e,s))},o:function(e){a&&(i||(i=U(t,n,kn,{},!1)),i.run(0,(function(){e(),i=null})),a=!1)},d:function(t){t&&u(n),s&&m(n,s),t&&i&&i.abort()}}}function An(t){var e=this;D(this,t),this._state=s({value:!1,help:"",helpType:!1,disabledMessage:"",disabledState:"auto",disabled:!1,inverted:!1,highlight:!1,indeterminate:!1,hasSlotContent:!1,uid:""},t.data),this._recompute({value:1,inverted:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=function(t,e){var n,i,a,s,r,o,d,m,p,h,v,b,y,k=e.help&&Cn(t,e);function x(){t.set({indeterminate:r.indeterminate})}function C(e){t.toggle()}var H=[Mn,Hn],M=[];function O(t){return t.disabled&&t.disabledMessage?0:1}return b=O(e),y=M[b]=H[b](t,e),{c:function(){n=g("div"),k&&k.c(),i=_("\n\n    "),a=g("label"),s=g("button"),r=g("input"),d=_("\n            "),m=g("span"),p=_("\n        "),h=g("noscript"),v=_("\n\n    "),y.c(),w(r,"change",x),"indeterminate"in e||t.root._beforecreate.push(x),r.className=o="\n                    "+(e.disabled&&"on"==e.disabledState?"disabled-force-checked":e.disabled&&"off"==e.disabledState?"disabled-force-unchecked":"")+"\n                 svelte-yrij0p",r.disabled=e.disabled,r.checked=e.effectiveValue,N(r,"type","checkbox"),m.className="slider svelte-yrij0p",w(s,"click",C),s.className="switch svelte-yrij0p",a.className="switch-outer svelte-yrij0p",A(a,"disabled",e.disabled),n.className="vis-option-type-switch svelte-yrij0p",n.dataset.uid=e.uid},m:function(t,o){c(t,n,o),k&&k.m(n,null),l(n,i),l(n,a),l(a,s),l(s,r),r.indeterminate=e.indeterminate,l(s,d),l(s,m),l(a,p),l(a,h),h.insertAdjacentHTML("afterend",e.label),l(n,v),M[b].i(n,null)},p:function(e,s){s.help?k?k.p(e,s):((k=Cn(t,s)).c(),k.m(n,i)):k&&(k.d(1),k=null),e.indeterminate&&(r.indeterminate=s.indeterminate),(e.disabled||e.disabledState)&&o!==(o="\n                    "+(s.disabled&&"on"==s.disabledState?"disabled-force-checked":s.disabled&&"off"==s.disabledState?"disabled-force-unchecked":"")+"\n                 svelte-yrij0p")&&(r.className=o),e.disabled&&(r.disabled=s.disabled),e.effectiveValue&&(r.checked=s.effectiveValue),e.label&&(f(h),h.insertAdjacentHTML("afterend",s.label)),e.disabled&&A(a,"disabled",s.disabled);var l=b;(b=O(s))===l?M[b].p(e,s):(E(),y.o((function(){M[l].d(1),M[l]=null})),(y=M[b])||(y=M[b]=H[b](t,s)).c(),y.i(n,null)),e.uid&&(n.dataset.uid=s.uid)},d:function(t){t&&u(n),k&&k.d(),T(r,"change",x),T(s,"click",C),M[b].d()}}}(this,this._state),this.root._oncreate.push((function(){xn.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Ln(t,e){var n,i=new en({root:t.root,store:t.store,slots:{default:v()}});return{c:function(){n=g("div"),i._fragment.c()},m:function(t,a){l(i._slotted.default,n),n.innerHTML=e.help,i._mount(t,a)},p:function(t,e){t.help&&(n.innerHTML=e.help)},d:function(t){i.destroy(t)}}}function Un(t,e){var n,i,a,s;return{c:function(){n=g("div"),(i=g("div")).className="disabled-msg svelte-1rmafvf"},m:function(t,a){c(t,n,a),l(n,i),i.innerHTML=e.disabledMessage,s=!0},p:function(t,e){s&&!t.disabledMessage||(i.innerHTML=e.disabledMessage)},i:function(e,i){s||(t.root._intro&&(a&&a.invalidate(),t.root._aftercreate.push((function(){a||(a=U(t,n,kn,{},!0)),a.run(1)}))),this.m(e,i))},o:function(e){s&&(a||(a=U(t,n,kn,{},!1)),a.run(0,(function(){e(),a=null})),s=!1)},d:function(t){t&&(u(n),a&&a.abort())}}}function jn(t){D(this,t),this._state=s({value:!1,disabled:!1,faded:!1,compact:!1,indeterminate:!1,disabledMessage:"",help:!1,uid:""},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s,r,o,d,f,m,p=e.help&&Ln(t,e);function h(){t.set({value:s.checked,indeterminate:s.indeterminate})}var v=e.disabled&&e.disabledMessage&&Un(t,e);return{c:function(){p&&p.c(),n=_("\n"),i=g("div"),a=g("label"),s=g("input"),r=g("span"),o=_("\n        "),d=_(e.label),m=_("\n    "),v&&v.c(),w(s,"change",h),"value"in e&&"indeterminate"in e||t.root._beforecreate.push(h),N(s,"type","checkbox"),s.disabled=e.disabled,s.className="svelte-1rmafvf",r.className="css-ui svelte-1rmafvf",a.className=f="checkbox "+(e.disabled?"disabled":"")+" "+(e.faded?"faded":"")+" svelte-1rmafvf",i.className="control-group vis-option-group vis-option-type-checkbox svelte-1rmafvf",i.dataset.uid=e.uid,A(i,"is-compact",e.compact)},m:function(t,u){p&&p.m(t,u),c(t,n,u),c(t,i,u),l(i,a),l(a,s),s.checked=e.value,s.indeterminate=e.indeterminate,l(a,r),l(a,o),l(a,d),l(i,m),v&&v.i(i,null)},p:function(e,r){r.help?p?p.p(e,r):((p=Ln(t,r)).c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),e.value&&(s.checked=r.value),e.indeterminate&&(s.indeterminate=r.indeterminate),e.disabled&&(s.disabled=r.disabled),e.label&&C(d,r.label),(e.disabled||e.faded)&&f!==(f="checkbox "+(r.disabled?"disabled":"")+" "+(r.faded?"faded":"")+" svelte-1rmafvf")&&(a.className=f),r.disabled&&r.disabledMessage?(v?v.p(e,r):(v=Un(t,r))&&v.c(),v.i(i,null)):v&&(E(),v.o((function(){v.d(1),v=null}))),e.uid&&(i.dataset.uid=r.uid),e.compact&&A(i,"is-compact",r.compact)},d:function(t){p&&p.d(t),t&&(u(n),u(i)),T(s,"change",h),v&&v.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(An.prototype,G),s(An.prototype,{toggle:function(){var t=this.get(),e=t.disabled,n=t.indeterminate,i=t.inverted,a=t.value,s={value:n?!i:!a,indeterminate:!1};e||(this.set(s),this.fire("change",s))}}),An.prototype._recompute=function(t,e){(t.value||t.inverted)&&this._differs(e.effectiveValue,e.effectiveValue=function(t){var e=t.value;return t.inverted?!e:e}(e))&&(t.effectiveValue=!0)},s(jn.prototype,G);var En={deleteTeam:function(){try{return this.set({deleting:!0}),function(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}($t.delete("/v3/teams/".concat(this.get().team.id)),(function(){window.location="/"}))}catch(t){return Promise.reject(t)}}};function Pn(t,e){var n,i,a,s,r=X("teams / delete / really"),o={},l={label:X("teams / delete / really-yes")};void 0!==e.deleteTeam2&&(l.value=e.deleteTeam2,o.value=!0);var d=new jn({root:t.root,store:t.store,data:l,_bind:function(e,n){var i={};!o.value&&e.value&&(i.deleteTeam2=n.value),t._set(i),o={}}});t.root._beforecreate.push((function(){d._bind({value:1},d.get())}));var f=e.deleteTeam2&&In(t,e);return{c:function(){n=g("p"),i=_("\n\n    "),d._fragment.c(),a=_("\n\n    "),f&&f.c(),s=y()},m:function(t,e){c(t,n,e),n.innerHTML=r,c(t,i,e),d._mount(t,e),c(t,a,e),f&&f.m(t,e),c(t,s,e)},p:function(n,i){e=i;var a={};!o.value&&n.deleteTeam2&&(a.value=e.deleteTeam2,o.value=void 0!==e.deleteTeam2),d._set(a),o={},e.deleteTeam2?f?f.p(n,e):((f=In(t,e)).c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},d:function(t){t&&(u(n),u(i)),d.destroy(t),t&&u(a),f&&f.d(t),t&&u(s)}}}function In(t,e){var n,i,a,s,r,o=X("teams / delete / action");function d(e){t.deleteTeam()}return{c:function(){n=g("button"),i=g("i"),s=_("  "),r=g("noscript"),i.className=a="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"),w(n,"click",d),n.className="btn btn-danger"},m:function(t,e){c(t,n,e),l(n,i),l(n,s),l(n,r),r.insertAdjacentHTML("afterend",o)},p:function(t,e){t.deleting&&a!==(a="fa "+(e.deleting?"fa-spin fa-circle-o-notch":"fa-times"))&&(i.className=a)},d:function(t){t&&u(n),T(n,"click",d)}}}function Sn(t){D(this,t),this._state=s({deleteTeam:!1,deleteTeam2:!1,deleting:!1},t.data),this._intro=!0,this._fragment=function(t,e){var n,i,a,s=X("teams / delete / p"),r={},o=e.deleteTeam&&Pn(t,e),d={label:X("teams / delete / yes")};void 0!==e.deleteTeam&&(d.value=e.deleteTeam,r.value=!0);var f=new An({root:t.root,store:t.store,slots:{default:v()},data:d,_bind:function(e,n){var i={};!r.value&&e.value&&(i.deleteTeam=n.value),t._set(i),r={}}});return t.root._beforecreate.push((function(){f._bind({value:1},f.get())})),{c:function(){n=g("p"),i=_("\n\n"),o&&o.c(),a=y(),f._fragment.c()},m:function(t,e){c(t,n,e),n.innerHTML=s,c(t,i,e),o&&o.m(f._slotted.default,null),l(f._slotted.default,a),f._mount(t,e)},p:function(n,i){(e=i).deleteTeam?o?o.p(n,e):((o=Pn(t,e)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null);var s={};!r.value&&n.deleteTeam&&(s.value=e.deleteTeam,r.value=void 0!==e.deleteTeam),f._set(s),r={}},d:function(t){t&&(u(n),u(i)),o&&o.d(),f.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function zn(t){D(this,t),this._state=s({disabled:!1,width:null,labelWidth:null,options:[],optgroups:[],valign:"middle",inline:!1,help:null,miniHelp:null,uid:""},t.data),this._recompute({inline:1,width:1,labelWidth:1},this._state),this._intro=!0,this._fragment=function(t,e){var n={},i={width:e.controlWidth,class:"mt-1"};void 0!==e.value&&(i.value=e.value,n.value=!0),void 0!==e.disabled&&(i.disabled=e.disabled,n.disabled=!0),void 0!==e.options&&(i.options=e.options,n.options=!0),void 0!==e.optgroups&&(i.optgroups=e.optgroups,n.optgroups=!0);var a=new Ht({root:t.root,store:t.store,data:i,_bind:function(e,i){var a={};!n.value&&e.value&&(a.value=i.value),!n.disabled&&e.disabled&&(a.disabled=i.disabled),!n.options&&e.options&&(a.options=i.options),!n.optgroups&&e.optgroups&&(a.optgroups=i.optgroups),t._set(a),n={}}});t.root._beforecreate.push((function(){a._bind({value:1,disabled:1,options:1,optgroups:1},a.get())})),a.on("change",(function(e){t.fire("change",e)}));var s={type:"select",label:e.label,labelWidth:e.labelWidth,valign:e.valign,disabled:e.disabled,inline:e.inline,miniHelp:e.miniHelp,help:e.help,uid:e.uid,helpClass:"mt-1"},r=new ln({root:t.root,store:t.store,slots:{default:v()},data:s});return{c:function(){a._fragment.c(),r._fragment.c()},m:function(t,e){a._mount(r._slotted.default,null),r._mount(t,e)},p:function(t,i){e=i;var s={};t.controlWidth&&(s.width=e.controlWidth),!n.value&&t.value&&(s.value=e.value,n.value=void 0!==e.value),!n.disabled&&t.disabled&&(s.disabled=e.disabled,n.disabled=void 0!==e.disabled),!n.options&&t.options&&(s.options=e.options,n.options=void 0!==e.options),!n.optgroups&&t.optgroups&&(s.optgroups=e.optgroups,n.optgroups=void 0!==e.optgroups),a._set(s),n={};var o={};t.label&&(o.label=e.label),t.labelWidth&&(o.labelWidth=e.labelWidth),t.valign&&(o.valign=e.valign),t.disabled&&(o.disabled=e.disabled),t.inline&&(o.inline=e.inline),t.miniHelp&&(o.miniHelp=e.miniHelp),t.help&&(o.help=e.help),t.uid&&(o.uid=e.uid),r._set(o)},d:function(t){a.destroy(),r.destroy(t)}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function Wn(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}s(Sn.prototype,G),s(Sn.prototype,En),s(zn.prototype,G),zn.prototype._recompute=function(t,e){var n,i,a;(t.inline||t.width)&&this._differs(e.controlWidth,e.controlWidth=(i=(n=e).inline,a=n.width,i?a||"auto":a))&&(t.controlWidth=!0),(t.inline||t.labelWidth)&&this._differs(e.labelWidth,e.labelWidth=function(t){var e=t.inline,n=t.labelWidth;return e?n||"auto":n}(e))&&(t.labelWidth=!0)};var Rn={edit:function(t){this.get().editId===t?(this.set({editId:!1}),this.update(t)):this.set({editId:t})},addProduct:function(){try{var t=this,e=t.get(),n=e.team,i=e.addProduct;return t.set({addingProduct:!0}),Wn($t("/v3/teams/".concat(n.id,"/products"),{method:"post",payload:{productId:i}}),(function(){return Wn($t("/v3/teams/".concat(n.id,"/products")),(function(e){t.set({products:e.list,addingProduct:!1})}))}))}catch(t){return Promise.reject(t)}},remove:function(t){try{var e=this;if(!window.confirm("Are you sure you want to remove this product?"))return;return Wn($t("/v3/teams/".concat(e.get().team.id,"/products/").concat(t.id),{method:"delete"}),(function(){var n=e.get().products;n=n.filter((function(e){return e.id!==t.id})),e.set({products:n})}))}catch(t){return Promise.reject(t)}},update:function(t){try{var e=this,n=e.get(),i=n.updating,a=n.products.filter((function(e){return e.id===t}))[0];return i[a.id]=!0,e.set({updating:i}),Wn($t("/v3/teams/".concat(e.get().team.id,"/products/").concat(a.id),{method:"put",payload:{expires:a.expires}}),(function(){(i=e.get().updating)[a.id]=!1,e.set({updating:i})}))}catch(t){return Promise.reject(t)}}};function Bn(){var t=this,e=this.get();$t("/v3/teams/".concat(e.team.id,"/products")).then((function(e){return t.set({loadingTeamProducts:!1,products:e.list})})),$t("/v3/products").then((function(e){return t.set({loadingAllProducts:!1,allProducts:e.list})}))}function qn(t){var e=this._svelte,n=e.component,i=e.ctx;n.remove(i.product)}function Dn(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function Vn(t){var e=this._svelte,n=e.component,i=e.ctx;n.edit(i.product.id)}function Fn(t,e,n){var i=Object.create(t);return i.product=e[n],i.each_value=e,i.i=n,i}function $n(t,e){var n;function i(t){return t.loadingTeamProducts||t.loadingAllProducts?Jn:Gn}var a=i(e),s=a(t,e);return{c:function(){s.c(),n=y()},m:function(t,e){s.m(t,e),c(t,n,e)},p:function(e,r){a===(a=i(r))&&s?s.p(e,r):(s.d(1),(s=a(t,r)).c(),s.m(n.parentNode,n))},d:function(t){s.d(t),t&&u(n)}}}function Gn(t,e){var n,i,a=e.products.length>0&&Zn(t,e),s=e.addableProducts.length&&ni(t,e);return{c:function(){a&&a.c(),n=_("\n\n\n"),s&&s.c(),i=y()},m:function(t,e){a&&a.m(t,e),c(t,n,e),s&&s.m(t,e),c(t,i,e)},p:function(e,r){r.products.length>0?a?a.p(e,r):((a=Zn(t,r)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),r.addableProducts.length?s?s.p(e,r):((s=ni(t,r)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d:function(t){a&&a.d(t),t&&u(n),s&&s.d(t),t&&u(i)}}}function Jn(t,e){var n,i,s,r,o=X("teams / products / loading");return{c:function(){n=g("p"),i=g("i"),s=_("   "),r=g("noscript"),i.className="fa fa-spin fa-circle-o-notch"},m:function(t,e){c(t,n,e),l(n,i),l(n,s),l(n,r),r.insertAdjacentHTML("afterend",o)},p:a,d:function(t){t&&u(n)}}}function Zn(t,e){for(var n,i=e.products,a=[],s=0;s<i.length;s+=1)a[s]=ei(t,Fn(e,i,s));var r={columnHeaders:e.productHeaders},o=new bt({root:t.root,store:t.store,slots:{default:v()},data:r});return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=y(),o._fragment.c()},m:function(t,e){for(var i=0;i<a.length;i+=1)a[i].m(o._slotted.default,null);l(o._slotted.default,n),o._mount(t,e)},p:function(e,s){if(e.editId||e.products||e.updating){i=s.products;for(var r=0;r<i.length;r+=1){var l=Fn(s,i,r);a[r]?a[r].p(e,l):(a[r]=ei(t,l),a[r].c(),a[r].m(n.parentNode,n))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}var c={};e.productHeaders&&(c.columnHeaders=s.productHeaders),o._set(c)},d:function(t){h(a,t),o.destroy(t)}}}function Xn(t,e){var n,i=e.product.expires||X("teams / products / never");return{c:function(){n=_(i)},m:function(t,e){c(t,n,e)},p:function(t,e){t.products&&i!==(i=e.product.expires||X("teams / products / never"))&&C(n,i)},d:function(t){t&&u(n)}}}function Kn(t,e){var n,i=!1;function a(){i=!0,e.each_value[e.i].expires=n.value,t.set({products:e.products}),i=!1}return{c:function(){w(n=g("input"),"input",a),N(n,"type","text")},m:function(t,i){c(t,n,i),n.value=e.product.expires},p:function(t,a){e=a,!i&&t.products&&(n.value=e.product.expires)},d:function(t){t&&u(n),T(n,"input",a)}}}function Qn(t,e){var n,i,a,s,r,o,d,f,m,p=X("teams / edit"),h=X("teams / remove");return{c:function(){n=g("button"),i=g("i"),a=_("  "),s=_(p),r=_("\n\n            "),o=g("button"),d=g("i"),f=_("  "),m=_(h),i.className="fa fa-edit",n._svelte={component:t,ctx:e},w(n,"click",Dn),n.className="btn",d.className="fa fa-times",o._svelte={component:t,ctx:e},w(o,"click",qn),o.className="btn"},m:function(t,e){c(t,n,e),l(n,i),l(n,a),l(n,s),c(t,r,e),c(t,o,e),l(o,d),l(o,f),l(o,m)},p:function(t,i){e=i,n._svelte.ctx=e,o._svelte.ctx=e},d:function(t){t&&u(n),T(n,"click",Dn),t&&(u(r),u(o)),T(o,"click",qn)}}}function Yn(t,e){var n,i,s,r,o=X("teams / save");return{c:function(){n=g("button"),i=g("i"),s=_("  "),r=_(o),i.className="fa fa-spin fa-circle-o-notch",n.disabled=!0,n.className="btn btn-primary"},m:function(t,e){c(t,n,e),l(n,i),l(n,s),l(n,r)},p:a,d:function(t){t&&u(n)}}}function ti(t,e){var n,i,a,s,r=X("teams / save");return{c:function(){n=g("button"),i=g("i"),a=_("  "),s=_(r),i.className="fa fa-check",n._svelte={component:t,ctx:e},w(n,"click",Vn),n.className="btn btn-primary"},m:function(t,e){c(t,n,e),l(n,i),l(n,a),l(n,s)},p:function(t,i){e=i,n._svelte.ctx=e},d:function(t){t&&u(n),T(n,"click",Vn)}}}function ei(t,e){var n,i,a,s,r,o,d,f,m,p,h=e.product.id,v=e.product.name;function b(t){return t.editId===t.product.id?Kn:Xn}var y=b(e),w=y(t,e);function T(t){return t.editId===t.product.id?ti:t.updating[t.product.id]?Yn:Qn}var N=T(e),k=N(t,e);return{c:function(){n=g("tr"),i=g("td"),a=_(h),s=_("\n        "),r=g("td"),o=_(v),d=_("\n        "),f=g("td"),w.c(),m=_("\n        "),p=g("td"),k.c()},m:function(t,e){c(t,n,e),l(n,i),l(i,a),l(n,s),l(n,r),l(r,o),l(n,d),l(n,f),w.m(f,null),l(n,m),l(n,p),k.m(p,null)},p:function(e,n){e.products&&h!==(h=n.product.id)&&C(a,h),e.products&&v!==(v=n.product.name)&&C(o,v),y===(y=b(n))&&w?w.p(e,n):(w.d(1),(w=y(t,n)).c(),w.m(f,null)),N===(N=T(n))&&k?k.p(e,n):(k.d(1),(k=N(t,n)).c(),k.m(p,null))},d:function(t){t&&u(n),w.d(),k.d()}}}function ni(t,e){var n,i,a,s={},r={label:X("teams / products / add-product"),options:e.addableProducts};void 0!==e.addProduct&&(r.value=e.addProduct,s.value=!0);var o=new zn({root:t.root,store:t.store,data:r,_bind:function(e,n){var i={};!s.value&&e.value&&(i.addProduct=n.value),t._set(i),s={}}});t.root._beforecreate.push((function(){o._bind({value:1},o.get())}));var d=e.addProduct&&ii(t,e);return{c:function(){n=g("div"),i=g("div"),o._fragment.c(),a=_("\n\n    "),d&&d.c(),H(i,"display","block"),H(n,"display","flex")},m:function(t,e){c(t,n,e),l(n,i),o._mount(i,null),l(n,a),d&&d.m(n,null)},p:function(i,a){e=a;var r={};i.addableProducts&&(r.options=e.addableProducts),!s.value&&i.addProduct&&(r.value=e.addProduct,s.value=void 0!==e.addProduct),o._set(r),s={},e.addProduct?d?d.p(i,e):((d=ii(t,e)).c(),d.m(n,null)):d&&(d.d(1),d=null)},d:function(t){t&&u(n),o.destroy(),d&&d.d()}}}function ii(t,e){var n,i,a,s,r,o,d=X("teams / products / add");function f(e){t.addProduct()}return{c:function(){n=g("div"),i=g("button"),a=g("i"),r=_("\n            "),o=g("noscript"),a.className=s="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"),w(i,"click",f),i.className="btn btn-primary",H(i,"margin-left","10px"),H(n,"display","block")},m:function(t,e){c(t,n,e),l(n,i),l(i,a),l(i,r),l(i,o),o.insertAdjacentHTML("afterend",d)},p:function(t,e){t.addingProduct&&s!==(s="fa "+(e.addingProduct?"fa fa-spin fa-circle-o-notch":"fa-plus"))&&(a.className=s)},d:function(t){t&&u(n),T(i,"click",f)}}}function ai(t){var e,n,i,a,o,l,d,f=this;D(this,t),this._state=s({productHeaders:[{title:X("teams / products / id"),width:"10%"},{title:X("teams / products / name"),width:"30%"},{title:X("teams / products / expires"),width:"30%"},{title:X("teams / products / actions"),width:"30%"}],editId:!1,updating:{},loadingTeamProducts:!0,loadingAllProducts:!0},t.data),this._recompute({products:1,allProducts:1},this._state),this._intro=!0,this._fragment=(e=this,n=this._state,l=X("teams / products / p"),d=n.isAdmin&&$n(e,n),{c:function(){i=g("p"),a=_("\n\n"),d&&d.c(),o=y(),H(i,"margin-bottom","10px")},m:function(t,e){c(t,i,e),i.innerHTML=l,c(t,a,e),d&&d.m(t,e),c(t,o,e)},p:function(t,n){n.isAdmin?d?d.p(t,n):((d=$n(e,n)).c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},d:function(t){t&&(u(i),u(a)),d&&d.d(t),t&&u(o)}}),this.root._oncreate.push((function(){Bn.call(f),f.fire("update",{changed:r({},f._state),current:f._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}s(ai.prototype,G),s(ai.prototype,Rn),ai.prototype._recompute=function(t,e){var n,i,a;(t.products||t.allProducts)&&this._differs(e.addableProducts,e.addableProducts=(i=(n=e).products,(a=n.allProducts)&&i?a.filter((function(t){return!i.filter((function(e){return e.id===t.id})).length})).map((function(t){return{value:t.id,label:t.name}})):[]))&&(t.addableProducts=!0)};function si(t){return"function"==typeof t?t():t}function ri(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}var oi={},li=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,s=void 0,r=[];return function(){var l=si(e),c=(new Date).getTime(),u=!i||c-i>l;i=c;for(var d=arguments.length,f=Array(d),m=0;m<d;m++)f[m]=arguments[m];if(u&&n.leading)return n.accumulate?Promise.resolve(t.call(this,[f])).then((function(t){return t[0]})):Promise.resolve(t.call.apply(t,[this].concat(f)));if(a?clearTimeout(s):a=ri(),r.push(f),s=setTimeout(o.bind(this),l),n.accumulate){var p=r.length-1;return a.promise.then((function(t){return t[p]}))}return a.promise};function o(){var e=a;clearTimeout(s),Promise.resolve(n.accumulate?t.call(this,r):t.apply(this,r[r.length-1])).then(e.resolve,e.reject),r=[],a=null}}((function(t,e,n){var i=JSON.stringify({team:t,settings:e,defaultTheme:n});return oi[t.id]===i?(oi[t.id]=i,new Promise((function(t){t()}))):(oi[t.id]=i,Jt("/v3/teams/".concat(t.id),{payload:{name:t.name,defaultTheme:n,settings:e}}))}),500);function ci(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ui(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ci(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ci(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var di,fi={id:"settings",title:X("teams / tab / settings"),icon:"fa fa-gears",group:X("teams / group / users"),order:10,h1:X("teams / defaults / h1"),ui:Tn,data:{}},mi={id:"members",title:X("teams / tab / members"),icon:"im im-users",group:X("teams / group / users"),order:20,h1:X("teams / h1"),ui:Xe},pi=!1;var hi={onTabChange:function(t,e){var n=this,i=t.team,a=t.settings,s=t.defaultTheme;this.set({error:null}),li(i,a,s).then((function(){n.set({team:i,settings:a,defaultTheme:s}),e&&e.saved&&e.saved()})).catch((function(t){n.set({error:X("teams / error","core",t.message)}),console.error(t)}))},setTab:function(t){var e=this,n=this.get().groups,i=!1;n.forEach((function(n){n.tabs.forEach((function(n){n.id===t&&(e.refs.navTabs.activateTab(n),i=!0)}))})),i||this.set({activeTab:fi})}};function vi(){var t=this;di=this;var e=window.location.pathname.split("/").slice(-1)[0]||"settings";this.setTab(e),window.addEventListener("popstate",(function(e){var n=e.state;pi=!0,setTimeout((function(){return pi=!1}),100),t.setTab(n.id)}))}function gi(t){var e=t.changed,n=t.current;e.activeTab&&n.activeTab&&!pi&&window.history.pushState({id:n.activeTab.id},"","/team/".concat(n.team.id,"/").concat(n.activeTab.id))}function bi(t,e){var n,i=e.activeTab.h1;return{c:function(){(n=g("h2")).className="svelte-kailtr"},m:function(t,e){c(t,n,e),n.innerHTML=i},p:function(t,e){t.activeTab&&i!==(i=e.activeTab.h1)&&(n.innerHTML=i)},d:function(t){t&&u(n)}}}function _i(t,e){var n,i;return{c:function(){n=g("div"),i=_(e.error),n.className="alert alert-danger"},m:function(t,e){c(t,n,e),l(n,i)},p:function(t,e){t.error&&C(i,e.error)},d:function(t){t&&u(n)}}}function yi(t){var e=this;D(this,t),this.refs={},this._state=s({allTabs:[fi,mi,{id:"delete",title:X("teams / tab / deleteTeam"),icon:"fa fa-times",group:X("teams / group / advanced"),order:80,h1:X("teams / delete / h1"),ui:Sn,ownerOnly:!0},{id:"products",title:X("teams / tab / adminProducts"),icon:"fa fa-list-alt",group:X("teams / group / internal"),order:90,h1:X("teams / products / h1"),ui:ai,adminOnly:!0}],pluginTabs:[],activeTab:null,ui:Tn,team:{name:""},settings:{},users:[],userId:null,visualizations:[],visualizationsArchive:[],error:null},t.data),this._recompute({team:1,activeTab:1,allTabs:1,pluginTabs:1,isAdmin:1,role:1,tabs:1,users:1,userId:1,settings:1,defaultTheme:1,hasThemeWithLogo:1,themes:1,folders:1,locales:1,visualizations:1,visualizationsArchive:1},this._state),this._intro=!0,this._handlers.state=[gi],gi.call(this,{changed:r({},this._state),current:this._state}),this._fragment=function(t,e){var n,i,a,s,r,o,d,f,m,p,h,b,y,w,T,k,x,M,O,A,L,U,j,E,P,I,S,z,W=X("account / my-teams"),R=X("nav / team / charts"),B={};document.title=n=e.pageTitle+" | Datawrapper";var q=e.activeTab&&e.activeTab.h1&&bi(t,e),D=e.error&&_i(t,e),V={basePath:"team/"+e.team.id,groups:e.groups};void 0!==e.activeTab&&(V.activeTab=e.activeTab,B.activeTab=!0);var F=new ot({root:t.root,store:t.store,slots:{default:v(),belowMenu:v(),aboveContent:v()},data:V,_bind:function(e,n){var i={};!B.activeTab&&e.activeTab&&(i.activeTab=n.activeTab),t._set(i),B={}}});return t.root._beforecreate.push((function(){F._bind({activeTab:1},F.get())})),t.refs.navTabs=F,{c:function(){i=_("\n\n"),a=g("div"),s=g("div"),r=g("h1"),o=_(e.title),d=_("\n\n"),f=g("div"),m=g("div"),p=g("div"),q&&q.c(),h=_(" "),D&&D.c(),b=_("\n            "),y=g("div"),w=g("hr"),T=_("\n                "),k=g("ul"),x=g("li"),M=g("a"),O=g("i"),A=_(" "),L=_(W),U=_("\n                    "),j=g("li"),E=g("a"),P=g("i"),I=_(" "),S=_(R),F._fragment.c(),r.className="title",H(r,"margin-bottom","18px"),s.className="span12 admin svelte-kailtr",a.className="row",N(p,"slot","aboveContent"),O.className="fa fa-fw fa-arrow-left",M.href="/account/teams",x.className="svelte-kailtr",P.className="fa fa-fw fa-arrow-left",E.href=z="/team/"+e.team.id,j.className="svelte-kailtr",k.className="unstyled svelte-kailtr",N(y,"slot","belowMenu"),m.className="visconfig",f.className="settings-section dw-create-visualize chart-editor chart-editor-web admin svelte-kailtr"},m:function(t,e){c(t,i,e),c(t,a,e),l(a,s),l(s,r),l(r,o),c(t,d,e),c(t,f,e),l(f,m),l(F._slotted.aboveContent,p),q&&q.m(p,null),l(p,h),D&&D.m(p,null),l(F._slotted.default,b),l(F._slotted.belowMenu,y),l(y,w),l(y,T),l(y,k),l(k,x),l(x,M),l(M,O),l(M,A),l(M,L),l(k,U),l(k,j),l(j,E),l(E,P),l(E,I),l(E,S),F._mount(m,null)},p:function(i,a){e=a,i.pageTitle&&n!==(n=e.pageTitle+" | Datawrapper")&&(document.title=n),i.title&&C(o,e.title),e.activeTab&&e.activeTab.h1?q?q.p(i,e):((q=bi(t,e)).c(),q.m(p,h)):q&&(q.d(1),q=null),e.error?D?D.p(i,e):((D=_i(t,e)).c(),D.m(p,null)):D&&(D.d(1),D=null),i.team&&z!==(z="/team/"+e.team.id)&&(E.href=z);var s={};i.team&&(s.basePath="team/"+e.team.id),i.groups&&(s.groups=e.groups),!B.activeTab&&i.activeTab&&(s.activeTab=e.activeTab,B.activeTab=void 0!==e.activeTab),F._set(s),B={}},d:function(e){e&&(u(i),u(a),u(d),u(f)),q&&q.d(),D&&D.d(),F.destroy(),t.refs.navTabs===F&&(t.refs.navTabs=null)}}}(this,this._state),this.root._oncreate.push((function(){vi.call(e),e.fire("update",{changed:r({},e._state),current:e._state})})),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),B(this))}function wi(t,e){this._handlers={},this._dependents=[],this._computed=S(),this._sortedComputedProperties=[],this._state=s({},t),this._differs=e&&e.immutable?W:z}return s(yi.prototype,G),s(yi.prototype,hi),yi.prototype._recompute=function(t,e){var n,i,a;(t.team||t.activeTab)&&this._differs(e.pageTitle,e.pageTitle=(i=(n=e).team,a=n.activeTab,"".concat(a?a.h1:""," | ").concat(K(i.name,17,8))))&&(t.pageTitle=!0),t.team&&this._differs(e.title,e.title=function(t){var e=t.team;return"".concat(K(e.name,17,8)," » ").concat(X("nav / team / settings"))}(e))&&(t.title=!0),(t.allTabs||t.team||t.pluginTabs||t.isAdmin||t.role)&&this._differs(e.tabs,e.tabs=function(t){var e=t.allTabs,n=t.team,i=t.pluginTabs,a=t.isAdmin,s=t.role;return[].concat(e,i).filter((function(t){return!(t.adminOnly&&!a)&&!(t.ownerOnly&&!a&&"owner"!==s)})).map((function(t){return ui(ui({},t),{},{h1:t.h1.replace("%team%",n.name)})}))}(e))&&(t.tabs=!0),(t.tabs||t.isAdmin||t.team||t.users||t.userId||t.settings||t.defaultTheme||t.hasThemeWithLogo||t.themes||t.folders||t.locales||t.visualizations||t.visualizationsArchive)&&this._differs(e.groups,e.groups=function(t){var e=t.tabs,n=t.isAdmin,i=t.team,a=t.users,s=t.userId,r=t.settings,o=t.defaultTheme,l=t.hasThemeWithLogo,c=t.themes,u=t.folders,d=t.locales,f=t.visualizations,m=t.visualizationsArchive,p=[];return e.forEach((function(t){t.data=ui({isAdmin:n,team:i,users:a,userId:s,settings:r,defaultTheme:o,hasThemeWithLogo:l,themes:c,folders:u,locales:d,visualizations:f,visualizationsArchive:m},t.data),t.onchange=function(t,e){di.onTabChange(t,e)},function(t,e){var n=t.filter((function(t){return t.title===e}));return n.length?n[0]:(t.push({title:e,tabs:[]}),t[t.length-1])}(p,t.group).tabs.push(t)})),p.forEach((function(t){t.tabs.sort((function(t,e){return t.order-e.order}))})),p}(e))&&(t.groups=!0)},s(wi.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n];e["$"+i]=this._state[i]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,e){var n=this,i=this._state;this._state=s(s({},i),t);for(var a=0;a<this._sortedComputedProperties.length;a+=1)this._sortedComputedProperties[a].update(this._state,e);this.fire("state",{changed:e,previous:i,current:this._state}),this._dependents.filter((function(t){for(var i={},a=!1,s=0;s<t.props.length;s+=1){var r=t.props[s];r in e&&(i["$"+r]=n._state[r],a=!0)}if(a)return t.component._stage(i),!0})).forEach((function(t){t.component.set({})})),this.fire("update",{changed:e,previous:i,current:this._state})},_sortComputedProperties:function(){var t,e=this._computed,n=this._sortedComputedProperties=[],i=S();function a(s){var r=e[s];r&&(r.deps.forEach((function(e){if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(s));a(e)})),i[s]||(i[s]=!0,n.push(r)))}for(var s in this._computed)a(t=s)},compute:function(t,e,n){var i,a=this,r={deps:e,update:function(s,r,o){var l=e.map((function(t){return t in r&&(o=!0),s[t]}));if(o){var c=n.apply(null,l);a._differs(c,i)&&(i=c,r[t]=!0,s[t]=i)}}};this._computed[t]=r,this._sortComputedProperties();var o=s({},this._state),l={};r.update(o,l,!0),this._set(o,l)},fire:R,get:q,on:V,set:function(t){var e=this._state,n=this._changed={},i=!1;for(var a in t){if(this._computed[a])throw new Error("'".concat(a,"' is a read-only computed property"));this._differs(t[a],e[a])&&(n[a]=i=!0)}i&&this._set(t,n)}}),{App:yi,store:new wi({})}}));
